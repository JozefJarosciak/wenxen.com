import json
import base64
import mimetypes
from urllib.parse import unquote

# Embedded static files (will be populated by Terraform)
STATIC_FILES = {
    'index.html': 'PGhlYWQ+DQogIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCB2aWV3cG9ydC1maXQ9Y292ZXIiPg0KICA8YmFzZSBocmVmPSIvdHJhY2tlci8iPg0KICA8dGl0bGU+V2VuWGVuLmNvbSAtIFhlbiBUcmFja2VyIGZvciBFdGhlcmV1bTwvdGl0bGU+DQogIDxzY3JpcHQNCiAgICBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0zLjcuMS5taW4uanMiDQogICAgaW50ZWdyaXR5PSJzaGEyNTYtL0pxVDNTUWZhd1Jjdi9CSUhQVGhrQnZzME9FdnRGRm1xUEYvbFlJL0N4bz0iDQogICAgY3Jvc3NvcmlnaW49ImFub255bW91cyI+PC9zY3JpcHQ+DQogIDxsaW5rIGhyZWY9Imh0dHBzOi8vdW5wa2cuY29tL3RhYnVsYXRvci10YWJsZXNANi4zLjAvZGlzdC9jc3MvdGFidWxhdG9yLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+DQogIDwhLS0gRGFyayB0aGVtZSBmb3IgVGFidWxhdG9yICh0b2dnbGVkIHZpYSBKUykgLS0+DQogIDxsaW5rIGlkPSJ0YWJ1bGF0b3JNaWRuaWdodENzcyIgaHJlZj0iaHR0cHM6Ly91bnBrZy5jb20vdGFidWxhdG9yLXRhYmxlc0A2LjMuMC9kaXN0L2Nzcy90YWJ1bGF0b3JfbWlkbmlnaHQubWluLmNzcyIgcmVsPSJzdHlsZXNoZWV0IiBkaXNhYmxlZD4NCiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9sdXhvbkAzLjQuNC9idWlsZC9nbG9iYWwvbHV4b24ubWluLmpzIj48L3NjcmlwdD4NCiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vdW5wa2cuY29tL3RhYnVsYXRvci10YWJsZXNANi4zLjAvZGlzdC9qcy90YWJ1bGF0b3IubWluLmpzIj48L3NjcmlwdD4NCiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vd2ViM0AxLjcuNS9kaXN0L3dlYjMubWluLmpzIj48L3NjcmlwdD4NCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2ZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5taW4uY3NzIj4NCiAgPCEtLSBEYXJrIHRoZW1lIGZvciBGbGF0cGlja3IgKHRvZ2dsZWQgdmlhIEpTKSAtLT4NCiAgPGxpbmsgaWQ9ImZsYXRwaWNrckRhcmtDc3MiIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9mbGF0cGlja3IvZGlzdC90aGVtZXMvZGFyay5jc3MiIGRpc2FibGVkPg0KICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9mbGF0cGlja3IiPjwvc2NyaXB0Pg0KICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9jaGFydC5qc0A0LjQuMS9kaXN0L2NoYXJ0LnVtZC5taW4uanMiPjwvc2NyaXB0Pg0KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImNzcy9iYXNlLmNzcyI+DQogIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iY3NzL3RoZW1lLWxpZ2h0LmNzcyI+DQogIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iY3NzL3RoZW1lLWRhcmsuY3NzIj4NCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJjc3MvdGhlbWUtcmV0cm8uY3NzIj4NCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJjc3MvdGhlbWUtbWF0cml4LmNzcyI+DQogIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2VjaGFydHNANS9kaXN0L2VjaGFydHMubWluLmpzIj48L3NjcmlwdD4NCiAgPCEtLSBSZXRybyB0aGVtZSBmb250IChDNjQtbGlrZSBtb25vc3BhY2UpIC0tPg0KICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVZUMzIzJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4NCiAgPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9zdmcreG1sIiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3NpbXBsZS1pY29uc0A3L2ljb25zL2V0aGVyZXVtLnN2ZyI+DQoNCg0KPC9oZWFkPg0KPGJvZHk+DQo8ZGl2IGNsYXNzPSJoZWFkZXItY29udHJvbHMiPg0KICA8ZGl2IGNsYXNzPSJ3YWxsZXQtY29udGFpbmVyIj48c3BhbiBpZD0ibmV0d29ya05hbWUiPjwvc3Bhbj4NCiAgICA8YnV0dG9uIGlkPSJjb25uZWN0V2FsbGV0QnRuIj48c3BhbiBpZD0iY29ubmVjdFdhbGxldFRleHQiPkNvbm5lY3QgV2FsbGV0PC9zcGFuPjwvYnV0dG9uPg0KICAgIDxidXR0b24gaWQ9InRvZ2dsZUNvbm5lY3RNYXNrIiBjbGFzcz0id2FsbGV0LXJldmVhbC1idG4iIGFyaWEtbGFiZWw9Ik1hc2sgd2FsbGV0IHRleHQiIHRpdGxlPSJNYXNrIj4NCiAgICAgIDxzdmcgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0yLjEgMy41MUwzLjUxIDIuMWwxOC4zOSAxOC4zOS0xLjQxIDEuNDEtMy4wNi0zLjA2QTExLjMzIDExLjMzIDAgMDExMiAyMGMtNiAwLTEwLTUuMzMtMTAtOCAwLTEuMTMgMS4wMi0zLjA4IDMuMDYtNC44OUwyLjEgMy41MXpNNy41IDguOTFBNy42IDcuNiAwIDAwNCAxMmMwIDEuMiAzIDYgOCA2IDEuNjMgMCAzLjA5LS40MiA0LjM1LTEuMTNsLTEuOC0xLjhBNCA0IDAgMDE4IDEyYzAtLjQzLjA3LS44NS4yLTEuMjRsLS43LS43ek0xMiA2YzYgMCAxMCA1LjMzIDEwIDggMCAuODQtLjQ4IDItMS40MiAzLjIybC0xLjQzLTEuNDNjLjUxLS43Ny44NS0xLjQ4Ljg1LTEuNzkgMC0xLjItMy02LTgtNi0xLjAzIDAtMiAuMi0yLjg5LjU2bC0xLjUtMS41QzkuMTEgNi4zOSAxMC41MSA2IDEyIDZ6bTAgNGEyIDIgMCAwMTEuNzMgM2wtMi43My0yLjczYy4yOS0uMTcuNjItLjI3IDEtLjI3eiIvPjwvc3ZnPg0KICAgIDwvYnV0dG9uPg0KICAgIDwhLS0gSGVhZGVyIGRyb3Bkb3duIG1lbnU6IFRoZW1lIGFuZCBmdXR1cmUgYWN0aW9ucyAtLT4NCiAgICA8ZGl2IGNsYXNzPSJoZWFkZXItbWVudSIgaWQ9ImhlYWRlck1lbnVSb290Ij4NCiAgICAgIDxidXR0b24gaWQ9ImhlYWRlck1lbnVUb2dnbGUiIGNsYXNzPSJtZW51LXRvZ2dsZSIgYXJpYS1oYXNwb3B1cD0idHJ1ZSIgYXJpYS1leHBhbmRlZD0iZmFsc2UiIGFyaWEtY29udHJvbHM9ImhlYWRlck1lbnUiIHRpdGxlPSJNZW51Ij7ilr48L2J1dHRvbj4NCiAgICAgIDxkaXYgaWQ9ImhlYWRlck1lbnUiIGNsYXNzPSJtZW51LXBhbmVsIiByb2xlPSJtZW51IiBoaWRkZW4+DQogICAgICAgIDxkaXYgY2xhc3M9Im1lbnUtc2VjdGlvbiI+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibWVudS10aXRsZSI+VGhlbWUgPHNwYW4gaWQ9InRoZW1lTWVudUN1cnJlbnQiIGNsYXNzPSJtZW51LWN1cnJlbnQiPkRhcms8L3NwYW4+PC9kaXY+DQogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibWVudS1pdGVtIiByb2xlPSJtZW51aXRlbXJhZGlvIiBhcmlhLWNoZWNrZWQ9ImZhbHNlIiBkYXRhLXRoZW1lPSJsaWdodCI+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0ibWVudS1pY29uIiBhcmlhLWhpZGRlbj0idHJ1ZSI+4piA77iPPC9zcGFuPg0KICAgICAgICAgICAgPHNwYW4+TGlnaHQ8L3NwYW4+DQogICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibWVudS1pdGVtIiByb2xlPSJtZW51aXRlbXJhZGlvIiBhcmlhLWNoZWNrZWQ9InRydWUiIGRhdGEtdGhlbWU9ImRhcmsiPg0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1lbnUtaWNvbiIgYXJpYS1oaWRkZW49InRydWUiPvCfjJk8L3NwYW4+DQogICAgICAgICAgICA8c3Bhbj5EYXJrPC9zcGFuPg0KICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgIDxidXR0b24gY2xhc3M9Im1lbnUtaXRlbSIgcm9sZT0ibWVudWl0ZW1yYWRpbyIgYXJpYS1jaGVja2VkPSJmYWxzZSIgZGF0YS10aGVtZT0icmV0cm8iPg0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1lbnUtaWNvbiIgYXJpYS1oaWRkZW49InRydWUiPvCflbnvuI88L3NwYW4+DQogICAgICAgICAgICA8c3Bhbj5SZXRybzwvc3Bhbj4NCiAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJtZW51LWl0ZW0iIHJvbGU9Im1lbnVpdGVtcmFkaW8iIGFyaWEtY2hlY2tlZD0iZmFsc2UiIGRhdGEtdGhlbWU9Im1hdHJpeCI+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0ibWVudS1pY29uIiBhcmlhLWhpZGRlbj0idHJ1ZSI+8J+Smjwvc3Bhbj4NCiAgICAgICAgICAgIDxzcGFuPk1hdHJpeDwvc3Bhbj4NCiAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgPC9kaXY+DQo8L2Rpdj4NCjxoMSBjbGFzcz0ic2l0ZS10aXRsZSI+DQogIDxzcGFuIGNsYXNzPSJicmFuZCI+V2VuWGVuLmNvbTwvc3Bhbj4NCiAgPHN1cCBjbGFzcz0iYnJhbmQtc3VmZml4Ij4NCiAgICA8c3BhbiBjbGFzcz0iYnJhbmQtc3VmZml4LXRleHQiPmZvciBFdGhlcmV1bTwvc3Bhbj4NCiAgICA8c3BhbiBpZD0iaGVhZGVyR2FzTm93IiBjbGFzcz0iZ2FzLXN1cCIgdGl0bGU9IkN1cnJlbnQgZ2FzIChnd2VpKSI+PC9zcGFuPg0KICA8L3N1cD4NCjwvaDE+DQo8ZGl2IGNsYXNzPSJ0YWJzIj4NCiAgPGRpdiBjbGFzcz0idGFiLWJ1dHRvbnMiIHJvbGU9InRhYmxpc3QiIGFyaWEtbGFiZWw9Ik1haW4gbmF2aWdhdGlvbiI+DQogICAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ1dHRvbiBhY3RpdmUiIGRhdGEtdGFyZ2V0PSJ0YWItZGFzaGJvYXJkIiByb2xlPSJ0YWIiIGFyaWEtc2VsZWN0ZWQ9InRydWUiPkRhc2hib2FyZDwvYnV0dG9uPg0KICAgIDxidXR0b24gY2xhc3M9InRhYi1idXR0b24iIGRhdGEtdGFyZ2V0PSJ0YWItbWludCIgcm9sZT0idGFiIiBhcmlhLXNlbGVjdGVkPSJmYWxzZSI+TWludC9TdGFrZTwvYnV0dG9uPg0KICAgIDxidXR0b24gY2xhc3M9InRhYi1idXR0b24iIGRhdGEtdGFyZ2V0PSJ0YWItc2V0dGluZ3MiIHJvbGU9InRhYiIgYXJpYS1zZWxlY3RlZD0iZmFsc2UiPlNldHRpbmdzPC9idXR0b24+DQogICAgPGJ1dHRvbiBjbGFzcz0idGFiLWJ1dHRvbiIgZGF0YS10YXJnZXQ9InRhYi1hYm91dCIgcm9sZT0idGFiIiBhcmlhLXNlbGVjdGVkPSJmYWxzZSI+QWJvdXQ8L2J1dHRvbj4NCiAgPC9kaXY+DQogIDxzZWN0aW9uIGlkPSJ0YWItZGFzaGJvYXJkIiBjbGFzcz0idGFiLXBhbmVsIGFjdGl2ZSIgcm9sZT0idGFicGFuZWwiIGFyaWEtbGFiZWxsZWRieT0iRGFzaGJvYXJkIj4NCiAgICA8ZGl2IGNsYXNzPSJkYXNoYm9hcmQtdG9wIj4NCg0KDQoNCiAgICAgIDxkaXYgY2xhc3M9ImNhbGVuZGFyLXdyYXAiPg0KICAgICAgICA8YnV0dG9uIGlkPSJjZW50ZXJDYWxlbmRhckJ0biIgY2xhc3M9ImNoaXAgY2hpcC1naG9zdCIgYXJpYS1sYWJlbD0iQ2VudGVyIGNhbGVuZGFyIG9uIHRvZGF5Ij4gQ2VudGVyIENhbGVuZGFyPC9idXR0b24+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhbGVuZGFyLXdyYXAiPg0KICAgICAgICAgIDxkaXYgaWQ9ImNhbGVuZGFyIj48L2Rpdj4NCiAgICAgICAgICA8ZGl2IGlkPSJjYWxlbmRhci14ZW4tdG90YWwiPg0KICAgICAgICAgICAgPHNwYW4+VG90YWwgWEVOOiA8c3Ryb25nIGlkPSJlc3RYZW5Ub3RhbCI+MDwvc3Ryb25nPiA8c3BhbiBpZD0iZXN0WGVuVXNkIj48L3NwYW4+PC9zcGFuPg0KICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQogICAgICA8ZGl2IGNsYXNzPSJkZXRhaWxzLXdyYXAiPjxoMiBjbGFzcz0iZGV0YWlscy10aXRsZSI+TWludCBEZXRhaWxzPC9oMj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY29udHJvbHMtY29udGFpbmVyIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b24tZ3JvdXAiPg0KICAgICAgICAgICAgPCEtLSBTcGxpdCBTY2FuIGJ1dHRvbiB3aXRoIGlubGluZSBzZWxlY3RvciAtLT4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNwbGl0LXNjYW4iPg0KICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzY2FuQnRuIiBjbGFzcz0iYnRuIiB0eXBlPSJidXR0b24iIGRpc2FibGVkPg0KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzY2FuQnRuTGFiZWwiPlNjYW48L3NwYW4+DQogICAgICAgICAgICAgICAgPHNwYW4gaWQ9InNjYW5Nb2RlQmFkZ2UiIGNsYXNzPSJzY2FuLWJhZGdlIj5BbGw8L3NwYW4+DQogICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJzY2FuTW9kZVRvZ2dsZSIgY2xhc3M9ImJ0biBzcGxpdC1jYXJldCIgdHlwZT0iYnV0dG9uIg0KICAgICAgICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9Imxpc3Rib3giIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiBhcmlhLWNvbnRyb2xzPSJzY2FuTW9kZU1lbnUiDQogICAgICAgICAgICAgICAgICAgICAgdGl0bGU9IkNob29zZSB3aGF0IHRvIHNjYW4iPuKWvjwvYnV0dG9uPg0KICAgICAgICAgICAgICA8dWwgaWQ9InNjYW5Nb2RlTWVudSIgY2xhc3M9Im1lbnUiIHJvbGU9Imxpc3Rib3giIGFyaWEtbGFiZWw9IlNjYW4gbW9kZSIgaGlkZGVuPg0KICAgICAgICAgICAgICAgIDxsaSByb2xlPSJvcHRpb24iIGRhdGEtdmFsdWU9ImFsbCIgICAgIGFyaWEtc2VsZWN0ZWQ9InRydWUiPkFsbDwvbGk+DQogICAgICAgICAgICAgICAgPGxpIHJvbGU9Im9wdGlvbiIgZGF0YS12YWx1ZT0iY29pbnRvb2wiPkNvaW50b29sPC9saT4NCiAgICAgICAgICAgICAgICA8bGkgcm9sZT0ib3B0aW9uIiBkYXRhLXZhbHVlPSJ4ZW5mdCI+WEVORlRzPC9saT4NCiAgICAgICAgICAgICAgICA8bGkgcm9sZT0ib3B0aW9uIiBkYXRhLXZhbHVlPSJzdGFrZS14ZW5mdCI+U3Rha2UgWEVORlRzPC9saT4NCiAgICAgICAgICAgICAgICA8bGkgcm9sZT0ib3B0aW9uIiBkYXRhLXZhbHVlPSJzdGFrZSI+U3Rha2VzPC9saT4NCiAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hlY2tib3gtZ3JvdXAiPg0KICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImZvcmNlUmVzY2FuIiBzdHlsZT0ibWFyZ2luOiAwOyI+DQogICAgPGxhYmVsIGZvcj0iZm9yY2VSZXNjYW4iIHN0eWxlPSJtYXJnaW46IDA7Ij5Gb3JjZSBSZXNjYW48L2xhYmVsPg0KICA8L3NwYW4+DQogICAgICAgICAgPC9kaXY+DQoNCg0KICAgICAgICAgIDxkaXYgaWQ9InByb2dyZXNzQ29udGFpbmVyIj4NCiAgICAgICAgICAgIDxkaXYgaWQ9InNjYW5UeXBlTGluZSI+PHN0cm9uZyBpZD0ic2NhblR5cGVUZXh0Ij48L3N0cm9uZz48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgaWQ9ImFkZHJlc3NQcm9ncmVzc0NvbnRhaW5lciI+PHNwYW4gaWQ9ImFkZHJlc3NQcm9ncmVzc1RleHQiPjwvc3Bhbj48c3Bhbg0KICAgICAgICAgICAgICBpZD0icnBjU3RhdHVzIj48L3NwYW4+PC9kaXY+DQogICAgICAgICAgICA8ZGl2IGlkPSJ0b2tlblByb2dyZXNzQ29udGFpbmVyIiBzdHlsZT0ibWFyZ2luLXRvcDogMTBweDsiPg0KICAgICAgICAgICAgICA8cHJvZ3Jlc3MgaWQ9InRva2VuUHJvZ3Jlc3NCYXIiIHZhbHVlPSIwIiBtYXg9IjEwMCI+PC9wcm9ncmVzcz4NCiAgICAgICAgICAgICAgPHNwYW4gaWQ9ImV0clRleHQiIGFyaWEtbGl2ZT0icG9saXRlIj48L3NwYW4+PHNwYW4gaWQ9InRva2VuUHJvZ3Jlc3NUZXh0Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxpdmU9InBvbGl0ZSI+PC9zcGFuPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGlkPSJzY2FuQWN0aW9ucyIgc3R5bGU9ImRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7IG1hcmdpbi10b3A6OHB4OyI+DQogICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbFNjYW5CdG4iIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5TdG9wIFNjYW48L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDxkaXYgaWQ9InN1bW1hcnlDb250YWluZXIiPg0KICAgICAgICAgICAgPGRpdiBpZD0iaXRlbUNvdW50Ij48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgaWQ9InBlckFkZHJlc3NTdW1tYXJ5Ij48L2Rpdj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9ImZpbHRlci1jaGlwcyI+DQogICAgICA8c3Bhbj5GaWx0ZXJzOjwvc3Bhbj4NCiAgICAgIDxidXR0b24gY2xhc3M9ImNoaXAiIGRhdGEtZmlsdGVyPSIiPkFsbDwvYnV0dG9uPg0KICAgICAgPGJ1dHRvbiBjbGFzcz0iY2hpcCIgZGF0YS1maWx0ZXI9InRoaXMtbW9udGgiPlRoaXMgTW9udGg8L2J1dHRvbj4NCiAgICAgIDxidXR0b24gY2xhc3M9ImNoaXAiIGRhdGEtZmlsdGVyPSJuZXh0LW1vbnRoIj5OZXh0IE1vbnRoPC9idXR0b24+DQogICAgICA8YnV0dG9uIGNsYXNzPSJjaGlwIiBkYXRhLWZpbHRlcj0idGhpcy15ZWFyIj5UaGlzIFllYXI8L2J1dHRvbj4NCiAgICAgIDxidXR0b24gY2xhc3M9ImNoaXAiIGRhdGEtZmlsdGVyPSJuZXh0LXllYXIiPk5leHQgWWVhcjwvYnV0dG9uPg0KICAgICAgPGJ1dHRvbiBjbGFzcz0iY2hpcCIgZGF0YS1maWx0ZXI9InllYXItcGx1cy0yIj5ZZWFyICsyPC9idXR0b24+DQogICAgICA8YnV0dG9uIGNsYXNzPSJjaGlwIiBkYXRhLWZpbHRlcj0ieWVhci1wbHVzLTMiPlllYXIgKzM8L2J1dHRvbj4NCg0KICAgICAgPHNwYW4gY2xhc3M9ImlubGluZS1zZXAiPiB8IDwvc3Bhbj4NCiAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWFjdGlvbnMiPg0KICAgICAgICA8YnV0dG9uIGlkPSJkb3dubG9hZEJ0biIgY2xhc3M9ImJ0bi1zZWNvbmRhcnkiIHR5cGU9ImJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPkRvd25sb2FkIENTVjwvYnV0dG9uPg0KICAgICAgICA8YnV0dG9uIGlkPSJkb3dubG9hZEpzb25CdG4iIGNsYXNzPSJidG4tc2Vjb25kYXJ5IiB0eXBlPSJidXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5KU09OPC9idXR0b24+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0gVk1VcyBwZXIgRGF5IENoYXJ0IChjb2xsYXBzaWJsZSkgLS0+DQogICAgPGRpdiBpZD0idm11LWNoYXJ0LXdyYXAiIGNsYXNzPSJjb2xsYXBzaWJsZSIgc3R5bGU9Im1hcmdpbjo4cHggMDsiPg0KICAgICAgPGJ1dHRvbiBpZD0idm11Q2hhcnRUb2dnbGUiIGNsYXNzPSJjb2xsYXBzaWJsZS10b2dnbGUiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiBhcmlhLWNvbnRyb2xzPSJ2bXVDaGFydEJvZHkiIHR5cGU9ImJ1dHRvbiI+KyBTaG93IENoYXJ0PC9idXR0b24+DQogICAgICA8ZGl2IGlkPSJ2bXVDaGFydEJvZHkiIGNsYXNzPSJjb2xsYXBzaWJsZS1ib2R5IiBoaWRkZW4+DQogICAgICAgIDxkaXYgY2xhc3M9ImNoYXJ0LWNvbnRyb2xzIiBzdHlsZT0iZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDoxMHB4OyBtYXJnaW46IDRweCAwIDhweCAwOyI+DQogICAgICAgICAgPHNwYW4gY2xhc3M9Im11dGVkIj5NZXRyaWM6PC9zcGFuPg0KICAgICAgICAgIDxkaXYgY2xhc3M9InRvZ2dsZS1ncm91cCIgcm9sZT0idGFibGlzdCIgYXJpYS1sYWJlbD0iQ2hhcnQgTWV0cmljIj4NCiAgICAgICAgICAgIDxidXR0b24gaWQ9InZtdUNoYXJ0TW9kZVZNVXMiIGNsYXNzPSJ0b2dnbGUgYWN0aXZlIiB0eXBlPSJidXR0b24iIGRhdGEtbW9kZT0idm11cyIgYXJpYS1zZWxlY3RlZD0idHJ1ZSI+Vk1VczwvYnV0dG9uPg0KICAgICAgICAgICAgPGJ1dHRvbiBpZD0idm11Q2hhcnRNb2RlVVNEIiBjbGFzcz0idG9nZ2xlIiB0eXBlPSJidXR0b24iIGRhdGEtbW9kZT0idXNkIiBhcmlhLXNlbGVjdGVkPSJmYWxzZSI+JCBWYWx1ZTwvYnV0dG9uPg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBpZD0idm11Q2hhcnQiIHN0eWxlPSJ3aWR0aDoxMDAlOyBoZWlnaHQ6MjYwcHg7Ij48L2Rpdj4NCiAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQoNCg0KICAgIDxkaXYgaWQ9ImNvaW50b29sLXRhYmxlIj48L2Rpdj4NCiAgPC9zZWN0aW9uPg0KICA8c2VjdGlvbiBpZD0idGFiLW1pbnQiIGNsYXNzPSJ0YWItcGFuZWwiIHJvbGU9InRhYnBhbmVsIiBhcmlhLWxhYmVsbGVkYnk9Ik1pbnQvU3Rha2UiPjxoMj5NaW50IC8gU3Rha2U8L2gyPg0KDQoNCg0KDQogICAgPCEtLSBBY3Rpb24gc2VsZWN0b3I6IE1pbnQgb3IgU3Rha2UgKGFsd2F5cyB2aXNpYmxlKSAtLT4NCiAgICA8ZGl2IGNsYXNzPSJtaW50LWNvbnRyb2xzIiBpZD0iYWN0aW9uQ29udHJvbHMiPg0KICAgICAgPGRpdiBjbGFzcz0ibWludC1maWVsZCI+DQogICAgICAgIDxsYWJlbCBmb3I9Im1pbnRBY3Rpb24iPkFjdGlvbjwvbGFiZWw+DQogICAgICAgIDxzZWxlY3QgaWQ9Im1pbnRBY3Rpb24iIGNsYXNzPSJtaW50LWlucHV0Ij4NCiAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJtaW50IiBzZWxlY3RlZD5NaW50PC9vcHRpb24+DQogICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ic3Rha2UiPlN0YWtlPC9vcHRpb24+DQogICAgICAgIDwvc2VsZWN0Pg0KICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tIE1pbnQgY29udHJvbHMgKGhpZGRlbiB3aGVuIEFjdGlvbj1TdGFrZSkgLS0+DQogICAgPGRpdiBjbGFzcz0ibWludC1jb250cm9scyIgaWQ9Im1pbnRDb250cm9scyI+DQogICAgICA8IS0tIE5FVzogcGxhdGZvcm0gc2VsZWN0b3IgLS0+DQogICAgICA8ZGl2IGNsYXNzPSJtaW50LWZpZWxkIj4NCiAgICAgICAgPGJyPg0KICAgICAgICA8bGFiZWwgZm9yPSJtaW50UGxhdGZvcm0iPk1pbnQgdmlhPC9sYWJlbD4NCiAgICAgICAgPHNlbGVjdCBpZD0ibWludFBsYXRmb3JtIiBjbGFzcz0ibWludC1pbnB1dCI+DQogICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iY29pbnRvb2wiIHNlbGVjdGVkPkNvaW50b29sPC9vcHRpb24+DQogICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ieGVuZnQiPlhFTkZUIChUb3JyZW50KTwvb3B0aW9uPg0KICAgICAgICA8L3NlbGVjdD4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8IS0tIE5FVzogb3B0aW9ucyB2aXNpYmxlIG9ubHkgZm9yIFhFTkZUIC0tPg0KICAgICAgPGRpdiBpZD0ieGVuZnRPcHRpb25zUm93IiBzdHlsZT0iZGlzcGxheTpub25lOyBtYXJnaW4tdG9wOjEwcHg7Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0ibWludC1maWVsZCI+DQogICAgICAgICAgPGxhYmVsIGZvcj0ieGVuZnRLaW5kIj5YRU5GVCBUeXBlPC9sYWJlbD4NCiAgICAgICAgICA8c2VsZWN0IGlkPSJ4ZW5mdEtpbmQiIGNsYXNzPSJtaW50LWlucHV0Ij4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InJlZ3VsYXIiIHNlbGVjdGVkPlJlZ3VsYXIgKG5vIGJ1cm4pPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhcGV4Ij5BUEVYIChidXJuIFhFTik8L29wdGlvbj4NCiAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgaWQ9ImFwZXhUaWVyV3JhcCIgY2xhc3M9Im1pbnQtZmllbGQiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4NCiAgICAgICAgICA8bGFiZWwgZm9yPSJhcGV4VGllciI+QVBFWCBUaWVyPC9sYWJlbD4NCiAgICAgICAgICA8c2VsZWN0IGlkPSJhcGV4VGllciIgY2xhc3M9Im1pbnQtaW5wdXQiPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0icmFyZSIgc2VsZWN0ZWQ+UmFyZSAoNTAwLDAwMCwwMDApPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJlcGljIj5FcGljICgxLDAwMCwwMDAsMDAwKTwvb3B0aW9uPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ibGVnZW5kYXJ5Ij5MZWdlbmRhcnkgKDIsNTAwLDAwMCwwMDApPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJleG90aWMiPkV4b3RpYyAoNSwwMDAsMDAwLDAwMCk8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Inh1bmljb3JuIj5YdW5pY29ybiAoMTAsMDAwLDAwMCwwMDApPC9vcHRpb24+DQogICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXYgaWQ9InhlbmZ0QnVybldyYXAiIGNsYXNzPSJtaW50LWZpZWxkIiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQogICAgICAgICAgPGxhYmVsIGZvcj0ieGVuZnRCdXJuIj5CdXJuIChYRU4gdG9rZW5zKTwvbGFiZWw+DQogICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHg7Ij4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJ4ZW5mdEJ1cm4iIHBsYWNlaG9sZGVyPSJlLmcuIDUwMDAwMDAwMDAiIG1pbj0iMCIgc3RlcD0iMSIgY2xhc3M9Im1pbnQtaW5wdXQiIC8+DQogICAgICAgICAgICA8c3BhbiBpZD0ieGVuZnRCdXJuSHVtYW4iIGNsYXNzPSJtdXRlZCIgYXJpYS1saXZlPSJwb2xpdGUiPjwvc3Bhbj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8c21hbGwgY2xhc3M9Im11dGVkIj5JZiBBUEVYLCBhcHByb3ZlIHdpbGwgYmUgcmVxdWVzdGVkIGF1dG9tYXRpY2FsbHkgZm9yIHRoZSBhbW91bnQgeW91IGVudGVyLjwvc21hbGw+DQoNCiAgICAgICAgPC9kaXY+DQoNCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IGNsYXNzPSJtaW50LWZpZWxkIj48bGFiZWwgZm9yPSJtaW50Vm11cyI+Vk1VczwvbGFiZWw+PGlucHV0IHR5cGU9Im51bWJlciIgaWQ9Im1pbnRWbXVzIiB2YWx1ZT0iMSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPSIxIiBzdGVwPSIxIiBjbGFzcz0ibWludC1pbnB1dCI+PC9kaXY+DQogICAgICA8YnI+DQogICAgICA8ZGl2IGNsYXNzPSJtaW50LWZpZWxkIj48bGFiZWwgZm9yPSJtaW50VGVybURheXMiPlRlcm0gKGRheXMpPC9sYWJlbD4NCiAgICAgICAgPGRpdiBjbGFzcz0ibWludC10ZXJtLXJvdyI+PGlucHV0DQogICAgICAgICAgdHlwZT0ibnVtYmVyIg0KICAgICAgICAgIGlkPSJtaW50VGVybURheXMiDQogICAgICAgICAgbmFtZT0ibWludC10ZXJtLWRheXMiDQogICAgICAgICAgcGxhY2Vob2xkZXI9ImUuZy4gMzY1Ig0KICAgICAgICAgIG1pbj0iMSINCiAgICAgICAgICBzdGVwPSIxIg0KICAgICAgICAgIGNsYXNzPSJtaW50LWlucHV0Ig0KICAgICAgICAgIGlucHV0bW9kZT0ibnVtZXJpYyINCiAgICAgICAgICBhdXRvY29tcGxldGU9Im9mZiINCiAgICAgICAgICBhdXRvY2FwaXRhbGl6ZT0ib2ZmIg0KICAgICAgICAgIGF1dG9jb3JyZWN0PSJvZmYiDQogICAgICAgICAgc3BlbGxjaGVjaz0iZmFsc2UiDQogICAgICAgIC8+DQogICAgICAgICAgPGJ1dHRvbiBpZD0iYnRuU2V0TWF4VGVybSIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLXNlY29uZGFyeSI+U2V0IE1heCBUZXJtPC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGlkPSJ0ZXJtRGF0ZVByZXZpZXciIGNsYXNzPSJtdXRlZCI+PC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICA8YnI+DQogICAgPGRpdiBjbGFzcz0ibWludC1hY3Rpb25zIiBpZD0ibWludEFjdGlvbnMiPg0KICAgICAgPGJ1dHRvbiBpZD0ic3RhcnRNaW50QnRuIiBjbGFzcz0iYnRuLW1pbnQiPlN0YXJ0IE1pbnRpbmc8L2J1dHRvbj4NCiAgICAgIDxkaXYgaWQ9Im1pbnRDb25uZWN0SGludCIgY2xhc3M9Im11dGVkIiBzdHlsZT0ibWFyZ2luLXRvcDo2cHg7IGRpc3BsYXk6bm9uZTsiPkNvbm5lY3QgeW91ciB3YWxsZXQgdG8gbWludC48L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0gU3Rha2UgY29udHJvbHMgKGhpZGRlbiBieSBkZWZhdWx0OyBzaG93biB3aGVuIEFjdGlvbj1TdGFrZSkgLS0+DQogICAgPGRpdiBpZD0ic3Rha2VDb250cm9scyIgY2xhc3M9Im1pbnQtY29udHJvbHMiIHN0eWxlPSJkaXNwbGF5Om5vbmU7IG1hcmdpbi10b3A6MTBweDsiPg0KICAgICAgPGRpdiBjbGFzcz0ibWludC1maWVsZCI+DQogICAgICAgIDxsYWJlbCBmb3I9InN0YWtlQW1vdW50Ij5BbW91bnQgKFhFTik8L2xhYmVsPg0KICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjEwcHg7Ij4NCiAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ic3Rha2VBbW91bnQiIHBsYWNlaG9sZGVyPSJlLmcuIDEwMDAwMDAiIG1pbj0iMCIgc3RlcD0iMSIgY2xhc3M9Im1pbnQtaW5wdXQiIC8+DQogICAgICAgICAgPGJ1dHRvbiBpZD0iYnRuU3Rha2VHZXRCYWxhbmNlIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tc2Vjb25kYXJ5Ij5HZXQgQmFsYW5jZTwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBpZD0ic3Rha2VQZXJjZW50T3B0aW9ucyIgY2xhc3M9Im11dGVkIiBzdHlsZT0ibWFyZ2luLXRvcDo2cHg7IGRpc3BsYXk6bm9uZTsiPg0KICAgICAgICAgIFVzZToNCiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImxpbmtsaWtlIiBkYXRhLXBjdD0iMTAiPjEwJTwvYnV0dG9uPg0KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0ibGlua2xpa2UiIGRhdGEtcGN0PSIyNSI+MjUlPC9idXR0b24+DQogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJsaW5rbGlrZSIgZGF0YS1wY3Q9IjUwIj41MCU8L2J1dHRvbj4NCiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImxpbmtsaWtlIiBkYXRhLXBjdD0iNzUiPjc1JTwvYnV0dG9uPg0KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0ibGlua2xpa2UiIGRhdGEtcGN0PSIxMDAiPjEwMCU8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0ibWludC1maWVsZCI+PGxhYmVsIGZvcj0ic3Rha2VUZXJtRGF5cyI+VGVybSAoZGF5cyk8L2xhYmVsPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtaW50LXRlcm0tcm93Ij48aW5wdXQNCiAgICAgICAgICB0eXBlPSJudW1iZXIiDQogICAgICAgICAgaWQ9InN0YWtlVGVybURheXMiDQogICAgICAgICAgbmFtZT0ic3Rha2UtdGVybS1kYXlzIg0KICAgICAgICAgIHBsYWNlaG9sZGVyPSJlLmcuIDEwMDAiDQogICAgICAgICAgbWluPSIxIg0KICAgICAgICAgIG1heD0iMTAwMCINCiAgICAgICAgICBzdGVwPSIxIg0KICAgICAgICAgIGNsYXNzPSJtaW50LWlucHV0Ig0KICAgICAgICAgIGlucHV0bW9kZT0ibnVtZXJpYyINCiAgICAgICAgICBhdXRvY29tcGxldGU9Im9mZiINCiAgICAgICAgICBhdXRvY2FwaXRhbGl6ZT0ib2ZmIg0KICAgICAgICAgIGF1dG9jb3JyZWN0PSJvZmYiDQogICAgICAgICAgc3BlbGxjaGVjaz0iZmFsc2UiDQogICAgICAgIC8+DQogICAgICAgICAgPGJ1dHRvbiBpZD0iYnRuU3Rha2VTZXRNYXhUZXJtIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tc2Vjb25kYXJ5Ij5TZXQgTWF4IFRlcm08L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgaWQ9InN0YWtlRGF0ZVByZXZpZXciIGNsYXNzPSJtdXRlZCI+PC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICA8YnI+DQogICAgPGRpdiBjbGFzcz0ibWludC1hY3Rpb25zIiBpZD0ic3Rha2VBY3Rpb25zIiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQogICAgICA8YnV0dG9uIGlkPSJzdGFydFN0YWtlQnRuIiBjbGFzcz0iYnRuLW1pbnQiPlN0YXJ0IFN0YWtpbmc8L2J1dHRvbj4NCiAgICAgIDxkaXYgaWQ9InN0YWtlQ29ubmVjdEhpbnQiIGNsYXNzPSJtdXRlZCIgc3R5bGU9Im1hcmdpbi10b3A6NnB4OyBkaXNwbGF5Om5vbmU7Ij5Db25uZWN0IHlvdXIgd2FsbGV0IHRvIHN0YWtlLjwvZGl2Pg0KICAgIDwvZGl2Pg0KICA8L3NlY3Rpb24+DQogIDxzZWN0aW9uIGlkPSJ0YWItc2V0dGluZ3MiIGNsYXNzPSJ0YWItcGFuZWwiIHJvbGU9InRhYnBhbmVsIiBhcmlhLWxhYmVsbGVkYnk9IlNldHRpbmdzIj4NCiAgICA8ZGl2IGNsYXNzPSJzZXR0aW5ncy1ncmlkIj4NCg0KICAgICAgPCEtLSBBZGRyZXNzZXMgLS0+DQogICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5ncy1jYXJkIj4NCiAgICAgICAgPGgzPkFkZHJlc3NlczwvaDM+DQogICAgICAgIDxwIGNsYXNzPSJzZXR0aW5ncy1ub3RlIj5QYXN0ZSBvbmUgRXRoZXJldW0gYWRkcmVzcyBwZXIgbGluZS48L3A+DQogICAgICAgIDxkaXYgY2xhc3M9ImZpZWxkIHJlcXVpcmVkIiBpZD0iZmllbGQtZXRoQWRkcmVzcyI+DQogICAgICAgICAgPGxhYmVsIGZvcj0iZXRoQWRkcmVzcyI+RXRoZXJldW0gQWRkcmVzc2VzIChvbmUgcGVyIGxpbmUpPC9sYWJlbD4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC13aXRoLXRvZ2dsZSI+DQogICAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImV0aEFkZHJlc3MiIHJvd3M9IjQiIHBsYWNlaG9sZGVyPSIweC4uLmFiYyYjMTA7MHguLi5kZWYiIHJlcXVpcmVkPjwvdGV4dGFyZWE+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXZlYWwtcm93Ij4NCiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJ0b2dnbGVFdGhBZGRyZXNzTWFzayIgY2xhc3M9InJldmVhbC1idG4iIGFyaWEtbGFiZWw9Ik1hc2sgYWRkcmVzc2VzIiB0aXRsZT0iTWFzayI+DQogICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTIuMSAzLjUxTDMuNTEgMi4xbDE4LjM5IDE4LjM5LTEuNDEgMS40MS0zLjA2LTMuMDZBMTEuMzMgMTEuMzMgMCAwMTEyIDIwYy02IDAtMTAtNS4zMy0xMC04IDAtMS4xMyAxLjAyLTMuMDggMy4wNi00Ljg5TDIuMSAzLjUxek03LjUgOC45MUE3LjYgNy42IDAgMDA0IDEyYzAgMS4yIDMgNiA4IDYgMS42MyAwIDMuMDktLjQyIDQuMzUtMS4xM2wtMS44LTEuOEE0IDQgMCAwMTggMTJjMC0uNDMuMDctLjg1LjItMS4yNGwtLjctLjd6TTEyIDZjNiAwIDEwIDUuMzMgMTAgOCAwIC44NC0uNDggMi0xLjQyIDMuMjJsLTEuNDMtMS40M2MuNTEtLjc3Ljg1LTEuNDguODUtMS43OSAwLTEuMi0zLTYtOC02LTEuMDMgMC0yIC4yLTIuODkuNTZsLTEuNS0xLjVDOS4xMSA2LjM5IDEwLjUxIDYgMTIgNnptMCA0YTIgMiAwIDAxMS43MyAzbC0yLjczLTIuNzNjLjI5LS4xNy42Mi0uMjcgMS0uMjd6Ii8+PC9zdmc+DQogICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tZXNzYWdlIj5BdCBsZWFzdCBvbmUgRXRoZXJldW0gYWRkcmVzcyBpcyByZXF1aXJlZC48L3NtYWxsPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8IS0tIE5ldHdvcmsgJiBBUElzIC0tPg0KICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtY2FyZCI+DQogICAgICAgIDxoMz5OZXR3b3JrICZhbXA7IEFQSXM8L2gzPg0KICAgICAgICA8ZGl2IGNsYXNzPSJmaWVsZCByZXF1aXJlZCIgaWQ9ImZpZWxkLWV0aGVyc2NhbkFwaUtleSI+DQogICAgICAgICAgPGxhYmVsIGZvcj0iZXRoZXJzY2FuQXBpS2V5Ij5FdGhlcnNjYW4gQVBJIEtleTwvbGFiZWw+DQogICAgICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtd2l0aC10b2dnbGUiPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJldGhlcnNjYW5BcGlLZXkiIHBsYWNlaG9sZGVyPSJZb3VyIEV0aGVyc2NhbiBBUEkgS2V5IiByZXF1aXJlZCBhdXRvY29tcGxldGU9Im5ldy1wYXNzd29yZCIgLz4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJldmVhbC1yb3ciPg0KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9InRvZ2dsZUFwaUtleVZpc2liaWxpdHkiIGNsYXNzPSJyZXZlYWwtYnRuIiBhcmlhLWxhYmVsPSJTaG93IEFQSSBrZXkiIHRpdGxlPSJTaG93Ij4NCiAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTIgNWM2IDAgMTAgNS4zMyAxMCA4cy00IDgtMTAgOFMyIDE1LjY3IDIgMTMgNiA1IDEyIDV6bTAgMkM3IDcgNCAxMiA0IDEzczMgNiA4IDYgOC01IDgtNi0zLTYtOC02em0wIDNhMyAzIDAgMTEwIDYgMyAzIDAgMDEwLTZ6Ii8+PC9zdmc+DQogICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPHNtYWxsIGNsYXNzPSJlcnJvci1tZXNzYWdlIj5FdGhlcnNjYW4gQVBJIGtleSBpcyByZXF1aXJlZC48L3NtYWxsPg0KICAgICAgICAgIDxkaXYgaWQ9ImV0aGVyc2NhbkFwaUhlbHAiIGNsYXNzPSJzZXR0aW5ncy1zdGF0dXMiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij5ObyBrZXk/IDxhIGhyZWY9Imh0dHBzOi8vZXRoZXJzY2FuLmlvL2FwaWRhc2hib2FyZCIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIgbm9yZWZlcnJlciI+R2V0IGEgZnJlZSBFdGhlcnNjYW4gQVBJIGtleTwvYT4gKDUgcmVxL3MsIHVwIHRvIDEwMCwwMDAgY2FsbHMvZGF5KS48L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9ImZpZWxkIHJlcXVpcmVkIiBpZD0iZmllbGQtY3VzdG9tUlBDIj4NCiAgICAgICAgICA8bGFiZWwgZm9yPSJjdXN0b21SUEMiPkN1c3RvbSBFVEggUlBDcyAob25lIHBlciBsaW5lKTwvbGFiZWw+DQogICAgICAgICAgPHRleHRhcmVhIGlkPSJjdXN0b21SUEMiIHJvd3M9IjQiIHJlcXVpcmVkPjwvdGV4dGFyZWE+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYnV0dG9uLXJvdyIgc3R5bGU9Im1hcmdpbi10b3A6NnB4OyI+DQogICAgICAgICAgICA8YnV0dG9uIGlkPSJpbXBvcnRScGNCdG4iIHR5cGU9ImJ1dHRvbiI+RmluZCBBY3RpdmUgUlBDcyAoYnkgbGF0ZW5jeSk8L2J1dHRvbj4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICA8ZGl2IGlkPSJpbXBvcnRScGNTdGF0dXMiIGNsYXNzPSJzZXR0aW5ncy1zdGF0dXMiIGFyaWEtbGl2ZT0icG9saXRlIj48L2Rpdj4NCiAgICAgICAgICA8c21hbGwgY2xhc3M9ImVycm9yLW1lc3NhZ2UiPkVudGVyIGF0IGxlYXN0IG9uZSBSUEMgZW5kcG9pbnQuPC9zbWFsbD4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPCEtLSBTY2FuIFBlcmZvcm1hbmNlIC0tPg0KICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtY2FyZCI+DQogICAgICAgIDxoMz5TY2FuIFBlcmZvcm1hbmNlPC9oMz4NCiAgICAgICAgPGRpdiBjbGFzcz0iZmllbGQiIGlkPSJmaWVsZC1jaHVua1NpemUiPg0KICAgICAgICAgIDxsYWJlbCBmb3I9ImNodW5rU2l6ZSI+Q2h1bmsgU2l6ZSAodHhzIHBlciBzY2FuIGNodW5rKTwvbGFiZWw+DQogICAgICAgICAgPCEtLSBlbmZvcmNlIDEwLDAwMCsgLS0+DQogICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9ImNodW5rU2l6ZSIgbWluPSIxMDAwMCIgc3RlcD0iMTAwMCIgcGxhY2Vob2xkZXI9IjUwMDAwIiByZXF1aXJlZCAvPg0KICAgICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbWVzc2FnZSI+Q2h1bmsgU2l6ZSBtdXN0IGJlIDEwLDAwMCBvciBoaWdoZXIuPC9zbWFsbD4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KDQoNCiAgICAgIDwhLS0gTGl2ZSBEYXRhIC0tPg0KICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtY2FyZCI+DQogICAgICAgIDxoMz5MaXZlIERhdGE8L2gzPg0KDQogICAgICAgIDxkaXYgY2xhc3M9ImdyaWQtMiI+DQogICAgICAgICAgPCEtLSBYRU4gUHJpY2UgLS0+DQogICAgICAgICAgPGRpdj4NCiAgICAgICAgICAgIDxzdHJvbmcgc3R5bGU9ImRpc3BsYXk6YmxvY2s7IG1hcmdpbi1ib3R0b206NnB4OyI+WEVOIFByaWNlIChVU0QpPC9zdHJvbmc+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b24tcm93Ij4NCiAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icmVmcmVzaFhlblByaWNlQnRuIiB0eXBlPSJidXR0b24iPlJlZnJlc2ggWEVOIFByaWNlPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgaWQ9InhlblByaWNlU3RhdHVzIiBjbGFzcz0ic2V0dGluZ3Mtc3RhdHVzIj48L2Rpdj4NCiAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgIDwhLS0gY1JhbmsgLyBnbG9iYWxSYW5rIC0tPg0KICAgICAgICAgIDxkaXY+DQogICAgICAgICAgICA8c3Ryb25nIHN0eWxlPSJkaXNwbGF5OmJsb2NrOyBtYXJnaW4tYm90dG9tOjZweDsiPlhFTiBjUmFuayAoZ2xvYmFsUmFuayk8L3N0cm9uZz4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbi1yb3ciPg0KICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJyZWZyZXNoQ3JhbmtCdG4iIHR5cGU9ImJ1dHRvbiI+UmVmcmVzaCBjUmFuazwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGlkPSJjcmFua1N0YXR1cyIgY2xhc3M9InNldHRpbmdzLXN0YXR1cyI+PC9kaXY+DQogICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICA8IS0tIEdhcyBQcmljZSBSZWZyZXNoIC0tPg0KICAgICAgPGRpdiBjbGFzcz0iZmllbGQiIGlkPSJmaWVsZC1nYXNSZWZyZXNoU2Vjb25kcyI+DQogICAgICAgIDxsYWJlbCBmb3I9Imdhc1JlZnJlc2hTZWNvbmRzIj5HYXMgUHJpY2UgUmVmcmVzaCBJbnRlcnZhbCAoc2Vjb25kcyk8L2xhYmVsPg0KICAgICAgICA8IS0tIGVuZm9yY2UgNeKAkzYwIC0tPg0KICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iZ2FzUmVmcmVzaFNlY29uZHMiIG1pbj0iNSIgbWF4PSI2MCIgc3RlcD0iMSIgcGxhY2Vob2xkZXI9IjUiIHJlcXVpcmVkIC8+DQogICAgICAgIDxzbWFsbCBjbGFzcz0iZXJyb3ItbWVzc2FnZSI+R2FzIHJlZnJlc2ggbXVzdCBiZSBiZXR3ZWVuIDUgYW5kIDYwIHNlY29uZHMuPC9zbWFsbD4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8IS0tIFRoZW1lIHNlbGVjdG9yIG1vdmVkIHRvIGhlYWRlciBtZW51IC0tPg0KDQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLWRpdmlkZXIiPjwvZGl2Pg0KICAgICAgPC9kaXY+IDwhLS0g4pyFIGNsb3NlIExpdmUgRGF0YSBjYXJkIGhlcmUgLS0+DQoNCiAgICAgIDwhLS0gQmFja3VwICYgUmVzdG9yZSAtLT4NCiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLWNhcmQiPg0KICAgICAgICA8aDM+QmFja3VwICZhbXA7IFJlc3RvcmU8L2gzPg0KICAgICAgICA8c21hbGwgY2xhc3M9InNldHRpbmdzLW5vdGUiPkluY2x1ZGVzIGFsbCBtaW50cyBhbmQgc2V0dGluZ3MuPC9zbWFsbD48YnI+DQogICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbi1yb3ciIHN0eWxlPSJtYXJnaW4tYm90dG9tOjZweDsiPg0KICAgICAgICAgIDxidXR0b24gaWQ9ImV4cG9ydEJhY2t1cEJ0biIgdHlwZT0iYnV0dG9uIj5FeHBvcnQgQmFja3VwICguanNvbik8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbi1yb3ciIHN0eWxlPSJtYXJnaW4tYm90dG9tOjZweDsiPg0KICAgICAgICAgIDxidXR0b24gaWQ9ImltcG9ydEJhY2t1cEJ0biIgdHlwZT0iYnV0dG9uIj5JbXBvcnQgQmFja3Vw4oCmPC9idXR0b24+DQogICAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJpbXBvcnRCYWNrdXBJbnB1dCIgYWNjZXB0PSJhcHBsaWNhdGlvbi9qc29uIg0KICAgICAgICAgICAgICAgICBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6LTk5OTlweDsgd2lkdGg6MXB4OyBoZWlnaHQ6MXB4OyBvcGFjaXR5OjA7Ii8+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICA8L2Rpdj4NCg0KICAgICAgPCEtLSBEYW5nZXIgWm9uZSAtLT4NCiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdzLWNhcmQgZGFuZ2VyIj4NCiAgICAgICAgPGgzPkRhbmdlciBab25lPC9oMz4NCiAgICAgICAgPHAgY2xhc3M9InNldHRpbmdzLW5vdGUiPkRlbGV0ZXMgbG9jYWwgYXBwIGRhdGEgKGV4Y2VwdCBzZXR0aW5ncykuPC9wPjxicj4NCiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDo0cHg7IG1hcmdpbi1ib3R0b206OHB4OyI+DQogICAgICAgICAgPGxhYmVsIGZvcj0icmVzZXREYlNlbGVjdCIgY2xhc3M9InNldHRpbmdzLW5vdGUiIHN0eWxlPSJkaXNwbGF5OmJsb2NrOyBtYXJnaW4tYm90dG9tOjZweDsiPkRlbGV0ZSB0YXJnZXQ8L2xhYmVsPg0KICAgICAgICAgIDxzZWxlY3QgaWQ9InJlc2V0RGJTZWxlY3QiIGFyaWEtbGFiZWw9IlNlbGVjdCB3aGljaCBkYXRhYmFzZShzKSB0byBkZWxldGUiIHN0eWxlPSJ3aWR0aDoxMDAlOyI+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhbGwiPkFsbCBkYXRhPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJEQl9Db2ludG9vbCI+Q29pbnRvb2wgKG1pbnRzKTwvb3B0aW9uPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iREJfWGVuZnQiPlhFTkZUIChORlQgc2NhbnMpPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJEQi1YZW5mdC1TdGFrZSI+WEVORlQgU3Rha2UgKHN0YWtlcyk8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IkRCLVhlbi1TdGFrZSI+WEVOIFN0YWtlIChyZWd1bGFyKTwvb3B0aW9uPg0KICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICAgIDxzbWFsbCBjbGFzcz0ic2V0dGluZ3Mtbm90ZSIgc3R5bGU9ImRpc3BsYXk6YmxvY2s7IG1hcmdpbi10b3A6NnB4OyI+VGhpcyBhY3Rpb24gaXMgcGVybWFuZW50IGZvciB0aGUgc2VsZWN0ZWQgaXRlbS48L3NtYWxsPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGJ1dHRvbiBpZD0icmVzZXRCdG4iIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InNlY29uZGFyeSI+UmVzZXQ8L2J1dHRvbj4NCiAgICAgIDwvZGl2Pg0KDQogICAgPC9kaXY+DQogIDwvc2VjdGlvbj4NCg0KICA8IS0tIEFib3V0IHRhYiAtLT4NCiAgPHNlY3Rpb24gaWQ9InRhYi1hYm91dCIgY2xhc3M9InRhYi1wYW5lbCIgcm9sZT0idGFicGFuZWwiIGFyaWEtbGFiZWxsZWRieT0iQWJvdXQiPg0KICAgIDxoMj5BYm91dDwvaDI+DQogICAgPGRpdiBpZD0iYWJvdXRNYXJrZG93biIgY2xhc3M9Im1hcmtkb3duLWJvZHkiPkxvYWRpbmfigKY8L2Rpdj4NCiAgPC9zZWN0aW9uPg0KDQogIDwhLS0gRm9vdGVyIC0tPg0KICA8Zm9vdGVyIGNsYXNzPSJzaXRlLWZvb3RlciIgcm9sZT0iY29udGVudGluZm8iPg0KICAgIDxzcGFuPkNvcHlyaWdodCA8c3BhbiBpZD0iY29weXJpZ2h0WWVhciI+PC9zcGFuPiBYZW4ucHViPC9zcGFuPg0KICAgIDxzcGFuIGNsYXNzPSJpbmxpbmUtc2VwIj58PC9zcGFuPg0KICAgIDxhIGhyZWY9IiMiIGlkPSJwcml2YWN5TGluayI+UHJpdmFjeTwvYT4NCiAgICA8c3BhbiBjbGFzcz0iaW5saW5lLXNlcCI+fDwvc3Bhbj4NCiAgICA8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vSm96ZWZKYXJvc2NpYWsveGVudHJhY2tlciIgaWQ9ImdpdGh1YkxpbmsiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiPkdpdEh1YjwvYT4NCiAgICA8c3BhbiBjbGFzcz0iaW5saW5lLXNlcCI+fDwvc3Bhbj4NCiAgICA8YSBocmVmPSJodHRwczovL3hlbi5wdWIvZG9uYXRlLnBocCIgaWQ9ImRvbmF0ZUxpbmsiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiPkRvbmF0ZTwvYT4NCiAgPC9mb290ZXI+DQoNCjwvZGl2Pg0KPCEtLSBQcml2YWN5IE1vZGFsIC0tPg0KPGRpdiBpZD0icHJpdmFjeU1vZGFsIiBjbGFzcz0ibW9kYWwgaGlkZGVuIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iZGlhbG9nIiBhcmlhLWxhYmVsbGVkYnk9InByaXZhY3lUaXRsZSI+DQogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgIDxoMyBpZD0icHJpdmFjeVRpdGxlIiBzdHlsZT0ibWFyZ2luOjAgMCA4cHggMDsiPlByaXZhY3kgJmFtcDsgVGVybXMgTm90aWNlPC9oMz4NCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IiBzdHlsZT0ibWF4LWhlaWdodDo1MHZoOyBvdmVyZmxvdzphdXRvOyI+DQogICAgICA8cD4NCiAgICAgICAgVGhpcyB0cmFja2VyIGlzIHByb3ZpZGVkIGJ5IFhlbi5wdWIgb24gYW4gb3Blbi1zb3VyY2UgYmFzaXMuIEl0IHJ1bnMgZW50aXJlbHkgaW4geW91ciBicm93c2VyIGFuZCB1c2VzIG9ubHkgcHVibGljIEV0aGVyZXVtIFJQQyBlbmRwb2ludHMgYW5kIHlvdXIgb3duIGZyZWUgRXRoZXJzY2FuIEFQSSBrZXkuIFhlbi5wdWIgZG9lcyBub3QgY29sbGVjdCBvciBzdG9yZSB5b3VyIGRhdGEgb3Iga2V5cyBvbiBvdXIgc2VydmVycy4NCiAgICAgIDwvcD4NCiAgICAgIDxwPg0KICAgICAgICBCeSB1c2luZyB0aGlzIHNpdGUsIHlvdSBhZ3JlZSB0aGF0IHlvdSBhcmUgc29sZWx5IHJlc3BvbnNpYmxlIGZvciBhbGwgYWN0aW9ucyB5b3UgdGFrZS4gVHJhbnNhY3Rpb25zIHlvdSBpbml0aWF0ZSBhcmUgc2lnbmVkIGluIHlvdXIgb3duIHdhbGxldDsgWGVuLnB1YiBjYW5ub3QgcmV2ZXJzZSBvciByZWNvdmVyIGFueXRoaW5nIHlvdSBkby4gVGhlIHNvZnR3YXJlIGlzIHByb3ZpZGVkIOKAnGFzIGlzLOKAnSB3aXRob3V0IHdhcnJhbnRpZXMgb2YgYW55IGtpbmQuIFRvIHRoZSBmdWxsZXN0IGV4dGVudCBwZXJtaXR0ZWQgYnkgbGF3LCBYZW4ucHViIGRpc2NsYWltcyBsaWFiaWxpdHkgZm9yIGFueSBsb3NzIG9yIGRhbWFnZXMgYXJpc2luZyBmcm9tIG9yIHJlbGF0ZWQgdG8gdGhlIHVzZSBvZiB0aGlzIHNpdGUgb3IgaXRzIGNvZGUuDQogICAgICA8L3A+DQogICAgICA8cD4NCiAgICAgICAgQmVjYXVzZSB0aGlzIHByb2plY3QgaXMgb3BlbiBzb3VyY2UsIHlvdSBtYXkgcmV2aWV3IHRoZSBjb2RlIGFuZCBob3N0IGl0IHlvdXJzZWxmIGlmIHlvdSBwcmVmZXIuIFlvdSBjYW4gYWxzbyBydW4gaXQgbG9jYWxseSBvbiB5b3VyIG93biBpbmZyYXN0cnVjdHVyZSAobGFwdG9wL2Rlc2t0b3ApIHdpdGhvdXQgYW55IGRlcGxveW1lbnQgdG8gY2xvdWQuDQogICAgICA8L3A+DQogICAgICA8cD4NCiAgICAgICAgSWYgeW91IGRvIG5vdCBhZ3JlZSB0byB0aGVzZSB0ZXJtcywgZG8gbm90IHVzZSB0aGUgc2l0ZS4NCiAgICAgIDwvcD4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIj4NCiAgICAgIDxidXR0b24gaWQ9InByaXZhY3lBY2NlcHRCdG4iIHR5cGU9ImJ1dHRvbiI+SSBBZ3JlZTwvYnV0dG9uPg0KICAgICAgPGJ1dHRvbiBpZD0icHJpdmFjeURlY2xpbmVCdG4iIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InNlY29uZGFyeSI+SSBEb24ndCBBZ3JlZTwvYnV0dG9uPg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCjwvZGl2Pg0KPGRpdiBpZD0iYWN0aW9uTW9kYWwiIGNsYXNzPSJtb2RhbCBoaWRkZW4iIGFyaWEtaGlkZGVuPSJ0cnVlIiByb2xlPSJkaWFsb2ciIGFyaWEtbGFiZWxsZWRieT0iYWN0aW9uTW9kYWxUaXRsZSI+DQogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPjxoMyBpZD0iYWN0aW9uTW9kYWxUaXRsZSIgc3R5bGU9Im1hcmdpbjowIDAgOHB4IDA7Ij5DaG9vc2UgYWN0aW9uPC9oMz4NCiAgICA8cCBzdHlsZT0ibWFyZ2luOjAgMCAxMHB4IDA7Ij5XaGF0IGRvIHlvdSB3YW50IHRvIGRvIHdpdGggdGhpcyBtaW50PzwvcD48bGFiZWwgZm9yPSJhY3Rpb25TZWxlY3QiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJzci1vbmx5Ij5BY3Rpb248L2xhYmVsPjxzZWxlY3QNCiAgICAgIGlkPSJhY3Rpb25TZWxlY3QiIHN0eWxlPSJ3aWR0aDoxMDAlOyBwYWRkaW5nOjZweCA4cHg7IG1hcmdpbi1ib3R0b206MTJweDsiPg0KICAgICAgPG9wdGlvbiB2YWx1ZT0iY2xhaW0iIHNlbGVjdGVkPkNsYWltPC9vcHRpb24+DQogICAgICA8b3B0aW9uIHZhbHVlPSJyZW1pbnQiPlJlbWludDwvb3B0aW9uPg0KICAgIDwvc2VsZWN0Pg0KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPg0KICAgICAgPGJ1dHRvbiBpZD0iYWN0aW9uQ29uZmlybUJ0biIgdHlwZT0iYnV0dG9uIj5PSzwvYnV0dG9uPg0KICAgICAgPGJ1dHRvbiBpZD0iYWN0aW9uQ2FuY2VsQnRuIiB0eXBlPSJidXR0b24iIGNsYXNzPSJzZWNvbmRhcnkiPkNhbmNlbDwvYnV0dG9uPg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCjwvZGl2Pg0KDQoNCjxzY3JpcHQgc3JjPSIuL0FCSS94ZW4tQUJJLmpzP3Y9MSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iLi9BQkkveGVuZnQtQUJJLmpzP3Y9MSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iLi9BQkkveGVuZnQtc3Rha2UtQUJJLmpzP3Y9MSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iLi9BQkkvY29pbnRvb2wtQUJJLmpzP3Y9MSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iLi9qcy9hcHAuanM/dj0xIj48L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSIuL2pzL2FwcC1taW50LmpzP3Y9MSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iLi9qcy94ZW5mdC5qcz92PTEiPjwvc2NyaXB0Pg0KPHNjcmlwdCBzcmM9Ii4vanMveGVuZnQtc3Rha2UuanM/dj0xIj48L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSIuL2pzL3VuaWZ5LmpzP3Y9MSI+PC9zY3JpcHQ+DQo8c2NyaXB0IHNyYz0iLi9qcy94ZW4tc3Rha2UuanM/dj0xIj48L3NjcmlwdD4NCjwhLS0gTWFya2Rvd24gcGFyc2VyIGZvciBBYm91dCB0YWIgLS0+DQo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9tYXJrZWQvbWFya2VkLm1pbi5qcyI+PC9zY3JpcHQ+DQoNCjxzY3JpcHQ+DQogIC8vIENhY2hlLWJ1c3Rpbmcgc2NyaXB0IHRvIGVuc3VyZSBsYXRlc3QgZmlsZXMgYXJlIGxvYWRlZCBvbiBldmVyeSByZWZyZXNoLg0KICAoZnVuY3Rpb24oKSB7DQogICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7DQogICAgY29uc3QgdmVyc2lvblF1ZXJ5ID0gJ3Y9JyArIHRpbWVzdGFtcDsNCg0KICAgIC8vIFRhcmdldCBsb2NhbCBDU1MgZmlsZXMgKGUuZy4sIGhyZWY9ImNzcy9zdHlsZS5jc3MiKQ0KICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbaHJlZl49ImNzcy8iXScpLmZvckVhY2gobGluayA9PiB7DQogICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGxpbmsuaHJlZik7DQogICAgICB1cmwuc2VhcmNoID0gdmVyc2lvblF1ZXJ5Ow0KICAgICAgbGluay5ocmVmID0gdXJsLnRvU3RyaW5nKCk7DQogICAgfSk7DQoNCiAgICAvLyBUYXJnZXQgbG9jYWwgSlMgZmlsZXMgKGUuZy4sIHNyYz0iLi9qcy9hcHAuanMiKQ0KICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFtzcmNePSIuL2pzLyJdJykuZm9yRWFjaChzY3JpcHQgPT4gew0KICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChzY3JpcHQuc3JjKTsNCiAgICAgIHVybC5zZWFyY2ggPSB2ZXJzaW9uUXVlcnk7DQogICAgICBzY3JpcHQuc3JjID0gdXJsLnRvU3RyaW5nKCk7DQogICAgfSk7DQoNCiAgICAvLyBBbHNvIGJ1c3QgY2FjaGUgZm9yIEFCSSBzY3JpcHRzIG1vdmVkIHRvIC4vQUJJLw0KICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFtzcmNePSIuL0FCSS8iXScpLmZvckVhY2goc2NyaXB0ID0+IHsNCiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoc2NyaXB0LnNyYyk7DQogICAgICB1cmwuc2VhcmNoID0gdmVyc2lvblF1ZXJ5Ow0KICAgICAgc2NyaXB0LnNyYyA9IHVybC50b1N0cmluZygpOw0KICAgIH0pOw0KICB9KSgpOw0KPC9zY3JpcHQ+DQo8ZGl2IGlkPSJtb2JpbGUtdG9vbHRpcCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L2Rpdj4NCjwvYm9keT4NCjwvaHRtbD4NCg0KDQo=',
    'README.md': 'WEVOIFRyYWNrZXIgZm9yIEV0aGVyZXVtCgpPdmVydmlldwoKLSBUcmFjayBhbmQgYWN0IG9uIFhFTiBtaW50cywgWEVORlRzLCBhbmQgWEVOIHN0YWtlcyBvbiBFdGhlcmV1bSBNYWlubmV0IGluIGEgZmFzdCwgcHJpdmFjeeKAkWF3YXJlIHdlYiBVSS4KCi0gVW5saWtlIG1vc3QgWEVOIHRyYWNrZXJzIHRoYXQgcmVxdWlyZSB5b3UgdG8gbWFudWFsbHkgZW50ZXIgZWFjaCBtaW50LCBvdXJzIG5lZWRzIG9ubHkgeW91ciBFdGhlcmV1bSBhZGRyZXNzLiBKdXN0IGVudGVyIGl0IG9uY2UsIGhpdCDigJxTY2FuLOKAnSBhbmQgeW914oCZcmUgc2V04oCUbm8gbmVlZCB0byByZW1lbWJlciB3aGF0IHRvIGFkZCBsYXRlci4KLSBBbmQgdW5saWtlIHRyYWNrZXJzIHRoYXQgcmVseSBvbiB0aGlyZC1wYXJ0eSBzZXJ2ZXJzIGFuZCBkYXRhYmFzZXMgKHdoaWNoIGNhbiBnbyBkb3duIHdoZW4gdGhvc2Ugc2VydmljZXMgaGF2ZSBvdXRhZ2VzKSwgdGhpcyB0cmFja2VyIGZyb20gWGVuLnB1YiBydW5zIGVudGlyZWx5IGluIHlvdXIgYnJvd3Nlci4gSXQgYnVpbGRzIGFuZCBtYWludGFpbnMgaXRzIG93biBsb2NhbCBkYXRhIHN0b3JlLCB1c2luZyBvbmx5IHB1YmxpYyBFdGhlcmV1bSBSUEMgZW5kcG9pbnRzIGFuZCwgb3B0aW9uYWxseSwgYSBmcmVlIEV0aGVyc2NhbiBBUEkga2V5IHRvIGZ1bGx5IHNjYW4gWEVOIG1pbnRzIGFuZCByZWxhdGVkIGNvbnRyYWN0cy4KIAotIFB1cmUgZnJvbnTigJFlbmQgKEhUTUwvQ1NTL0pTKS4gTGlicmFyaWVzOiBXZWIzLmpzLCBUYWJ1bGF0b3IsIENoYXJ0LmpzL0VDaGFydHMsIEZsYXRwaWNrci4KLSBXYWxsZXQgY29ubmVjdHMgdmlhIE1ldGFNYXNrL1JhYmJ5OyBhcHAgb25seSBzdGF5cyBjb25uZWN0ZWQgb24gRXRoZXJldW0gTWFpbm5ldC4KCi0gSW4gYWRkaXRpb24gdG8gdHJhY2tpbmcsIHRoZSBhcHAgYWxsb3dzIGNsYWltaW5nIGRpcmVjdGx5IGZyb20gdGhlIFVJOiBYRU5GVCBhbmQgQ29pbnRvb2wgbWludHMsIHNpbmdsZeKAkXdhbGxldCBYRU5GVCBzdGFrZXMsIGFuZCBiYXRjaOKAkWNsYWltaW5nIG11bHRpcGxlIENvaW50b29sIG1pbnRzLgotIFRoZSBlbnRpcmUgc29sdXRpb24gaXMgPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL0pvemVmSmFyb3NjaWFrL3hlbnRyYWNrZXIiIHRhcmdldD0iX2JsYW5rIj48dT5vcGVuIHNvdXJjZTwvdT48L2E+OyB5b3UgY2FuIHNlbGbigJFob3N0IGl0IChvciBydW4gbG9jYWxseSkuCgpDb3JlIEZlYXR1cmVzCgotIERhc2hib2FyZDogQ2FsZW5kYXIgYmFkZ2VzICsgcXVpY2sgZmlsdGVyLCBmaWx0ZXJhYmxlIHRhYmxlIChUYWJ1bGF0b3IpLCBjaGFydCBtaXJyb3JzIHZpc2libGUgcm93cywgZ2FzIHdhdGNoZXIgKDXigJM2MHMpIHdpdGggY291bnRkb3duLgotIE1pbnQvU3Rha2U6IENvaW50b29sIG9yIFhFTkZUIChSZWd1bGFyL0FQRVgpIG1pbnRpbmc7IFhFTiBzdGFraW5nIHdpdGggYmFsYW5jZSBoZWxwZXJzIGFuZCB3aG9sZeKAkXRva2VuIHJvdW5kaW5nLiBQcm9tcHRzIHRvIGNvbm5lY3Q7IHJlcXVpcmVzIE1haW5uZXQuCi0gU2V0dGluZ3M6IEFkZHJlc3MgbGlzdCAobWFzayB0b2dnbGUpLCBFdGhlcnNjYW4ga2V5IChoaW50ICsgZGVmYXVsdCB2aXNpYmxlKSwgUlBDIGltcG9ydC9yYW5raW5nIHdpdGggcHJvZ3Jlc3MsIGJhY2t1cC9yZXN0b3JlIGluY2x1ZGluZyBwcml2YWN5IG1hc2tzLgotIFdhbGxldDogQ29ubmVjdC9EaXNjb25uZWN0IHRvZ2dsZSwgd2FsbGV0IHRleHQgbWFzaywgc3RyaWN0IE1haW5uZXQgZ2F0ZSAob2Zm4oCRTWFpbm5ldCB0cmlnZ2VycyBwcm9tcHQgYW5kIGRpc2Nvbm5lY3QpLgoKRmlsZXMKCi0gaW5kZXguaHRtbDogVGFicyBhbmQgVUkuCi0gY3NzL3N0eWxlLmNzczogTGF5b3V0IGFuZCBtYXNraW5nIHN0eWxlcy4KLSBqcy9hcHAuanM6IERhc2hib2FyZCwgc2Nhbm5pbmcsIGNoYXJ0L2NhbGVuZGFyL2dhcywgd2FsbGV0LCBzZXR0aW5ncywgYmFja3VwLgotIGpzL2FwcC1taW50LmpzOiBNaW50L1N0YWtlIGZsb3dzIGFuZCBzdGFraW5nIGhlbHBlcnMuCgpUYWJzCgotIERhc2hib2FyZDogQ2FsZW5kYXIgZmlsdGVyLCB0YWJsZSwgYW5kIGNoYXJ0OyBnYXMgd2F0Y2hlciB3aXRoIGNvdW50ZG93bi4KLSBNaW50L1N0YWtlOiBTZWxlY3QgYWN0aW9uLiBNaW50IHZpYSBDb2ludG9vbC9YRU5GVCAoQVBFWCBzdXBwb3J0cyBidXJuICsgYXV0b+KAkWFwcHJvdmUpLiBTdGFrZSB3aXRoIGJhbGFuY2UvcGVyY2VudCBoZWxwZXJzIGFuZCB3aG9sZeKAkXRva2VuIHJvdW5kaW5nLgotIFNldHRpbmdzOiBBZGRyZXNzZXMsIEFQSSBrZXkgKHdpdGggaGludCBhbmQgbWFza2luZyksIFJQQyBpbXBvcnQvcmFua2luZyB3aXRoIHByb2dyZXNzLCBhbmQgYmFja3VwL3Jlc3RvcmUuCgpCZWhhdmlvcgoKLSBNYWlubmV04oCRb25seTogT24gY29ubmVjdCBvciBuZXR3b3JrIGNoYW5nZSwgdGhlIGFwcCBlbmZvcmNlcyBFdGhlcmV1bSBNYWlubmV0IChvdGhlcndpc2UgcHJvbXB0cyBhbmQgZGlzY29ubmVjdHMpLgotIFByaXZhY3k6IEFkZHJlc3MvQVBJIGtleS93YWxsZXQgdGV4dCBtYXNraW5nIHBlcnNpc3RzIGxvY2FsbHkgYW5kIGlzIGluY2x1ZGVkIGluIGJhY2t1cHMuCi0gQ2hhcnQ6IFBsb3RzIG9ubHkgdmlzaWJsZS9maWx0ZXJlZCB0YWJsZSByb3dzOyBibGFuayB3aGVuIHRoZSB0YWJsZSBpcyBlbXB0eS4KCkNoYXJ0cyBhbmQgVG9vbHRpcHMKCi0gVGhlIGNoYXJ0IHNob3dzIG9ubHkgdGhlIGN1cnJlbnRseSB2aXNpYmxlL2ZpbHRlcuKAkW1hdGNoZWQgdGFibGUgZGF0YS4KCkdldHRpbmcgU3RhcnRlZAoKLSBTZXJ2ZSBsb2NhbGx5IGFuZCBvcGVuIGluIGEgbW9kZXJuIGJyb3dzZXIuIE5vdGU6IE9wZW5pbmcgdGhlIGZpbGUgZGlyZWN0bHkgY2FuIHdvcmssIGJ1dCBhIGxvY2FsIG9yIGNsb3VkIGhvc3RlZCBodHRwIHNlcnZlciBpcyByZWNvbW1lbmRlZC4KLSBTZXR0aW5nczogYWRkIGFkZHJlc3NlcywgcGFzdGUgRXRoZXJzY2FuIGtleSAobGluayBwcm92aWRlZCksIGltcG9ydC9yYW5rIFJQQ3MsIGFuZCBvcHRpb25hbGx5IGFkanVzdCBnYXMgcmVmcmVzaCBhbmQgbWFza2luZy4KLSBEYXNoYm9hcmQ6IGNob29zZSBhIFNjYW4gbW9kZSwgY2xpY2sgU2NhbiwgZmlsdGVyIHZpYSBoZWFkZXJzIG9yIGNhbGVuZGFyOyBjaGFydCBtaXJyb3JzIHRoZSB0YWJsZS4KLSBNaW50L1N0YWtlOiBjb25uZWN0IHdhbGxldCAoTWFpbm5ldCByZXF1aXJlZCksIGNvbmZpZ3VyZSBvcHRpb25zLCBhbmQgY2xpY2sgU3RhcnQgTWludGluZy9TdGFydCBTdGFraW5nLgotIEJhY2t1cDogZXhwb3J0IHlvdXIgc2V0dGluZ3MgKGluY2x1ZGluZyBtYXNraW5nKSBmcm9tIHRoZSBTZXR0aW5ncyB0YWIuCgpSZXF1aXJlbWVudHMKCi0gTW9kZXJuIGJyb3dzZXIgd2l0aCBFUzIwMjAgc3VwcG9ydC4KLSBJbmplY3RlZCB3YWxsZXQgKE1ldGFNYXNrLCBSYWJieSkgZm9yIG1pbnQvc3Rha2UgZmxvd3MuCi0gT3B0aW9uYWw6IEV0aGVyc2NhbiBBUEkga2V5IGZvciByaWNoZXIgc2NhbiBmdW5jdGlvbmFsaXR5IGFuZCBoaWdoZXIgcmVsaWFiaWxpdHkuCgpQcml2YWN5CgotIE1hc2tpbmc6IEV0aGVyZXVtIGFkZHJlc3NlcywgQVBJIGtleXMsIGFuZCB0aGUgd2FsbGV0IGRpc3BsYXkgdGV4dCBjYW4gYmUgYmx1cnJlZC4gTWFzayBzdGF0ZSBwZXJzaXN0cyBpbiBsb2NhbCBTdG9yYWdlIGFuZCBpcyBpbmNsdWRlZCBpbiBiYWNrdXBzLgotIERhdGE6IFRoZSBhcHAgc3RvcmVzIHNldHRpbmdzIGluIHlvdXIgYnJvd3NlciBvbmx5OyBiYWNrdXBzL2V4cG9ydCBhcmUgdXNlcuKAkWluaXRpYXRlZCBKU09OIGZpbGVzLiBUaGUgYXBwIGRvZXMgbm90IHN0b3JlIGFueSBwcml2YXRlIGtleXMgaW4gdGhlIGJyb3dzZXIuCgpUcm91Ymxlc2hvb3RpbmcKCi0gUlBDIGltcG9ydCBzdGFsbHMKICAtIFRoZSBpbXBvcnQgYnV0dG9uIHN0YXlzIGRpc2FibGVkIHdoaWxlIHJ1bm5pbmcuIFN0b3AgdGhlIHByb2Nlc3Mgb3IgcmVmcmVzaCB0aGUgcGFnZSwgdGhlbiB0cnkgYWdhaW4gd2l0aCBhIGRpZmZlcmVudCBSUEMuIFdhaXQgZm9yIGNvbXBsZXRpb24gb3IgY2hlY2sgdGhlIHByb2dyZXNzIHBhbmVsIGZvciBmYWlsdXJlcy4KLSBDaGFydCBub3QgdXBkYXRpbmcKICAtIFRoZSBjaGFydCBtaXJyb3JzIHRoZSB0YWJsZTsgZW5zdXJlIGZpbHRlcnMgYXJlIHNldCBhcyBleHBlY3RlZCBvciBjbGVhciB0aGVtIHRvIHJlcG9wdWxhdGUuCi0g4oCcUGxlYXNlIHN3aXRjaCB5b3VyIHdhbGxldCB0byBFdGhlcmV1bSBNYWlubmV04oCm4oCdCiAgLSBUaGUgYXBwIGVuZm9yY2VzIG1haW5uZXQuIFN3aXRjaCB0aGUgbmV0d29yayBpbiB5b3VyIHdhbGxldCBhbmQgcmVjb25uZWN0LgoKTGljZW5zZSAoQUdQTOKAkTMuMCkKCi0gR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYzLgotIENvcHlsZWZ0OiBkZXJpdmF0aXZlcyBtdXN0IHJlbWFpbiBBR1BM4oCRMy4wLgotIE5ldHdvcmsgdXNlID0gZGlzdHJpYnV0aW9uOiBpZiB5b3UgaG9zdCBhIG1vZGlmaWVkIHZlcnNpb24sIHlvdSBtdXN0IHByb3ZpZGUgaXRzIGNvbXBsZXRlIGNvcnJlc3BvbmRpbmcgc291cmNlIHRvIHVzZXJzLgotIEtlZXAgbGljZW5zZSBub3RpY2VzOyBhZGQgbm8gZXh0cmEgcmVzdHJpY3Rpb25zLgotIEZ1bGwgdGV4dDogaHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLTMuMC5odG1sCgpBdHRyaWJ1dGlvbgoKLSBCdWlsdCB3aXRoIFRhYnVsYXRvciwgQ2hhcnQuanMsIEVDaGFydHMsIEZsYXRwaWNrciwgYW5kIFdlYjMuanMuIFdhbGxldCBwcm92aWRlciB2aWEgTWV0YU1hc2svUmFiYnkuCg==',
        'css/base.css': 'LyogR2VuZXJhdGVkIGZyb20gc3R5bGUuY3NzIHNwbGl0IGJ5IHRoZW1lLiAqLwpib2R5IHsKICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7CiAgbWFyZ2luOiAyMHB4Cn0KCmlucHV0LCBidXR0b24sIHRleHRhcmVhIHsKICBtYXJnaW46IDVweCAwOwogIHBhZGRpbmc6IDhweAp9CgpsYWJlbCB7CiAgZGlzcGxheTogYmxvY2s7CiAgbWFyZ2luLXRvcDogMTBweAp9CgojcHJvZ3Jlc3NDb250YWluZXIgewogIG1hcmdpbi10b3A6IDIwcHg7CiAgZGlzcGxheTogbm9uZQp9CgojYWRkcmVzc1Byb2dyZXNzVGV4dCB7CiAgZm9udC13ZWlnaHQ6IGJvbGQKfQoKI2NvaW50b29sLXRhYmxlIHsKICBtYXJnaW4tdG9wOiAxMHB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBtYXJnaW46IDAKfQoKLmZsYXRwaWNrci10b2RheS1idG4gewogIG1hcmdpbi1sZWZ0OiA4cHg7CiAgcGFkZGluZzogNHB4IDhweDsKICBmb250LXNpemU6IDAuODVlbTsKICBsaW5lLWhlaWdodDogMTsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGN1cnNvcjogcG9pbnRlcjsKICB1c2VyLXNlbGVjdDogbm9uZQp9CgouZmxhdHBpY2tyLXRvZGF5LWJ0bjpob3ZlciB7CiAgYmFja2dyb3VuZDogI2YzZjNmMwp9CgouZmxhdHBpY2tyLXRvZGF5LWJ0bjphY3RpdmUgewogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpCn0KCgouZmllbGQuZGFyay1tb2RlIC5lcnJvci1tZXNzYWdlIHsKICBkaXNwbGF5OiBub25lOwogIGNvbG9yOiAjZWY0NDQ0OwogIGZvbnQtc2l6ZTogMC44NXJlbTsKfQoKCgouaGVhZGVyLWNvbnRyb2xzIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDE1cHg7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMTBweDsKICByaWdodDogMjBweDsKICB6LWluZGV4OiAxMDAwCn0KCi53YWxsZXQtY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxMHB4Cn0KCi8qIFdhbGxldCBleWUgdG9nZ2xlIG5leHQgdG8gY29ubmVjdCBidXR0b24gKi8KLndhbGxldC1yZXZlYWwtYnRuIHsKICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIG1hcmdpbi1sZWZ0OiA2cHg7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZjhmYWZjKTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBwYWRkaW5nOiAycHg7CiAgd2lkdGg6IDE0cHg7ICAvKiBzYWZlIGRlZmF1bHQgdG8gYXZvaWQgZmxhc2ggb2YgaHVnZSBpY29uICovCiAgaGVpZ2h0OiAxNHB4OyAvKiB3aWxsIGJlIHJlc2l6ZWQgdG8gNTAlIG9mIGJ1dHRvbiBoZWlnaHQgYnkgSlMgKi8KICBjdXJzb3I6IHBvaW50ZXI7Cn0KLndhbGxldC1yZXZlYWwtYnRuIHN2ZyB7CiB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBkaXNwbGF5OiBibG9jazsgCn0KLndhbGxldC1yZXZlYWwtYnRuOmhvdmVyIHsKIGZpbHRlcjogYnJpZ2h0bmVzcygwLjk4KTsgCn0KCiNuZXR3b3JrTmFtZSB7CiAgZm9udC1zaXplOiAwLjllbTsKICBwYWRkaW5nOiA2cHggMTBweDsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIGJhY2tncm91bmQtY29sb3I6ICNlZWUKfQoKCi8qIEhlYWRlciBkcm9wZG93biBtZW51IChUaGVtZSwgZnV0dXJlIGFjdGlvbnMpICovCi5oZWFkZXItbWVudSB7CiBwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6IDZweDsgCn0KLm1lbnUtdG9nZ2xlIHsKICBkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgd2lkdGg6IDI4cHg7IGhlaWdodDogMjhweDsgbGluZS1oZWlnaHQ6IDE7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZjhmYWZjKTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLm1lbnUtdG9nZ2xlOmhvdmVyIHsKIGZpbHRlcjogYnJpZ2h0bmVzcygwLjk3KTsgCn0KLm1lbnUtcGFuZWwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDA7IHRvcDogY2FsYygxMDAlICsgNnB4KTsKICBtaW4td2lkdGg6IDE4MHB4OyBwYWRkaW5nOiA4cHg7IHotaW5kZXg6IDEyMDA7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICNmZmYpOwogIGNvbG9yOiBpbmhlcml0OwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDAsMCwwLC4yKTsKfQoubWVudS1zZWN0aW9uIHsKIGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogNHB4OyAKfQoubWVudS10aXRsZSB7CiBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiB2YXIoLS1tdXRlZCwgIzZiNzI4MCk7IG1hcmdpbjogMnB4IDJweCA2cHg7IAp9Ci5tZW51LWN1cnJlbnQgewogY29sb3I6IGluaGVyaXQ7IGZvbnQtd2VpZ2h0OiA2MDA7IAp9Ci5tZW51LWl0ZW0gewogIGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogOHB4OyB3aWR0aDogMTAwJTsKICBwYWRkaW5nOiA2cHggOHB4OyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgYm9yZGVyOiAwOyB0ZXh0LWFsaWduOiBsZWZ0OyBjdXJzb3I6IHBvaW50ZXI7CiAgY29sb3I6IGluaGVyaXQ7IGZvbnQ6IGluaGVyaXQ7IGJvcmRlci1yYWRpdXM6IDhweDsKfQoubWVudS1pdGVtOmhvdmVyIHsKIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4wNSk7IAp9Ci5tZW51LWl0ZW1bYXJpYS1jaGVja2VkPSJ0cnVlIl0gewogb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7IAp9Ci5tZW51LWljb24gewogd2lkdGg6IDE2cHg7IGhlaWdodDogMTZweDsgZGlzcGxheTogaW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyAKfQoKLyogRGFyayB0aGVtZSBhZGp1c3RtZW50cyBmb3IgbWVudSAqLwoKLmNsYWltLWJ1dHRvbiB7CiAgY29sb3I6ICMwMDdiZmY7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZvbnQtd2VpZ2h0OiBib2xkCn0KCgoudGFicyB7CiAgbWFyZ2luLXRvcDogMTBweAp9CgoKCgoudGFiLXBhbmVsIHsKICBkaXNwbGF5OiBub25lOwogIHBhZGRpbmctdG9wOiAxMnB4Cn0KCi50YWItcGFuZWwuYWN0aXZlIHsKICBkaXNwbGF5OiBibG9jawp9CgouaW5wdXQtY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogIGdhcDogMjRweDsKICBmbGV4LXdyYXA6IHdyYXAKfQoKLmRhc2hib2FyZC10b3AgewogIGRpc3BsYXk6IGZsZXg7CiAgZ2FwOiA1cHg7CiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgbWFyZ2luOiA0cHggMCA4cHgKfQoKLmNhbGVuZGFyLXdyYXAgewogIHdpZHRoOiA0MDBweDsKICBtaW4taGVpZ2h0OiAzMjBweDsKICBwb3NpdGlvbjogcmVsYXRpdmUKfQoKLmNhbGVuZGFyLXdyYXAgI2NhbGVuZGFyIHsKICB0cmFuc2Zvcm06IHNjYWxlKDEuNSk7CiAgdHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQKfQoKLmRldGFpbHMtd3JhcCB7CiAgZmxleDogMSAxIGF1dG87CiAgbWluLXdpZHRoOiA0MjBweAp9CgouZGV0YWlscy10aXRsZSB7CiAgbWFyZ2luOiAwIDAgOHB4Cn0KCi8qIFNpdGUgdGl0bGUgc3R5bGluZyAqLwouc2l0ZS10aXRsZSB7CiAgbWFyZ2luLXRvcDogMjhweDsKICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0Owp9Ci5zaXRlLXRpdGxlIC5icmFuZCB7CiBsZXR0ZXItc3BhY2luZzogMC41cHg7IAp9Ci5zaXRlLXRpdGxlIC5icmFuZCB7CiAgZm9udC1zaXplOiAxLjNlbTsgICAvKiAzMCUgYmlnZ2VyICovCiAgbGluZS1oZWlnaHQ6IDE7Cn0KLnNpdGUtdGl0bGUgLmJyYW5kLXN1ZmZpeCB7CiAgY29sb3I6ICM2YjcyODA7IC8qIGdyYXkgKi8KICBmb250LXNpemU6IDAuN2VtOyAvKiB+MzAlIHNtYWxsZXIgKi8KICBtYXJnaW4tbGVmdDogNnB4OwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgbGluZS1oZWlnaHQ6IDE7CiAgZ2FwOiAycHg7Cn0KLnNpdGUtdGl0bGUgLmJyYW5kLXN1ZmZpeC10ZXh0IHsKIGxpbmUtaGVpZ2h0OiAxOyBkaXNwbGF5OiBibG9jazsgCn0KLnNpdGUtdGl0bGUgLmJyYW5kLXN1ZmZpeCAuZ2FzLXN1cCB7CiAgZGlzcGxheTogYmxvY2s7ICAgICAgIC8qIGZvcmNlIGl0cyBvd24gbGluZSB3aXRoaW4gdGhlIHN1ZmZpeCAqLwogIG1hcmdpbjogMnB4IDAgMCAwOyAgIC8qIHN0YWNrIHVuZGVyIHRoZSBzdWZmaXggdGV4dCAqLwogIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTsKICBmb250LXNpemU6IDAuNjNlbTsgICAvKiAzMCUgc21hbGxlciB0aGFuIHByZXZpb3VzIDAuOWVtICovCn0KCiNwcm9ncmVzc0NvbnRhaW5lciB7CiAgbWFyZ2luLXRvcDogMTJweAp9CgojY2FsZW5kYXIgewogIG1hcmdpbjogNHB4IDAKfQoKLm1pbnQtZ2FzbGluZSB7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDEycHg7CiAgYWxpZ24taXRlbXM6IGJhc2VsaW5lOwogIG1hcmdpbjogOHB4IDAgMTRweCAwCn0KCi5tdXRlZCB7CiAgY29sb3I6ICM2YjcyODAKfQoKLm1pbnQtY29udHJvbHMgewogIGRpc3BsYXk6IGdyaWQ7CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjE4MHB4IDFmcjsKICBnYXA6IDE4cHggMjRweDsKICBhbGlnbi1pdGVtczogZW5kOwogIG1heC13aWR0aDogNzIwcHgKfQoKLm1pbnQtZmllbGQgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBnYXA6IDZweAp9CgoubWludC1pbnB1dCB7CiAgd2lkdGg6IDE4MHB4OwogIGhlaWdodDogMzRweDsKICBwYWRkaW5nOiA2cHggMTBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjZDFkNWRiOwogIGJvcmRlci1yYWRpdXM6IDZweDsKICBvdXRsaW5lOiBub25lCn0KCi5taW50LWlucHV0OmZvY3VzIHsKICBib3JkZXItY29sb3I6ICMyNTYzZWI7CiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzcsIDk5LCAyMzUsIC4xNSkKfQoKLm1pbnQtdGVybS1yb3cgewogIGRpc3BsYXk6IGZsZXg7CiAgZ2FwOiAxMHB4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgd2lkdGg6IGF1dG87CiAgZmxleC13cmFwOiBub3dyYXA7Cn0KCi5taW50LWFjdGlvbnMgewogIG1hcmdpbi10b3A6IDFweDsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTBweDsKICBhbGlnbi1pdGVtczogY2VudGVyCn0KCi5idG4tc2Vjb25kYXJ5IHsKICBiYWNrZ3JvdW5kOiAjZjNmNGY2OwogIGJvcmRlcjogMXB4IHNvbGlkICNkMWQ1ZGI7CiAgY29sb3I6ICMxMTE4Mjc7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIHBhZGRpbmc6IDdweCAxMnB4OwogIGN1cnNvcjogcG9pbnRlcgp9CgouYnRuLXNlY29uZGFyeTpob3ZlciB7CiAgYmFja2dyb3VuZDogI2U1ZTdlYgp9CgouYnRuLW1pbnQgewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGNvbG9yOiAjMTExODI3OwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA4cHggMTJweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBsaW5lLWhlaWdodDogMS4yOwogIGZvbnQtc2l6ZTogMC45ZW07CiAgYXBwZWFyYW5jZTogbm9uZTsKICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4xNXMgZWFzZSwgYm9yZGVyLWNvbG9yIC4xNXMgZWFzZSwgY29sb3IgLjE1cyBlYXNlLCBib3gtc2hhZG93IC4xNXMgZWFzZQp9CgouYnRuLW1pbnQ6aG92ZXIgewogIGJhY2tncm91bmQ6ICNkYmVhZmU7CiAgYm9yZGVyLWNvbG9yOiAjOTNjNWZkCn0KCi5idG4tbWludDpkaXNhYmxlZCB7CiAgb3BhY2l0eTogLjY7CiAgY3Vyc29yOiBub3QtYWxsb3dlZAp9Cgojdm11LWNoYXJ0LXdyYXAgLmNvbGxhcHNpYmxlLXRvZ2dsZSB7CiAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDZweDsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMxMTE4MjcpOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiA0cHggOHB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQojdm11LWNoYXJ0LXdyYXAgLmNvbGxhcHNpYmxlLWJvZHkgewogbWFyZ2luLXRvcDogOHB4OyAKfQoKLyogQ2hhcnQgY29udHJvbHMgKG1ldHJpYyB0b2dnbGUpICovCiN2bXUtY2hhcnQtd3JhcCAuY2hhcnQtY29udHJvbHMgLnRvZ2dsZS1ncm91cCB7CiAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQojdm11LWNoYXJ0LXdyYXAgLmNoYXJ0LWNvbnRyb2xzIC50b2dnbGUtZ3JvdXAgLnRvZ2dsZSB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyOiBub25lOwogIHBhZGRpbmc6IDZweCAxMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKfQojdm11LWNoYXJ0LXdyYXAgLmNoYXJ0LWNvbnRyb2xzIC50b2dnbGUtZ3JvdXAgLnRvZ2dsZS5hY3RpdmUgewogIGJhY2tncm91bmQ6ICNkYmVhZmU7CiAgY29sb3I6ICMxMTE4Mjc7Cn0KCgoKI3BlckFkZHJlc3NTdW1tYXJ5IHsKICBtYXJnaW4tdG9wOiA4cHg7CiAgZm9udC1zaXplOiAwLjhlbTsKICBjb2xvcjogIzg4OAp9CgovKiBSZW1vdmVkIHBhc3N3b3JkLWxpa2UgbWFza2luZzsgbWFza2luZyBub3cgdXNlcyAubWFza2VkIGJsdXIgY2xhc3MgKi8KCgouY2hlY2tib3gtZ3JvdXAgewogIG1hcmdpbi1sZWZ0OiAyMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDVweAp9CgouY2hlY2tib3gtZ3JvdXAgaW5wdXQgewogIG1hcmdpbjogMAp9CgouY2hlY2tib3gtZ3JvdXAgbGFiZWwgewogIG1hcmdpbjogMAp9CgouZmlsdGVyLWNoaXBzIHsKICBtYXJnaW46IDE1cHggMDsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTBweDsKICBhbGlnbi1pdGVtczogY2VudGVyCn0KCi5jaGlwIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwOwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgYm9yZGVyLXJhZGl1czogMTZweDsKICBwYWRkaW5nOiA1cHggMTVweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZm9udC1zaXplOiAwLjllbQp9CgouY2hpcDpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2QwZDBkMAp9CgouY2hpcC5hY3RpdmUgewogIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7CiAgY29sb3I6IHdoaXRlOwogIGJvcmRlci1jb2xvcjogIzAwN2JmZgp9CgouaW5saW5lLXNlcCB7CiAgb3BhY2l0eTogMC42OwogIHVzZXItc2VsZWN0OiBub25lCn0KCi5jaGlwLWdob3N0IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXItc3R5bGU6IGRhc2hlZAp9CgoKLm1vZGFsIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgaW5zZXQ6IDA7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjM1KTsKICB6LWluZGV4OiAxMDAwCn0KCi5tb2RhbC5oaWRkZW4gewogIGRpc3BsYXk6IG5vbmUKfQoKLm1vZGFsLWNvbnRlbnQgewogIGJhY2tncm91bmQ6ICNmZmY7CiAgY29sb3I6ICMxMTE7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiAxNHB4IDE2cHg7CiAgbWluLXdpZHRoOiAyODBweDsKICBtYXgtd2lkdGg6IDkydnc7CiAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgwLCAwLCAwLCAuMjUpCn0KCi5tb2RhbC1hY3Rpb25zIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgZ2FwOiA4cHgKfQoKI3NjYW5CdG46ZGlzYWJsZWQgewogIG9wYWNpdHk6IC41OwogIGN1cnNvcjogbm90LWFsbG93ZWQ7Cn0KCiNzY2FuWGVuZnRCdG46ZGlzYWJsZWQgewogIG9wYWNpdHk6IC42OwogIGN1cnNvcjogbm90LWFsbG93ZWQ7Cn0KCi5zci1vbmx5IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogLTEwMDAwcHg7CiAgd2lkdGg6IDFweDsKICBoZWlnaHQ6IDFweDsKICBvdmVyZmxvdzogaGlkZGVuCn0KCiNzdW1tYXJ5Q29udGFpbmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTlmNGZmOwogIGJvcmRlcjogMXB4IHNvbGlkICNiNWQ5ZmY7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIHBhZGRpbmc6IDVweCA1cHg7IC8qIHRleHQgd2lkdGggKyAxMHB4IHRvdGFsICovCiAgbWFyZ2luLXRvcDogOHB4OwogIGZvbnQtc2l6ZTogMC45MmVtOwogIGxpbmUtaGVpZ2h0OiAxLjQ7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHdpZHRoOiAtbW96LWZpdC1jb250ZW50OwogIHdpZHRoOiBmaXQtY29udGVudDsKfQoKLyogUHJvZ3Jlc3MgY29udGFpbmVyOiBmYWludCBtYXR0ZSByZWRkaXNoIHdpdGggc3VidGxlIGJvcmRlcjsgc21hbGxlciB0ZXh0ICovCiNwcm9ncmVzc0NvbnRhaW5lciB7CiAgZGlzcGxheTogbm9uZTsgICAgICAgICAgICAgICAgIC8qIGhpZGRlbiBieSBkZWZhdWx0ICovCiAgYmFja2dyb3VuZDogI2ZmZjVmNTsgICAgICAgICAgIC8qIHNvZnQgcmVkICovCiAgYm9yZGVyOiAxcHggc29saWQgI2Y1YzJjNzsgICAgIC8qIHNsaWdodGx5IGRhcmtlciBmcmFtZSAqLwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiA4cHggMTBweDsKICBtYXJnaW46IDEwcHggMDsKICBmb250LXNpemU6IDAuOTJlbTsgICAgICAgICAgICAgLyogc2xpZ2h0bHkgc21hbGxlciB0ZXh0ICovCiAgd2lkdGg6IC1tb3otZml0LWNvbnRlbnQ7ICAgICAgIC8qIG1hdGNoIHN1bW1hcnlDb250YWluZXIgKi8KICB3aWR0aDogZml0LWNvbnRlbnQ7ICAgICAgICAgICAgLyogbWF0Y2ggc3VtbWFyeUNvbnRhaW5lciAqLwp9CiNwcm9ncmVzc0NvbnRhaW5lci52aXNpYmxlIHsKIGRpc3BsYXk6IGJsb2NrOyAKfQojcHJvZ3Jlc3NDb250YWluZXIgI3NjYW5UeXBlTGluZSB7CiBtYXJnaW4tYm90dG9tOiA0cHg7IGNvbG9yOiAjN2YxZDFkOyAKfQojcHJvZ3Jlc3NDb250YWluZXIgI2FkZHJlc3NQcm9ncmVzc0NvbnRhaW5lciB7CiBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOiBiYXNlbGluZTsgCn0KI3Byb2dyZXNzQ29udGFpbmVyICN0b2tlblByb2dyZXNzQ29udGFpbmVyIHsKIG1hcmdpbi10b3A6IDhweCAhaW1wb3J0YW50OyAKfQovKiBNYWtlIHByb2dyZXNzIHRleHRzIGF0IGxlYXN0IDMwJSBzbWFsbGVyICovCiNwcm9ncmVzc0NvbnRhaW5lciAjYWRkcmVzc1Byb2dyZXNzVGV4dCwKI3Byb2dyZXNzQ29udGFpbmVyICN0b2tlblByb2dyZXNzVGV4dCB7CiAgZm9udC1zaXplOiAwLjdlbTsKfQoKLyogRGFyayB0aGVtZSB0d2Vha3MgZm9yIHRoZSBzY2FubmluZyBwcm9ncmVzcyBwYW5lbCAqLwpib2R5LmRhcmstbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI2FkZHJlc3NQcm9ncmVzc1RleHQsCmJvZHkuZGFyay1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAjdG9rZW5Qcm9ncmVzc1RleHQsCmJvZHkuZGFyay1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAjcnBjU3RhdHVzLAoKLmJ1dHRvbi1saWtlIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgcGFkZGluZzogOHB4IDE0cHg7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjY2NjKTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZWZlZmVmKTsKICBjb2xvcjogaW5oZXJpdDsKICBmb250OiBpbmhlcml0OwogIGxpbmUtaGVpZ2h0OiAxLjI7CiAgY3Vyc29yOiBwb2ludGVyOwogIHVzZXItc2VsZWN0OiBub25lOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZQp9CgouYnV0dG9uLWxpa2U6aG92ZXIgewogIGZpbHRlcjogYnJpZ2h0bmVzcygwLjk3KQp9CgouYnV0dG9uLWxpa2U6YWN0aXZlIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KQp9CgojdG9rZW5Qcm9ncmVzc0NvbnRhaW5lciB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGdhcDogMTBweDsKICBmbGV4LXdyYXA6IHdyYXAKfQoKI2V0clRleHQgewogIGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBvcGFjaXR5OiAwLjg1OwogIG1pbi13aWR0aDogNmNoCn0KCiN0b2tlblByb2dyZXNzQmFyIHsKICB3aWR0aDogbWluKDU2MHB4LCAxMDAlKTsKICBoZWlnaHQ6IDEwcHgKfQoKLmJ1dHRvbi1ncm91cCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IHdyYXA7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDEwcHgKfQoKLmNoZWNrYm94LWdyb3VwIHsKICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGdhcDogNHB4OwogIG1hcmdpbjogMAp9CgoKCgoubW9kYWwgewogIHBvc2l0aW9uOiBmaXhlZDsKICB6LWluZGV4OiAyMDAwOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBvdmVyZmxvdzogYXV0bzsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSkKfQoKLm1vZGFsLWNvbnRlbnQgewogIGJhY2tncm91bmQtY29sb3I6ICNmZWZlZmU7CiAgbWFyZ2luOiAxNSUgYXV0bzsKICBwYWRkaW5nOiAyMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICM4ODg7CiAgd2lkdGg6IDgwJTsKICBtYXgtd2lkdGg6IDQwMHB4OwogIGJvcmRlci1yYWRpdXM6IDhweAp9CgouY2xvc2UtYnV0dG9uIHsKICBjb2xvcjogI2FhYTsKICBmbG9hdDogcmlnaHQ7CiAgZm9udC1zaXplOiAyOHB4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGN1cnNvcjogcG9pbnRlcgp9CgoubW9kYWwtYWN0aW9ucyB7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDEwcHg7CiAgbWFyZ2luLXRvcDogMTVweAp9CgoubW9kYWwtYWN0aW9ucyBidXR0b24gewogIGZsZXgtZ3JvdzogMQp9CgouZ2FzLW5vdGUgewogIGZvbnQtc2l6ZTogMC44ZW07CiAgY29sb3I6ICM2NjY7CiAgbWFyZ2luLXRvcDogMjBweAp9CgoKCi50b2FzdCB7CiAgdmlzaWJpbGl0eTogaGlkZGVuOwogIG1pbi13aWR0aDogMjUwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzsKICBjb2xvcjogI2ZmZjsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIHBhZGRpbmc6IDE2cHg7CiAgcG9zaXRpb246IGZpeGVkOwogIHotaW5kZXg6IDMwMDA7CiAgbGVmdDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICBib3R0b206IDMwcHgKfQoKLnRvYXN0LnNob3cgewogIHZpc2liaWxpdHk6IHZpc2libGU7CiAgLXdlYmtpdC1hbmltYXRpb246IGZhZGVpbiAwLjVzLCBmYWRlb3V0IDAuNXMgMi41czsKICBhbmltYXRpb246IGZhZGVpbiAwLjVzLCBmYWRlb3V0IDAuNXMgMi41cwp9CgoudG9hc3QuZXJyb3IgewogIGJhY2tncm91bmQtY29sb3I6ICNjMDM5MmIKfQoKLnRvYXN0LnN1Y2Nlc3MgewogIGJhY2tncm91bmQtY29sb3I6ICMyN2FlNjAKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVpbiB7CiAgZnJvbSB7CiAgICBib3R0b206IDA7CiAgICBvcGFjaXR5OiAwCiAgfQogIHRvIHsKICAgIGJvdHRvbTogMzBweDsKICAgIG9wYWNpdHk6IDEKICB9Cn0KCkBrZXlmcmFtZXMgZmFkZWluIHsKICBmcm9tIHsKICAgIGJvdHRvbTogMDsKICAgIG9wYWNpdHk6IDAKICB9CiAgdG8gewogICAgYm90dG9tOiAzMHB4OwogICAgb3BhY2l0eTogMQogIH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVvdXQgewogIGZyb20gewogICAgYm90dG9tOiAzMHB4OwogICAgb3BhY2l0eTogMQogIH0KICB0byB7CiAgICBib3R0b206IDA7CiAgICBvcGFjaXR5OiAwCiAgfQp9CgpAa2V5ZnJhbWVzIGZhZGVvdXQgewogIGZyb20gewogICAgYm90dG9tOiAzMHB4OwogICAgb3BhY2l0eTogMQogIH0KICB0byB7CiAgICBib3R0b206IDA7CiAgICBvcGFjaXR5OiAwCiAgfQp9CgpAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsKICAuaGVhZGVyLWNvbnRyb2xzIHsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7CiAgICBnYXA6IDEwcHgKICB9Cn0KCi8qIChSZW1vdmVkIHByb2JsZW1hdGljIEZsYXRwaWNrciBoZWFkZXIgb3ZlcnJpZGVzKSAqLwoKYnV0dG9uOmZvY3VzLCBhOmZvY3VzLCBpbnB1dDpmb2N1cywgLmNsYWltLWJ1dHRvbjpmb2N1cywgLmNoaXA6Zm9jdXMgewogIG91dGxpbmU6IDJweCBzb2xpZCAjNGRhM2ZmICFpbXBvcnRhbnQ7CiAgb3V0bGluZS1vZmZzZXQ6IDJweAp9CgoKLyogPT09IFJldHJvIFRoZW1lIChDb21tb2RvcmUgNjTigJFpbnNwaXJlZCkgPT09ICovCgpib2R5LnJldHJvLW1vZGUgaW5wdXQsCmJvZHkucmV0cm8tbW9kZSB0ZXh0YXJlYSwKYm9keS5yZXRyby1tb2RlIGJ1dHRvbiwKCi8qIEhlYWRlciBjb250cm9scyAqLwoKLyogQ2hpcHMgKi8KCi8qIFByb2dyZXNzIGNvbnRhaW5lciAqLwpib2R5LnJldHJvLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyICNhZGRyZXNzUHJvZ3Jlc3NUZXh0LApib2R5LnJldHJvLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyICN0b2tlblByb2dyZXNzVGV4dCwKYm9keS5yZXRyby1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAjcnBjU3RhdHVzLAoKLyogTW9kYWwgKi8KCi8qIEZvb3RlciAmIG1hcmtkb3duICovCmJvZHkucmV0cm8tbW9kZSAubWFya2Rvd24tYm9keSBjb2RlLAoKLyogVGFidWxhdG9yICh0YWJsZSkgKi8KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIGlucHV0LAoKLyogTWlzYyAqLwoKCi8qIERhcmsgbW9kZTogbWFrZSBlc3RYZW5Vc2QgYSBsaWdodCBncmVlbiAqLwovKiBIaW50IGJyb3dzZXJzIGZvciBuYXRpdmUgZm9ybSBjb250cm9sIHRoZW1pbmcgKi8KCi8qIERhcmsgdGhlbWUgdmFyaWFibGVzIHRvIHVuaWZ5IHBhbmVsL2lucHV0L2JvcmRlci9tdXRlZCBjb2xvcnMgKi8KCi8qIFRoZW1lIHNlbGVjdCBhZGFwdHMgdG8gdGhlbWUgKGNvbnRyb2wgKyBkcm9wZG93biBpdGVtcykgKi8KYm9keS5kYXJrLW1vZGUgI3RoZW1lU2VsZWN0LAoKLyogTWFrZSBvdGhlciBzZWxlY3RzIG1hdGNoIHRoZW1lU2VsZWN0IGxvb2sgKi8KI3Jlc2V0RGJTZWxlY3QsICNtaW50QWN0aW9uLCAjdGhlbWVTZWxlY3QgewogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgZm9udC1zaXplOiAxZW07CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA4cHggMTBweDsKICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgI2ZmZik7CiAgY29sb3I6IGluaGVyaXQ7Cn0KCi8qIFN1bW1hcnkgY29udGFpbmVyIHR1bmVkIGZvciBkYXJrIG1vZGUgKi8KLyogU3VtbWFyeSBjb250YWluZXIgdHVuZWQgZm9yIHJldHJvIG1vZGUgKi8KCi8qIEZpeCBidXR0b24gaG92ZXJzIGluIGRhcmsgbW9kZSAoTWludC9TdGFrZSArIFNldHRpbmdzKSAqLwpib2R5LmRhcmstbW9kZSAjdGFiLW1pbnQgLmJ0bi1taW50OmhvdmVyLAoKYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyBidXR0b246aG92ZXIsCmJvZHkuZGFyay1tb2RlICN0YWItc2V0dGluZ3MgLmJ1dHRvbi1saWtlOmhvdmVyLAoKLyogVW5pZnkgU2V0dGluZ3MgdGFiIGJhY2tncm91bmRzIHRvIG1hdGNoIGV0aGVyc2NhbkFwaUtleSBpbnB1dCBiZyAqLwpib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIC5zZXR0aW5ncy1jYXJkLApib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIGJ1dHRvbiwKYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyAuYnV0dG9uLWxpa2UsCmJvZHkuZGFyay1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIGlucHV0W3R5cGU9InRleHQiXSwKYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyAuZmllbGQgaW5wdXRbdHlwZT0icGFzc3dvcmQiXSwKYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyAuZmllbGQgaW5wdXRbdHlwZT0ibnVtYmVyIl0sCmJvZHkuZGFyay1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIHRleHRhcmVhLAoKLyogUmV0cm86IHVuaWZ5IFNldHRpbmdzIHRhYiB0byByZXRybyBpbnB1dCBiYWNrZ3JvdW5kICovCmJvZHkucmV0cm8tbW9kZSAjdGFiLXNldHRpbmdzIC5zZXR0aW5ncy1jYXJkLApib2R5LnJldHJvLW1vZGUgI3RhYi1zZXR0aW5ncyBidXR0b24sCmJvZHkucmV0cm8tbW9kZSAjdGFiLXNldHRpbmdzIC5idXR0b24tbGlrZSwKYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIGlucHV0W3R5cGU9InRleHQiXSwKYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIGlucHV0W3R5cGU9InBhc3N3b3JkIl0sCmJvZHkucmV0cm8tbW9kZSAjdGFiLXNldHRpbmdzIC5maWVsZCBpbnB1dFt0eXBlPSJudW1iZXIiXSwKYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIHRleHRhcmVhLAoKLyogRXhwbGljaXQga2V5IGZpZWxkcyB0byBlbnN1cmUgYWRoZXJlbmNlIGV2ZW4gaWYgb3ZlcnJpZGRlbiBlbHNld2hlcmUgKi8KYm9keS5yZXRyby1tb2RlICNldGhlcnNjYW5BcGlLZXksCmJvZHkucmV0cm8tbW9kZSAjY2h1bmtTaXplLApib2R5LnJldHJvLW1vZGUgI2dhc1JlZnJlc2hTZWNvbmRzLApib2R5LnJldHJvLW1vZGUgI21pbnRBY3Rpb24sCi8qIE1pbnQvU3Rha2Ugc3BlY2lmaWMgbnVtZXJpYyBmaWVsZHMgKi8KYm9keS5yZXRyby1tb2RlICNtaW50Vm11cywKYm9keS5yZXRyby1tb2RlICNtaW50VGVybURheXMsCmJvZHkucmV0cm8tbW9kZSAjc3Rha2VBbW91bnQsCgoKCi8qIE1hcmtkb3duIHJlbmRlcmluZyAoQWJvdXQgdGFiKSAqLwoubWFya2Rvd24tYm9keSB7CiAgbWF4LXdpZHRoOiA5MDBweDsKICBtYXJnaW46IDhweCBhdXRvIDAgYXV0bzsKICBsaW5lLWhlaWdodDogMS42OwogIGZvbnQtc2l6ZTogMC45NXJlbTsKfQoubWFya2Rvd24tYm9keSBoMSwgLm1hcmtkb3duLWJvZHkgaDIsIC5tYXJrZG93bi1ib2R5IGgzLAoubWFya2Rvd24tYm9keSBoNCwgLm1hcmtkb3duLWJvZHkgaDUsIC5tYXJrZG93bi1ib2R5IGg2IHsKICBtYXJnaW46IDEuMmVtIDAgMC42ZW07CiAgbGluZS1oZWlnaHQ6IDEuMjU7Cn0KLm1hcmtkb3duLWJvZHkgcCB7CiBtYXJnaW46IDAuNmVtIDA7IAp9Ci5tYXJrZG93bi1ib2R5IHVsLCAubWFya2Rvd24tYm9keSBvbCB7CiBtYXJnaW46IDAuNmVtIDAgMC42ZW0gMS4yZW07IAp9Ci5tYXJrZG93bi1ib2R5IGNvZGUgewogYmFja2dyb3VuZDogI2Y2ZjhmYTsgcGFkZGluZzogMCAzcHg7IGJvcmRlci1yYWRpdXM6IDRweDsgCn0KLm1hcmtkb3duLWJvZHkgcHJlIHsKIGJhY2tncm91bmQ6ICNmNmY4ZmE7IHBhZGRpbmc6IDEwcHg7IG92ZXJmbG93OiBhdXRvOyBib3JkZXItcmFkaXVzOiA2cHg7IAp9Ci5tYXJrZG93bi1ib2R5IHRhYmxlIHsKIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IHdpZHRoOiAxMDAlOyAKfQoubWFya2Rvd24tYm9keSB0aCwgLm1hcmtkb3duLWJvZHkgdGQgewogYm9yZGVyOiAxcHggc29saWQgI2U1ZTdlYjsgcGFkZGluZzogNnB4IDhweDsgCn0KLm1hcmtkb3duLWJvZHkgaW1nIHsKIG1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOyAKfQoubWFya2Rvd24tYm9keSBhIHsKIGNvbG9yOiAjMjU2M2ViOyAKfQoKQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgLm1hcmtkb3duLWJvZHkgeyBmb250LXNpemU6IDAuOThyZW07IHBhZGRpbmc6IDAgOHB4OyB9Cn0KCi8qIEZvb3RlciAqLwouc2l0ZS1mb290ZXIgewogIG1hcmdpbi10b3A6IDI0cHg7CiAgcGFkZGluZy10b3A6IDEycHg7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgY29sb3I6ICM2YjcyODA7IC8qIG11dGVkIGdyYXkgKi8KICBmb250LXNpemU6IDAuODVlbTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLnNpdGUtZm9vdGVyIGEgewogY29sb3I6IGluaGVyaXQ7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyAKfQouc2l0ZS1mb290ZXIgLmlubGluZS1zZXAgewogbWFyZ2luOiAwIDZweDsgY29sb3I6ICM5Y2EzYWY7IAp9CgoKLyogSW1wcm92ZSBUYWJ1bGF0b3IgaGVhZGVyIGluIGRhcmsgbW9kZTogcmVhZGFibGUgdGV4dCwgc3VidGxlIHNlcGFyYXRvcnMsIGNsZWFyIGhvdmVyL3NvcnQgKi8KLyogSG92ZXIgYW5kIGFjdGl2ZSBzdGF0ZXMgZm9yIHNvcnRhYmxlIGhlYWRlcnMgKi8KLyogU29ydCBhcnJvd3MgaW4gZGFyayBtb2RlICovCi8qIEhlYWRlciBmaWx0ZXIgaW5wdXRzICovCmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIGlucHV0LAoKCgoKCgoKCgojdGFiLW1pbnQgLm1pbnQtZmllbGQgbGFiZWwgewogIG1hcmdpbi10b3A6IDAKfQoKI3RhYi1taW50IC5taW50LWlucHV0IHsKICBtYXJnaW46IDAKfQoKI3RhYi1taW50IC5idG4tc2Vjb25kYXJ5IHsKICBtYXJnaW46IDAKfQoKLyogRW5zdXJlIFNldCBUZXJtIGJ1dHRvbiBtYXRjaGVzIGlucHV0IGhlaWdodCBpbiBNaW50IHRhYiAqLwojdGFiLW1pbnQgI2J0blNldE1heFRlcm0gewogIGhlaWdodDogMzRweDsgICAgICAgICAgICAgLyogbWF0Y2ggLm1pbnQtaW5wdXQgaGVpZ2h0ICovCiAgcGFkZGluZy10b3A6IDA7ICAgICAgICAgICAvKiBsZXQgaGVpZ2h0IGNvbnRyb2wgdmVydGljYWwgc2l6ZSAqLwogIHBhZGRpbmctYm90dG9tOiAwOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OyAgICAgLyoga2VlcCB0ZXh0IHZlcnRpY2FsbHkgY2VudGVyZWQgKi8KICBhbGlnbi1pdGVtczogY2VudGVyOwp9CgovKiBNYXRjaCBzdGFrZSBHZXQgQmFsYW5jZSBidXR0b24gaGVpZ2h0L2FsaWdubWVudCAqLwojdGFiLW1pbnQgI2J0blN0YWtlR2V0QmFsYW5jZSB7CiAgaGVpZ2h0OiAzNHB4OwogIHBhZGRpbmctdG9wOiAwOwogIHBhZGRpbmctYm90dG9tOiAwOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi8qIFN0YWNrIHN0YWtlIGNvbnRyb2xzIHRvIGF2b2lkIG92ZXJsYXA7IHB1dCBUZXJtIGJlbG93IEFtb3VudCAqLwojc3Rha2VDb250cm9scy5taW50LWNvbnRyb2xzIHsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICBtYXgtd2lkdGg6IDcyMHB4Owp9CgovKiBNYWtlIHN0YWtlIHBlcmNlbnRhZ2UgYnV0dG9ucyBzbWFsbGVyICovCiNzdGFrZVBlcmNlbnRPcHRpb25zIC5saW5rbGlrZSB7CiAgZm9udC1zaXplOiAwLjg1ZW07CiAgcGFkZGluZzogMCA0cHg7CiAgb3BhY2l0eTogMC45Owp9CgpidXR0b24uYnRuLW1pbnQgewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMxMTE4MjcpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYikKfQoKCi5idG4tbWludDpkaXNhYmxlZCB7CiAgb3BhY2l0eTogLjY7CiAgY3Vyc29yOiBub3QtYWxsb3dlZAp9CgojY2FsZW5kYXIgLmZsYXRwaWNrci1kYXkucHJldk1vbnRoRGF5LAojY2FsZW5kYXIgLmZsYXRwaWNrci1kYXkubmV4dE1vbnRoRGF5IHsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7Cn0KCgovKiA9PT09PSBTZXR0aW5ncyBsYXlvdXQgPT09PT0gKi8KLnNldHRpbmdzLWdyaWQgewogIGRpc3BsYXk6IGdyaWQ7CiAgd2lkdGg6IDEwMCU7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCBtaW5tYXgoNDAwcHgsIDFmcikpOwogIGdhcDogMTZweDsKICBtYXJnaW4tdG9wOiA4cHg7CiAgbWF4LXdpZHRoOiAxNDAwcHg7ICAgICAgLyogb3B0aW9uYWw6IGtlZXBzIGxpbmUgbGVuZ3RoIGNvbWZ5ICovCiAgbWFyZ2luLWlubGluZTogYXV0bzsgICAgLyogY2VudGVyIHRoZSBncmlkICovCiAgYWxpZ24taXRlbXM6IHN0YXJ0OyAgICAgLyogcHJldmVudCBjYXJkcyBmcm9tIHN0cmV0Y2hpbmcgdG8gdGFsbGVzdCAqLwp9CgpAbWVkaWEgKG1heC13aWR0aDogMTIwMHB4KSB7CiAgLnNldHRpbmdzLWdyaWQgewogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgbWlubWF4KDQwMHB4LCAxZnIpKTsKICB9Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgewogIC5zZXR0aW5ncy1ncmlkIHsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOwogIH0KfQoKLnNldHRpbmdzLWNhcmQgewogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICNmZmYpOwogIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgcGFkZGluZzogMTZweDsKICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLDAsMCwwLjAzKTsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHdpZHRoOiAxMDAlOwogIG1pbi1oZWlnaHQ6IGZpdC1jb250ZW50Owp9Cgouc2V0dGluZ3MtY2FyZCBoMyB7CiAgbWFyZ2luOiAwIDAgMTJweCAwOwogIGZvbnQtc2l6ZTogMXJlbTsKICBsaW5lLWhlaWdodDogMS4yOwp9Cgouc2V0dGluZ3MtY2FyZCBwIHsKICBtYXJnaW46IDAgMCAxMHB4IDA7CiAgY29sb3I6IHZhcigtLW11dGVkLCAjNmI3MjgwKTsKICBmb250LXNpemU6IDAuOTVyZW07Cn0KCi5maWVsZCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGdhcDogNnB4OwogIG1hcmdpbi1ib3R0b206IDEycHg7Cn0KCi5maWVsZCBsYWJlbCB7CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQoKLmZpZWxkIHNtYWxsLAoubXV0ZWQgewogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzZiNzI4MCk7Cn0KCi5maWVsZCBpbnB1dFt0eXBlPSJ0ZXh0Il0sCi5maWVsZCBpbnB1dFt0eXBlPSJwYXNzd29yZCJdLAouZmllbGQgaW5wdXRbdHlwZT0ibnVtYmVyIl0sCi5maWVsZCB0ZXh0YXJlYSwKLmZpZWxkIHNlbGVjdCB7CiAgd2lkdGg6IDEwMCU7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIHBhZGRpbmc6IDhweCAxMHB4OwogIGZvbnQ6IGluaGVyaXQ7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcsICNmZmYpOwp9CgouaW5wdXQtaW5saW5lIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxMHB4Owp9CgouZ3JpZC0yIHsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjsKICBnYXA6IDEycHg7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDcyMHB4KSB7CiAgLmdyaWQtMiB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9Cn0KCi5idXR0b24tcm93IHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTBweDsKICBmbGV4LXdyYXA6IHdyYXA7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmJ1dHRvbi1saWtlIHsKICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA4cHggMTJweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICNmZmYpOwp9Cgouc2V0dGluZ3MtZGl2aWRlciB7CiAgaGVpZ2h0OiAxcHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBtYXJnaW46IDhweCAwIDEycHggMDsKfQoKLnNldHRpbmdzLW5vdGUgewogIGZvbnQtc2l6ZTogMC45cmVtOwogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzZiNzI4MCk7Cn0KCi5zZXR0aW5ncy1zdGF0dXMgewogIG1hcmdpbi10b3A6IDZweDsKICBmb250LXNpemU6IDAuOXJlbTsKICBjb2xvcjogdmFyKC0tbXV0ZWQsICM2YjcyODApOwp9CgovKiBTaG93L0hpZGUgdG9nZ2xlcyBmb3IgaW5wdXRzICovCi5pbnB1dC13aXRoLXRvZ2dsZSB7CiBwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDEwMCU7IAp9Ci5yZXZlYWwtcm93IHsKIGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IG1hcmdpbi10b3A6IDRweDsgCn0KLnJldmVhbC1idG4gewogYm9yZGVyOiAwOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgY29sb3I6IHZhcigtLW11dGVkLCAjNmI3MjgwKTsgcGFkZGluZzogMnB4OyBjdXJzb3I6IHBvaW50ZXI7IAp9Ci5yZXZlYWwtYnRuOmhvdmVyIHsKIGNvbG9yOiB2YXIoLS1idG4tZmcsICMxMTE4MjcpOyAKfQoKLyogTWFza2luZyBzdHlsZSBmb3IgbXVsdGktbGluZSB0ZXh0YXJlYSAqLwoubWFza2VkIHsKICBmaWx0ZXI6IGJsdXIoNnB4KTsKfQoKLnNldHRpbmdzLWNhcmQuZGFuZ2VyIHsKICBib3JkZXItY29sb3I6ICNlZjQ0NDQ7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICNmZmYpOwp9Ci5zZXR0aW5ncy1jYXJkLmRhbmdlciBoMyB7CiAgY29sb3I6ICNiOTFjMWM7Cn0KLnNldHRpbmdzLWNhcmQgLnNlY29uZGFyeSB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIHBhZGRpbmc6IDhweCAxMnB4Owp9CgovKiAtLS0gU2V0dGluZ3MgdGFiOiB1bmlmeSBidXR0b24gbG9vayAmIGhvdmVyIC0tLSAqLwojdGFiLXNldHRpbmdzIGJ1dHRvbiwKI3RhYi1zZXR0aW5ncyAuYnV0dG9uLWxpa2UsCiN0YWItc2V0dGluZ3MgbGFiZWxbcm9sZT0iYnV0dG9uIl0gewogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZjhmYWZjKTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIHBhZGRpbmc6IDhweCAxMnB4OwogIGZvbnQtc2l6ZTogMC45NXJlbTsKICBsaW5lLWhlaWdodDogMS4yOwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4xNXMgZWFzZSwgYm9yZGVyLWNvbG9yIC4xNXMgZWFzZSwgY29sb3IgLjE1cyBlYXNlLCBib3gtc2hhZG93IC4xNXMgZWFzZTsKfQoKI3RhYi1zZXR0aW5ncyBidXR0b246aG92ZXIsCiN0YWItc2V0dGluZ3MgLmJ1dHRvbi1saWtlOmhvdmVyLAojdGFiLXNldHRpbmdzIGxhYmVsW3JvbGU9ImJ1dHRvbiJdOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4taG92ZXItYmcsICNkYmVhZmUpOyAvKiBsaWdodCBibHVlICovCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4taG92ZXItYm9yZGVyLCAjOTNjNWZkKTsKfQoKI3RhYi1zZXR0aW5ncyBidXR0b246Zm9jdXMtdmlzaWJsZSwKI3RhYi1zZXR0aW5ncyAuYnV0dG9uLWxpa2U6Zm9jdXMtdmlzaWJsZSwKI3RhYi1zZXR0aW5ncyBsYWJlbFtyb2xlPSJidXR0b24iXTpmb2N1cy12aXNpYmxlIHsKICBvdXRsaW5lOiBub25lOwogIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDU5LCAxMzAsIDI0NiwgMC4zKTsKfQoKLnRhYmxlLXRvb2xiYXIgewogIGRpc3BsYXk6ZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7CiAgYWxpZ24taXRlbXM6Y2VudGVyOwogIG1hcmdpbjogNnB4IDAgOHB4Owp9CgovKiBTbWFsbGVyLCBzZWNvbmRhcnkgY291bnQgdGV4dCBuZXh0IHRvIGJ1bGsgYnV0dG9ucyAqLwoudGFibGUtdG9vbGJhciAuYnVsay1jb3VudCB7CiAgZm9udC1zaXplOiAwLjllbTsKICBvcGFjaXR5OiAuODU7Cn0KCi8qIFZpc3VhbGx5IGluZGljYXRlIGRpc2FibGVkIHJvdy1zZWxlY3Rpb24gY2hlY2tib3hlcyAqLwoudGFidWxhdG9yIC50YWJ1bGF0b3ItY2VsbCBpbnB1dFt0eXBlPSJjaGVja2JveCJdW2Rpc2FibGVkXSB7CiAgb3BhY2l0eTogMC41OwogIGN1cnNvcjogbm90LWFsbG93ZWQ7Cn0KCi8qIExpbmstbGlrZSBjb21wYWN0IGJ1dHRvbnMgKGZvciBwZXJjZW50IG9wdGlvbnMpICovCmJ1dHRvbi5saW5rbGlrZSB7CiAgYm9yZGVyOiAwOwogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGNvbG9yOiAjMjU2M2ViOwogIGN1cnNvcjogcG9pbnRlcjsKICBwYWRkaW5nOiAwIDZweDsKICBmb250OiBpbmhlcml0Owp9CmJ1dHRvbi5saW5rbGlrZTpob3ZlciB7CiB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgCn0KCi50YWJsZS1hY3Rpb25zIHsKICBkaXNwbGF5OmZsZXg7CiAgZ2FwOjhweDsKICBmbGV4LXdyYXA6d3JhcDsKfQoKQG1lZGlhIChtYXgtd2lkdGg6IDY0MHB4KXsKICAudGFibGUtdG9vbGJhcnsganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OyB9Cn0KCi8qIFNwbGl0IFNjYW4gYnV0dG9uICovCi5zcGxpdC1zY2FuIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2RkZCk7Cn0KLnNwbGl0LXNjYW4gLmJ0biB7CiBwYWRkaW5nOiA4cHggMTJweDsgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZmZmKTsgYm9yZGVyOiAwOyBjdXJzb3I6IHBvaW50ZXI7IAp9Ci5zcGxpdC1zY2FuIC5zcGxpdC1jYXJldCB7CiB3aWR0aDogMzZweDsgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNkZGQpOyAKfQouc3BsaXQtc2NhbiAuYnRuW2Rpc2FibGVkXSB7CiBvcGFjaXR5OiAuNjsgY3Vyc29yOiBub3QtYWxsb3dlZDsgCn0KLnNwbGl0LXNjYW4gLnNjYW4tYmFkZ2UgewogbWFyZ2luLWxlZnQ6IDhweDsgcGFkZGluZzogMnB4IDZweDsgYm9yZGVyLXJhZGl1czogOTk5cHg7IGZvbnQtc2l6ZTogMTJweDsgb3BhY2l0eTogLjg1OyBiYWNrZ3JvdW5kOiB2YXIoLS1jaGlwLWJnLCAjZjFmM2Y1KTsgCn0KLnNwbGl0LXNjYW4gLm1lbnUgewogcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDEwMCU7IHJpZ2h0OiAwOyBtaW4td2lkdGg6IDE2MHB4OyBtYXJnaW46IDRweCAwIDA7IHBhZGRpbmc6IDZweCAwOyBsaXN0LXN0eWxlOiBub25lOyBiYWNrZ3JvdW5kOiAjZmZmOyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNkZGQpOyBib3JkZXItcmFkaXVzOiA4cHg7IGJveC1zaGFkb3c6IDAgOHB4IDIwcHggcmdiYSgwLDAsMCwwLjA4KTsgei1pbmRleDogMTAwMDsgCn0KLnNwbGl0LXNjYW4gLm1lbnVbaGlkZGVuXSB7CiBkaXNwbGF5OiBub25lOyAKfQouc3BsaXQtc2NhbiAubWVudSBsaSB7CiBwYWRkaW5nOiA4cHggMTJweDsgY3Vyc29yOiBwb2ludGVyOyAKfQouc3BsaXQtc2NhbiAubWVudSBsaVthcmlhLXNlbGVjdGVkPSJ0cnVlIl0gewogZm9udC13ZWlnaHQ6IDYwMDsgCn0KLnNwbGl0LXNjYW4gLm1lbnUgbGk6aG92ZXIgewogYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMDQpOyAKfQoKLyogRGFyayBtb2RlIHN0eWxpbmcgZm9yIHNwbGl0IHNjYW4gYW5kIG1lbnUgKi8KCi8qIFJldHJvIG1vZGUgc3R5bGluZyBmb3Igc3BsaXQgc2NhbiBhbmQgaXRzIG1lbnUgKi8KCi8qIEN1c3RvbSBzdHlsZXMgZm9yIHRoZSBtYWluIHNjYW4gYnV0dG9uICovCi5zcGxpdC1zY2FuICNzY2FuQnRuIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGY0NTQ1OyAvKiBBIHByb21pbmVudCBibHVlIHRvIG1hdGNoIG90aGVyIGFjdGlvbiBidXR0b25zICovCiAgY29sb3I6ICNmZmY7ICAgICAgICAgICAgICAvKiBXaGl0ZSB0ZXh0IGZvciBiZXR0ZXIgY29udHJhc3QgKi8KICBmb250LXNpemU6IDEuMWVtOyAgICAgICAgIC8qIE1ha2UgdGhlIGZvbnQgc2xpZ2h0bHkgbGFyZ2VyICovCiAgZm9udC13ZWlnaHQ6IDYwMDsgICAgICAgICAgLyogTWFrZSB0aGUgdGV4dCBib2xkZXIgKi8KICBib3JkZXItcmFkaXVzOiA4cHg7CiAgbWFyZ2luLXJpZ2h0OiA0cHg7CiAgbWFyZ2luLWxlZnQ6IDRweDsKfQoKCi5zcGxpdC1zY2FuICNzY2FuTW9kZVRvZ2dsZSB7CiAgZm9udC13ZWlnaHQ6IDcwMDsgICAgICAgICAgLyogTWFrZSB0aGUgdGV4dCBib2xkZXIgKi8KICBmb250LXNpemU6IDEuMWVtOwp9Ci8qIEFkZCBhIGhvdmVyIGVmZmVjdCBmb3Igd2hlbiB0aGUgYnV0dG9uIGlzIG5vdCBkaXNhYmxlZCAqLwouc3BsaXQtc2NhbiAjc2NhbkJ0bjpub3QoOmRpc2FibGVkKTpob3ZlciB7CiAgb3V0bGluZTogMnB4IHNvbGlkICMzODM4Mzk7IC8qIEFkZHMgYSBkYXJrIGJsdWUgZnJhbWUgKi8KICBvdXRsaW5lLW9mZnNldDogMXB4OyAgICAgICAvKiBBZGRzIGEgc21hbGwgc3BhY2UgYmV0d2VlbiB0aGUgYnV0dG9uIGFuZCB0aGUgZnJhbWUgKi8KfQoKLnRhYi1idXR0b25zIHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogOHB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjOwoKfQoKCi50YWItYnV0dG9uIHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXI6IDA7CiAgcGFkZGluZzogMTBweCAxNHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBmb250LXdlaWdodDogNjAwOyAgICAgICAgICAvKiBNYWtlIHRoZSB0ZXh0IGJvbGRlciAqLwogIGZvbnQtc2l6ZTogMS4wN2VtOwp9CgoudGFiLWJ1dHRvbi5hY3RpdmUgewogIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMDA3YmZmOwogIGJhY2tncm91bmQtY29sb3I6ICM0Mzc2ZjE7IC8qIEEgcHJvbWluZW50IGJsdWUgdG8gbWF0Y2ggb3RoZXIgYWN0aW9uIGJ1dHRvbnMgKi8KICBjb2xvcjogI2ZmZjsKfQoKLyogPT09PT09PT09PT09PT09PT09PT09PT09CiAgIFJlc3BvbnNpdmUgVUkgT3ZlcnJpZGVzCiAgID09PT09PT09PT09PT09PT09PT09PT09PSAqLwovKiBJbXByb3ZlIHJlYWRhYmlsaXR5IGV2ZXJ5d2hlcmUgd2l0aG91dCBjaGFuZ2luZyBkZXNrdG9wIGxheW91dCAqLwpib2R5IHsKIGxpbmUtaGVpZ2h0OiAxLjU7IAp9CgovKiBNYWtlIGNvcmUgY29udGFpbmVycyBmbHVpZCAqLwojY29pbnRvb2wtdGFibGUgewogZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDAlOyAKfQouZGFzaGJvYXJkLXRvcCB7CiBmbGV4LXdyYXA6IHdyYXA7IAp9Ci5jYWxlbmRhci13cmFwIHsKIHdpZHRoOiBtaW4oMTAwJSwgNDAwcHgpOyAKfQoubWludC10ZXJtLXJvdyB7CiAvKiBrZWVwIGRlc2t0b3AgYmVoYXZpb3IgKi8gCn0KI3N1bW1hcnlDb250YWluZXIgewogLyogZGVza3RvcCBrZWVwcyBvcmlnaW5hbCB3aWR0aCAqLyAKfQoKLyogTW9iaWxlLWZpcnN0IHJlZmluZW1lbnRzIChrZWVwIGRlc2t0b3AgbG9vayBpbnRhY3QpICovCkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogIGJvZHkgeyBtYXJnaW46IDEycHg7IH0KCiAgLyogQXZvaWQgb3ZlcmxheTsgbGV0IGhlYWRlciBmbG93IG5vcm1hbGx5ICovCiAgLmhlYWRlci1jb250cm9scyB7CiAgICBwb3NpdGlvbjogc3RhdGljOwogICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBnYXA6IDhweDsKICAgIG1hcmdpbi1ib3R0b206IDhweDsKICB9CgogIGgxIHsgZm9udC1zaXplOiAxLjI1cmVtOyBtYXJnaW4tdG9wOiA4cHg7IH0KCiAgLyogVG91Y2gtZnJpZW5kbHkgc2l6ZXMgYW5kIGlPUyB6b29tIHByZXZlbnRpb24gKi8KICBidXR0b24sIC5idG4sIC5idG4tc2Vjb25kYXJ5LCAuYnRuLW1pbnQsIC5jaGlwLCAudGFiLWJ1dHRvbiwKICBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgbGFiZWxbcm9sZT0iYnV0dG9uIl0gewogICAgZm9udC1zaXplOiAxNnB4OyAvKiBwcmV2ZW50cyBpT1Mgem9vbSAqLwogICAgbWluLWhlaWdodDogNDRweDsKICB9CgogIC5jaGlwIHsgcGFkZGluZzogOHB4IDE0cHg7IH0KCiAgLnRhYnMgeyBtYXJnaW4tdG9wOiA2cHg7IH0KICAudGFiLWJ1dHRvbnMgeyBvdmVyZmxvdy14OiBhdXRvOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBwYWRkaW5nLWJvdHRvbTogNHB4OyB9CgogIC5kYXNoYm9hcmQtdG9wIHsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgZ2FwOiAxMHB4OyB9CiAgLmNhbGVuZGFyLXdyYXAgeyB3aWR0aDogMTAwJTsgbWluLWhlaWdodDogMDsgfQogIC5jYWxlbmRhci13cmFwICNjYWxlbmRhciB7IHRyYW5zZm9ybTogbm9uZTsgfQogIC5kZXRhaWxzLXdyYXAgeyBtaW4td2lkdGg6IDA7IHdpZHRoOiAxMDAlOyB9CgogIC5taW50LWNvbnRyb2xzIHsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOwogICAgbWF4LXdpZHRoOiAxMDAlOwogIH0KICAubWludC1pbnB1dCB7IHdpZHRoOiAxMDAlOyB9CiAgLm1pbnQtdGVybS1yb3cgeyB3aWR0aDogYXV0bzsgfQogIC5taW50LWFjdGlvbnMgeyBmbGV4LXdyYXA6IHdyYXA7IH0KCiAgLmZpbHRlci1jaGlwcyB7IGZsZXgtd3JhcDogd3JhcDsgcm93LWdhcDogNnB4OyB9CgogICNzdW1tYXJ5Q29udGFpbmVyIHsgZGlzcGxheTpibG9jazsgd2lkdGg6IDk1JTsgbWF4LXdpZHRoOiA5NSU7IG1hcmdpbi1pbmxpbmU6YXV0bzsgfQogICNwcm9ncmVzc0NvbnRhaW5lciB7IHdpZHRoOiA5NSU7IG1heC13aWR0aDogOTUlOyBtYXJnaW4taW5saW5lOmF1dG87IH0KICAjcHJvZ3Jlc3NDb250YWluZXIudmlzaWJsZSB7IGRpc3BsYXk6YmxvY2s7IH0KCiAgLyogQ2hhcnQgaGVpZ2h0IHJlc3BvbnNpdmUgKi8KICAjdm11Q2hhcnQgeyBoZWlnaHQ6IGNsYW1wKDIyMHB4LCAzNXZoLCAzMjBweCkgIWltcG9ydGFudDsgfQp9CgovKiAoUmV2ZXJ0ZWQgdG8gbGlicmFyeSBkZWZhdWx0cyBhYm92ZSkgKi8KCi8qIChOby1vcCBmb3IgRmxhdHBpY2tyOyB1c2luZyBsaWJyYXJ5IGRlZmF1bHRzIGZvciBub3cpICovCgovKiBGaXg6IHByZXZlbnQgbW9udGgveWVhciBoZWFkZXIgZnJvbSBiZWluZyBwdXNoZWQgZG93biBieSBkZWZhdWx0IHRvcCBwYWRkaW5nICovCiNjYWxlbmRhciAuZmxhdHBpY2tyLWN1cnJlbnQtbW9udGggewogIHBhZGRpbmc6IDAgIWltcG9ydGFudDsgLyogb3ZlcnJpZGUgdmVuZG9yIHBhZGRpbmc6IDcuNDhweCAwIDAgMCAqLwp9CgovKiBNYWtlIHRoZSBTdGFrZSBYRU5GVHMgYnJlYWtkb3duIG1hdGNoIHRoZSBDb2ludG9vbCBtdXRlZCBzdHlsZSAqLwojc3Rha2VQZXJBZGRyZXNzU3VtbWFyeSB7CiAgbWFyZ2luLXRvcDogNnB4OwogIGZvbnQtc2l6ZTogMC44ZW07CiAgY29sb3I6ICM4ODg7Cn0KI3hlbmZ0UGVyQWRkcmVzc1N1bW1hcnkgewogIG1hcmdpbi10b3A6IDZweDsKICBmb250LXNpemU6IDAuOGVtOwogIGNvbG9yOiAjODg4Owp9CgovKiBHYXMgc3VwZXJzY3JpcHQgbmVhciBtYWluIGhlYWRlciAoYWxyZWFkeSBhZGRlZCBwcmV2aW91c2x5KSAqLwouZ2FzLXN1cCB7CiAgZm9udC1zaXplOiAwLjVlbTsKICBjb2xvcjogIzc3NzsKICB2ZXJ0aWNhbC1hbGlnbjogc3VwZXI7CiAgbWFyZ2luLWxlZnQ6IDhweDsKICBmb250LXdlaWdodDogNTAwOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsgICAgIC8qIG5lZWRlZCBzbyB0aGUgOjphZnRlciBwb3NpdGlvbnMgdW5kZXIgdGhlIHRleHQgKi8KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICAvKiBlbnN1cmVzIGEgc3RhYmxlIGJveCBmb3IgdGhlIHVuZGVybGluZSAqLwp9CgovKiAxcHggY291bnRkb3duIHVuZGVybGluZSAqLwouZ2FzLXN1cDo6YWZ0ZXIgewogIGNvbnRlbnQ6ICIiOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIGNvbG9yOiAjNTA1MDUwOwogIGJvdHRvbTogLTJweDsgICAgICAgICAgIC8qIG51ZGdlIHVuZGVyIHRoZSB0ZXh0OyB0d2VhayBpZiB5b3Ugd2FudCBjbG9zZXIgKi8KICBoZWlnaHQ6IDFweDsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kOiBjdXJyZW50Q29sb3I7CiAgb3BhY2l0eTogMC43OwogIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgY2VudGVyOwogIHRyYW5zZm9ybTogc2NhbGVYKHZhcigtLXAsIDEpKTsgIC8qIC0tcCA9IDEgKGZ1bGwpIC4uIDAgKGVtcHR5KSAqLwp9CgouZmllbGQucmVxdWlyZWQgbGFiZWw6OmFmdGVyIHsKICBjb250ZW50OiAnIConOwogIGNvbG9yOiAjZWY0NDQ0OyAvKiByZWQtNTAwICovCiAgZm9udC13ZWlnaHQ6IDYwMDsKfQoKLyogUmVxdWlyZWQgYXN0ZXJpc2sgc3RheXMgYXMtaXMgKi8KCi8qIEludmFsaWQgZmllbGQgc3RhdGUgKi8KLmZpZWxkLmludmFsaWQgaW5wdXQsCi5maWVsZC5pbnZhbGlkIHRleHRhcmVhLAouZmllbGQuaW52YWxpZCBzZWxlY3QgewogIGJvcmRlci1jb2xvcjogI2VmNDQ0NCAhaW1wb3J0YW50OwogIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDIzOSwgNjgsIDY4LCAuMTUpOwp9CgovKiBFcnJvciBtZXNzYWdlIChoaWRkZW4gYnkgZGVmYXVsdDsgc2hvd24gd2hlbiAuaW52YWxpZCBpcyBhcHBsaWVkKSAqLwouZmllbGQgLmVycm9yLW1lc3NhZ2UgewogIGRpc3BsYXk6IG5vbmU7CiAgY29sb3I6ICNlZjQ0NDQ7CiAgZm9udC1zaXplOiAwLjg1cmVtOwp9CgouZmllbGQuaW52YWxpZCAuZXJyb3ItbWVzc2FnZSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KCi8qIExpZ2h0IHJlZCBlcnJvciB0ZXh0IGluIGRhcmsgbW9kZSBmb3IgYmV0dGVyIHJlYWRhYmlsaXR5ICovCgojc2Nhbk1vZGVCYWRnZSB7CiBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IAp9CgovKiBNYWtlIHRoZSByZWd1bGFyIFN0YWtlcyBicmVha2Rvd24gbWF0Y2ggdGhlIG90aGVyIG11dGVkIHN0eWxlcyAqLwojc3Rha2VSZWd1bGFyUGVyQWRkcmVzc1N1bW1hcnkgewogIG1hcmdpbi10b3A6IDZweDsKICBmb250LXNpemU6IDAuOGVtOwogIGNvbG9yOiAjODg4Owp9CgovKiBUb3RhbCBYRU4gZGlzcGxheSBiZWxvdyB0aGUgY2FsZW5kYXIgKi8KI2NhbGVuZGFyLXhlbi10b3RhbCB7CiAgdGV4dC1hbGlnbjogbGVmdDsgLyogQ2VudGVycyB0aGUgdGV4dCBibG9jayAqLwogIG1hcmdpbi10b3A6IDVweDsgICAvKiBBZGRzIHNvbWUgc3BhY2UgYmVsb3cgdGhlIGNhbGVuZGFyICovCiAgZm9udC1zaXplOiAxZW07ICAgLyogT3B0aW9uYWw6IG1ha2VzIHRoZSB0ZXh0IHNsaWdodGx5IGxhcmdlciAqLwp9CgovKiBTdHlsZSBmb3IgdGhlIFVTRCB2YWx1ZSAoJCkgKi8KLyogVXNlIGRpZmZlcmVudCBjb2xvcnMgZm9yIGxpZ2h0IHZzIGRhcmsgdG8gZW5zdXJlIHJlYWRhYmlsaXR5ICovCgoudGFidWxhdG9yIC50YWJ1bGF0b3ItdGFibGVIb2xkZXIgLnRhYnVsYXRvci1yb3cgLnRhYnVsYXRvci1jZWxsIHsKICBjdXJzb3I6IGRlZmF1bHQ7Cn0KCi8qIDIuIFNwZWNpZmljYWxseSBhcHBseSB0aGUgImhhbmQiIHBvaW50ZXIgT05MWSB0byBjbGlja2FibGUgZWxlbWVudHMuICovCi50YWJ1bGF0b3IgLnRhYnVsYXRvci1jZWxsIGEsCi50YWJ1bGF0b3IgLnRhYnVsYXRvci1jZWxsIC5jbGFpbS1idXR0b24sCi50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wudGFidWxhdG9yLXNvcnRhYmxlIHsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi8qIC0tLSBNb2JpbGUgTG9uZy1QcmVzcyBUb29sdGlwIC0tLSAqLwojbW9iaWxlLXRvb2x0aXAgewogIGRpc3BsYXk6IG5vbmU7IC8qIEhpZGRlbiBieSBkZWZhdWx0ICovCiAgcG9zaXRpb246IGZpeGVkOyAvKiBTdGF5cyBpbiB2aWV3IGV2ZW4gd2hlbiBzY3JvbGxpbmcgKi8KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyOwogIGNvbG9yOiAjZmZmOwogIGJvcmRlcjogMXB4IHNvbGlkICM1NTU7CiAgYm9yZGVyLXJhZGl1czogNnB4OwogIHBhZGRpbmc6IDhweCAxMnB4OwogIGZvbnQtc2l6ZTogMC45ZW07CiAgbWF4LXdpZHRoOiAyNTBweDsKICB6LWluZGV4OiAxMDAwMDsgLyogRW5zdXJlcyBpdCBhcHBlYXJzIG9uIHRvcCBvZiBldmVyeXRoaW5nICovCiAgcG9pbnRlci1ldmVudHM6IG5vbmU7IC8qIFByZXZlbnRzIHRoZSB0b29sdGlwIGl0c2VsZiBmcm9tIGJlaW5nIGludGVyYWN0aXZlICovCiAgd2hpdGUtc3BhY2U6IHByZS13cmFwOyAvKiBSZXNwZWN0cyBuZXdsaW5lcyBpbiB0aGUgdG9vbHRpcCB0ZXh0ICovCn0K',
        'css/style.css': 'Ym9keSB7CiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOwogIG1hcmdpbjogMjBweAp9CgppbnB1dCwgYnV0dG9uLCB0ZXh0YXJlYSB7CiAgbWFyZ2luOiA1cHggMDsKICBwYWRkaW5nOiA4cHgKfQoKbGFiZWwgewogIGRpc3BsYXk6IGJsb2NrOwogIG1hcmdpbi10b3A6IDEwcHgKfQoKI3Byb2dyZXNzQ29udGFpbmVyIHsKICBtYXJnaW4tdG9wOiAyMHB4OwogIGRpc3BsYXk6IG5vbmUKfQoKI2FkZHJlc3NQcm9ncmVzc1RleHQgewogIGZvbnQtd2VpZ2h0OiBib2xkCn0KCiNjb2ludG9vbC10YWJsZSB7CiAgbWFyZ2luLXRvcDogMTBweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgbWFyZ2luOiAwCn0KCi5mbGF0cGlja3ItdG9kYXktYnRuIHsKICBtYXJnaW4tbGVmdDogOHB4OwogIHBhZGRpbmc6IDRweCA4cHg7CiAgZm9udC1zaXplOiAwLjg1ZW07CiAgbGluZS1oZWlnaHQ6IDE7CiAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdXNlci1zZWxlY3Q6IG5vbmUKfQoKLmZsYXRwaWNrci10b2RheS1idG46aG92ZXIgewogIGJhY2tncm91bmQ6ICNmM2YzZjMKfQoKLmZsYXRwaWNrci10b2RheS1idG46YWN0aXZlIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KQp9Cgpib2R5LmRhcmstbW9kZSAuZmxhdHBpY2tyLXRvZGF5LWJ0biB7CiAgYmFja2dyb3VuZDogIzJjMmMyYzsKICBjb2xvcjogI2UwZTBlMDsKICBib3JkZXItY29sb3I6ICM0NDQKfQoKLmZpZWxkLmRhcmstbW9kZSAuZXJyb3ItbWVzc2FnZSB7CiAgZGlzcGxheTogbm9uZTsKICBjb2xvcjogI2VmNDQ0NDsKICBmb250LXNpemU6IDAuODVyZW07Cn0KCgpib2R5LmRhcmstbW9kZSAuZmxhdHBpY2tyLXRvZGF5LWJ0bjpob3ZlciB7CiAgYmFja2dyb3VuZDogIzNhM2EzYQp9CgouaGVhZGVyLWNvbnRyb2xzIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDE1cHg7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMTBweDsKICByaWdodDogMjBweDsKICB6LWluZGV4OiAxMDAwCn0KCi53YWxsZXQtY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxMHB4Cn0KCi8qIFdhbGxldCBleWUgdG9nZ2xlIG5leHQgdG8gY29ubmVjdCBidXR0b24gKi8KLndhbGxldC1yZXZlYWwtYnRuIHsKICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIG1hcmdpbi1sZWZ0OiA2cHg7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZjhmYWZjKTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBwYWRkaW5nOiAycHg7CiAgd2lkdGg6IDE0cHg7ICAvKiBzYWZlIGRlZmF1bHQgdG8gYXZvaWQgZmxhc2ggb2YgaHVnZSBpY29uICovCiAgaGVpZ2h0OiAxNHB4OyAvKiB3aWxsIGJlIHJlc2l6ZWQgdG8gNTAlIG9mIGJ1dHRvbiBoZWlnaHQgYnkgSlMgKi8KICBjdXJzb3I6IHBvaW50ZXI7Cn0KLndhbGxldC1yZXZlYWwtYnRuIHN2ZyB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGRpc3BsYXk6IGJsb2NrOyB9Ci53YWxsZXQtcmV2ZWFsLWJ0bjpob3ZlciB7IGZpbHRlcjogYnJpZ2h0bmVzcygwLjk4KTsgfQoKI25ldHdvcmtOYW1lIHsKICBmb250LXNpemU6IDAuOWVtOwogIHBhZGRpbmc6IDZweCAxMHB4OwogIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZQp9Cgpib2R5LmRhcmstbW9kZSAjbmV0d29ya05hbWUgewogIGJhY2tncm91bmQtY29sb3I6ICM0NDQKfQoKLyogSGVhZGVyIGRyb3Bkb3duIG1lbnUgKFRoZW1lLCBmdXR1cmUgYWN0aW9ucykgKi8KLmhlYWRlci1tZW51IHsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbi1sZWZ0OiA2cHg7IH0KLm1lbnUtdG9nZ2xlIHsKICBkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgd2lkdGg6IDI4cHg7IGhlaWdodDogMjhweDsgbGluZS1oZWlnaHQ6IDE7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZjhmYWZjKTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLm1lbnUtdG9nZ2xlOmhvdmVyIHsgZmlsdGVyOiBicmlnaHRuZXNzKDAuOTcpOyB9Ci5tZW51LXBhbmVsIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiAwOyB0b3A6IGNhbGMoMTAwJSArIDZweCk7CiAgbWluLXdpZHRoOiAxODBweDsgcGFkZGluZzogOHB4OyB6LWluZGV4OiAxMjAwOwogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjZmZmKTsKICBjb2xvcjogaW5oZXJpdDsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgwLDAsMCwuMik7Cn0KLm1lbnUtc2VjdGlvbiB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogNHB4OyB9Ci5tZW51LXRpdGxlIHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBmb250LXdlaWdodDogNjAwOyBjb2xvcjogdmFyKC0tbXV0ZWQsICM2YjcyODApOyBtYXJnaW46IDJweCAycHggNnB4OyB9Ci5tZW51LWN1cnJlbnQgeyBjb2xvcjogaW5oZXJpdDsgZm9udC13ZWlnaHQ6IDYwMDsgfQoubWVudS1pdGVtIHsKICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogNnB4IDhweDsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IGJvcmRlcjogMDsgdGV4dC1hbGlnbjogbGVmdDsgY3Vyc29yOiBwb2ludGVyOwogIGNvbG9yOiBpbmhlcml0OyBmb250OiBpbmhlcml0OyBib3JkZXItcmFkaXVzOiA4cHg7Cn0KLm1lbnUtaXRlbTpob3ZlciB7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4wNSk7IH0KLm1lbnUtaXRlbVthcmlhLWNoZWNrZWQ9InRydWUiXSB7IG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOyB9Ci5tZW51LWljb24geyB3aWR0aDogMTZweDsgaGVpZ2h0OiAxNnB4OyBkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IH0KCi8qIERhcmsgdGhlbWUgYWRqdXN0bWVudHMgZm9yIG1lbnUgKi8KYm9keS5kYXJrLW1vZGUgLm1lbnUtdG9nZ2xlIHsgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICMxZjI5MzcpOyBjb2xvcjogdmFyKC0tYnRuLWZnLCAjZTVlN2ViKTsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOyB9CmJvZHkuZGFyay1tb2RlIC5tZW51LXBhbmVsIHsgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICMxZjI5MzcpOyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7IGJveC1zaGFkb3c6IDAgMTVweCAzNXB4IHJnYmEoMCwwLDAsLjQ1KTsgfQpib2R5LmRhcmstbW9kZSAubWVudS1pdGVtOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA2KTsgfQoKLmNsYWltLWJ1dHRvbiB7CiAgY29sb3I6ICMwMDdiZmY7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZvbnQtd2VpZ2h0OiBib2xkCn0KCmJvZHkuZGFyay1tb2RlIC5jbGFpbS1idXR0b24gewogIGNvbG9yOiAjNGRhM2ZmCn0KCi50YWJzIHsKICBtYXJnaW4tdG9wOiAxMHB4Cn0KCgoKCi50YWItcGFuZWwgewogIGRpc3BsYXk6IG5vbmU7CiAgcGFkZGluZy10b3A6IDEycHgKfQoKLnRhYi1wYW5lbC5hY3RpdmUgewogIGRpc3BsYXk6IGJsb2NrCn0KCi5pbnB1dC1jb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgZ2FwOiAyNHB4OwogIGZsZXgtd3JhcDogd3JhcAp9CgouZGFzaGJvYXJkLXRvcCB7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDVweDsKICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICBtYXJnaW46IDRweCAwIDhweAp9CgouY2FsZW5kYXItd3JhcCB7CiAgd2lkdGg6IDQwMHB4OwogIG1pbi1oZWlnaHQ6IDMyMHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZQp9CgouY2FsZW5kYXItd3JhcCAjY2FsZW5kYXIgewogIHRyYW5zZm9ybTogc2NhbGUoMS41KTsKICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdAp9CgouZGV0YWlscy13cmFwIHsKICBmbGV4OiAxIDEgYXV0bzsKICBtaW4td2lkdGg6IDQyMHB4Cn0KCi5kZXRhaWxzLXRpdGxlIHsKICBtYXJnaW46IDAgMCA4cHgKfQoKLyogU2l0ZSB0aXRsZSBzdHlsaW5nICovCi5zaXRlLXRpdGxlIHsKICBtYXJnaW4tdG9wOiAyOHB4OwogIG1hcmdpbi1ib3R0b206IDhweDsKICBmb250LXdlaWdodDogNzAwOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7Cn0KLnNpdGUtdGl0bGUgLmJyYW5kIHsgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OyB9Ci5zaXRlLXRpdGxlIC5icmFuZCB7CiAgZm9udC1zaXplOiAxLjNlbTsgICAvKiAzMCUgYmlnZ2VyICovCiAgbGluZS1oZWlnaHQ6IDE7Cn0KLnNpdGUtdGl0bGUgLmJyYW5kLXN1YnRpdGxlIHsKICBmb250LXNpemU6IDAuNmVtOwogIGNvbG9yOiAjOWNhM2FmOwogIG1hcmdpbi10b3A6IC0ycHg7CiAgbGV0dGVyLXNwYWNpbmc6IDAuM3B4OwogIGZvbnQtd2VpZ2h0OiAzMDA7Cn0KLnNpdGUtdGl0bGUgLmJyYW5kLXN1ZmZpeCB7CiAgY29sb3I6ICM2YjcyODA7IC8qIGdyYXkgKi8KICBmb250LXNpemU6IDAuN2VtOyAvKiB+MzAlIHNtYWxsZXIgKi8KICBtYXJnaW4tbGVmdDogNnB4OwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgbGluZS1oZWlnaHQ6IDE7CiAgZ2FwOiAycHg7Cn0KLnNpdGUtdGl0bGUgLmJyYW5kLXN1ZmZpeC10ZXh0IHsgbGluZS1oZWlnaHQ6IDE7IGRpc3BsYXk6IGJsb2NrOyB9Ci5zaXRlLXRpdGxlIC5icmFuZC1zdWZmaXggLmdhcy1zdXAgewogIGRpc3BsYXk6IGJsb2NrOyAgICAgICAvKiBmb3JjZSBpdHMgb3duIGxpbmUgd2l0aGluIHRoZSBzdWZmaXggKi8KICBtYXJnaW46IDJweCAwIDAgMDsgICAvKiBzdGFjayB1bmRlciB0aGUgc3VmZml4IHRleHQgKi8KICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7CiAgZm9udC1zaXplOiAwLjYzZW07ICAgLyogMzAlIHNtYWxsZXIgdGhhbiBwcmV2aW91cyAwLjllbSAqLwp9CgojcHJvZ3Jlc3NDb250YWluZXIgewogIG1hcmdpbi10b3A6IDEycHgKfQoKI2NhbGVuZGFyIHsKICBtYXJnaW46IDRweCAwCn0KCi5taW50LWdhc2xpbmUgewogIGRpc3BsYXk6IGZsZXg7CiAgZ2FwOiAxMnB4OwogIGFsaWduLWl0ZW1zOiBiYXNlbGluZTsKICBtYXJnaW46IDhweCAwIDE0cHggMAp9CgoubXV0ZWQgewogIGNvbG9yOiAjNmI3MjgwCn0KCi5taW50LWNvbnRyb2xzIHsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczoxODBweCAxZnI7CiAgZ2FwOiAxOHB4IDI0cHg7CiAgYWxpZ24taXRlbXM6IGVuZDsKICBtYXgtd2lkdGg6IDcyMHB4Cn0KCi5taW50LWZpZWxkIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgZ2FwOiA2cHgKfQoKLm1pbnQtaW5wdXQgewogIHdpZHRoOiAxODBweDsKICBoZWlnaHQ6IDM0cHg7CiAgcGFkZGluZzogNnB4IDEwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2QxZDVkYjsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgb3V0bGluZTogbm9uZQp9CgoubWludC1pbnB1dDpmb2N1cyB7CiAgYm9yZGVyLWNvbG9yOiAjMjU2M2ViOwogIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM3LCA5OSwgMjM1LCAuMTUpCn0KCi5taW50LXRlcm0tcm93IHsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTBweDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHdpZHRoOiBhdXRvOwogIGZsZXgtd3JhcDogbm93cmFwOwp9CgoubWludC1hY3Rpb25zIHsKICBtYXJnaW4tdG9wOiAxcHg7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDEwcHg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcgp9CgouYnRuLXNlY29uZGFyeSB7CiAgYmFja2dyb3VuZDogI2YzZjRmNjsKICBib3JkZXI6IDFweCBzb2xpZCAjZDFkNWRiOwogIGNvbG9yOiAjMTExODI3OwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiA3cHggMTJweDsKICBjdXJzb3I6IHBvaW50ZXIKfQoKLmJ0bi1zZWNvbmRhcnk6aG92ZXIgewogIGJhY2tncm91bmQ6ICNlNWU3ZWIKfQoKLmJ0bi1taW50IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBjb2xvcjogIzExMTgyNzsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgcGFkZGluZzogOHB4IDEycHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZvbnQtd2VpZ2h0OiA2MDA7CiAgbGluZS1oZWlnaHQ6IDEuMjsKICBmb250LXNpemU6IDAuOWVtOwogIGFwcGVhcmFuY2U6IG5vbmU7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMTVzIGVhc2UsIGJvcmRlci1jb2xvciAuMTVzIGVhc2UsIGNvbG9yIC4xNXMgZWFzZSwgYm94LXNoYWRvdyAuMTVzIGVhc2UKfQoKLmJ0bi1taW50OmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZGJlYWZlOwogIGJvcmRlci1jb2xvcjogIzkzYzVmZAp9CgouYnRuLW1pbnQ6ZGlzYWJsZWQgewogIG9wYWNpdHk6IC42OwogIGN1cnNvcjogbm90LWFsbG93ZWQKfQoKI3ZtdS1jaGFydC13cmFwIC5jb2xsYXBzaWJsZS10b2dnbGUgewogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiA2cHg7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgcGFkZGluZzogNHB4IDhweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KI3ZtdS1jaGFydC13cmFwIC5jb2xsYXBzaWJsZS1ib2R5IHsgbWFyZ2luLXRvcDogOHB4OyB9CgovKiBDaGFydCBjb250cm9scyAobWV0cmljIHRvZ2dsZSkgKi8KI3ZtdS1jaGFydC13cmFwIC5jaGFydC1jb250cm9scyAudG9nZ2xlLWdyb3VwIHsKICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBvdmVyZmxvdzogaGlkZGVuOwp9CiN2bXUtY2hhcnQtd3JhcCAuY2hhcnQtY29udHJvbHMgLnRvZ2dsZS1ncm91cCAudG9nZ2xlIHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXI6IG5vbmU7CiAgcGFkZGluZzogNnB4IDEwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMxMTE4MjcpOwp9CiN2bXUtY2hhcnQtd3JhcCAuY2hhcnQtY29udHJvbHMgLnRvZ2dsZS1ncm91cCAudG9nZ2xlLmFjdGl2ZSB7CiAgYmFja2dyb3VuZDogI2RiZWFmZTsKICBjb2xvcjogIzExMTgyNzsKfQoKCgojcGVyQWRkcmVzc1N1bW1hcnkgewogIG1hcmdpbi10b3A6IDhweDsKICBmb250LXNpemU6IDAuOGVtOwogIGNvbG9yOiAjODg4Cn0KCi8qIFJlbW92ZWQgcGFzc3dvcmQtbGlrZSBtYXNraW5nOyBtYXNraW5nIG5vdyB1c2VzIC5tYXNrZWQgYmx1ciBjbGFzcyAqLwoKYm9keS5kYXJrLW1vZGUgI3BlckFkZHJlc3NTdW1tYXJ5IHsKICBjb2xvcjogI2FhYQp9CgouY2hlY2tib3gtZ3JvdXAgewogIG1hcmdpbi1sZWZ0OiAyMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDVweAp9CgouY2hlY2tib3gtZ3JvdXAgaW5wdXQgewogIG1hcmdpbjogMAp9CgouY2hlY2tib3gtZ3JvdXAgbGFiZWwgewogIG1hcmdpbjogMAp9CgouZmlsdGVyLWNoaXBzIHsKICBtYXJnaW46IDE1cHggMDsKICBkaXNwbGF5OiBmbGV4OwogIGdhcDogMTBweDsKICBhbGlnbi1pdGVtczogY2VudGVyCn0KCi5jaGlwIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwOwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgYm9yZGVyLXJhZGl1czogMTZweDsKICBwYWRkaW5nOiA1cHggMTVweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZm9udC1zaXplOiAwLjllbQp9CgouY2hpcDpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2QwZDBkMAp9CgouY2hpcC5hY3RpdmUgewogIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7CiAgY29sb3I6IHdoaXRlOwogIGJvcmRlci1jb2xvcjogIzAwN2JmZgp9CgouaW5saW5lLXNlcCB7CiAgb3BhY2l0eTogMC42OwogIHVzZXItc2VsZWN0OiBub25lCn0KCi5jaGlwLWdob3N0IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXItc3R5bGU6IGRhc2hlZAp9Cgpib2R5LmRhcmstbW9kZSAuY2hpcC1naG9zdCB7CiAgYm9yZGVyLWNvbG9yOiAjNjY2Cn0KCi5tb2RhbCB7CiAgcG9zaXRpb246IGZpeGVkOwogIGluc2V0OiAwOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC4zNSk7CiAgei1pbmRleDogMTAwMAp9CgoubW9kYWwuaGlkZGVuIHsKICBkaXNwbGF5OiBub25lCn0KCi5tb2RhbC1jb250ZW50IHsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGNvbG9yOiAjMTExOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgcGFkZGluZzogMTRweCAxNnB4OwogIG1pbi13aWR0aDogMjgwcHg7CiAgbWF4LXdpZHRoOiA5MnZ3OwogIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwgMCwgMCwgLjI1KQp9CgoubW9kYWwtYWN0aW9ucyB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIGdhcDogOHB4Cn0KCiNzY2FuQnRuOmRpc2FibGVkIHsKICBvcGFjaXR5OiAuNTsKICBjdXJzb3I6IG5vdC1hbGxvd2VkOwp9Cgojc2NhblhlbmZ0QnRuOmRpc2FibGVkIHsKICBvcGFjaXR5OiAuNjsKICBjdXJzb3I6IG5vdC1hbGxvd2VkOwp9Cgouc3Itb25seSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IC0xMDAwMHB4OwogIHdpZHRoOiAxcHg7CiAgaGVpZ2h0OiAxcHg7CiAgb3ZlcmZsb3c6IGhpZGRlbgp9Cgojc3VtbWFyeUNvbnRhaW5lciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZjRmZjsKICBib3JkZXI6IDFweCBzb2xpZCAjYjVkOWZmOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiA1cHggNXB4OyAvKiB0ZXh0IHdpZHRoICsgMTBweCB0b3RhbCAqLwogIG1hcmdpbi10b3A6IDhweDsKICBmb250LXNpemU6IDAuOTJlbTsKICBsaW5lLWhlaWdodDogMS40OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB3aWR0aDogLW1vei1maXQtY29udGVudDsKICB3aWR0aDogZml0LWNvbnRlbnQ7Cn0KCi8qIFByb2dyZXNzIGNvbnRhaW5lcjogZmFpbnQgbWF0dGUgcmVkZGlzaCB3aXRoIHN1YnRsZSBib3JkZXI7IHNtYWxsZXIgdGV4dCAqLwojcHJvZ3Jlc3NDb250YWluZXIgewogIGRpc3BsYXk6IG5vbmU7ICAgICAgICAgICAgICAgICAvKiBoaWRkZW4gYnkgZGVmYXVsdCAqLwogIGJhY2tncm91bmQ6ICNmZmY1ZjU7ICAgICAgICAgICAvKiBzb2Z0IHJlZCAqLwogIGJvcmRlcjogMXB4IHNvbGlkICNmNWMyYzc7ICAgICAvKiBzbGlnaHRseSBkYXJrZXIgZnJhbWUgKi8KICBib3JkZXItcmFkaXVzOiA4cHg7CiAgcGFkZGluZzogOHB4IDEwcHg7CiAgbWFyZ2luOiAxMHB4IDA7CiAgZm9udC1zaXplOiAwLjkyZW07ICAgICAgICAgICAgIC8qIHNsaWdodGx5IHNtYWxsZXIgdGV4dCAqLwogIHdpZHRoOiAtbW96LWZpdC1jb250ZW50OyAgICAgICAvKiBtYXRjaCBzdW1tYXJ5Q29udGFpbmVyICovCiAgd2lkdGg6IGZpdC1jb250ZW50OyAgICAgICAgICAgIC8qIG1hdGNoIHN1bW1hcnlDb250YWluZXIgKi8KfQojcHJvZ3Jlc3NDb250YWluZXIudmlzaWJsZSB7IGRpc3BsYXk6IGJsb2NrOyB9CiNwcm9ncmVzc0NvbnRhaW5lciAjc2NhblR5cGVMaW5lIHsgbWFyZ2luLWJvdHRvbTogNHB4OyBjb2xvcjogIzdmMWQxZDsgfQojcHJvZ3Jlc3NDb250YWluZXIgI2FkZHJlc3NQcm9ncmVzc0NvbnRhaW5lciB7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6IGJhc2VsaW5lOyB9CiNwcm9ncmVzc0NvbnRhaW5lciAjdG9rZW5Qcm9ncmVzc0NvbnRhaW5lciB7IG1hcmdpbi10b3A6IDhweCAhaW1wb3J0YW50OyB9Ci8qIE1ha2UgcHJvZ3Jlc3MgdGV4dHMgYXQgbGVhc3QgMzAlIHNtYWxsZXIgKi8KI3Byb2dyZXNzQ29udGFpbmVyICNhZGRyZXNzUHJvZ3Jlc3NUZXh0LAojcHJvZ3Jlc3NDb250YWluZXIgI3Rva2VuUHJvZ3Jlc3NUZXh0IHsKICBmb250LXNpemU6IDAuN2VtOwp9CgovKiBEYXJrIHRoZW1lIHR3ZWFrcyBmb3IgdGhlIHNjYW5uaW5nIHByb2dyZXNzIHBhbmVsICovCmJvZHkuZGFyay1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciB7CiAgYmFja2dyb3VuZDogIzBmMTcyYTsgICAgICAgICAgICAvKiBkZWVwIHNsYXRlICovCiAgYm9yZGVyLWNvbG9yOiAjMzM0MTU1OyAgICAgICAgICAvKiBzbGF0ZS02MDAgKi8KICBjb2xvcjogI2U1ZTdlYjsgICAgICAgICAgICAgICAgIC8qIHNsYXRlLTIwMCAqLwp9CmJvZHkuZGFyay1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAjc2NhblR5cGVMaW5lIHsgY29sb3I6ICNlNWU3ZWI7IH0KYm9keS5kYXJrLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyICNhZGRyZXNzUHJvZ3Jlc3NUZXh0LApib2R5LmRhcmstbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI3Rva2VuUHJvZ3Jlc3NUZXh0LApib2R5LmRhcmstbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI3JwY1N0YXR1cywKYm9keS5kYXJrLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyICNldHJUZXh0IHsKICBjb2xvcjogI2U1ZTdlYjsKfQpib2R5LmRhcmstbW9kZSAjdG9rZW5Qcm9ncmVzc0JhciB7CiAgYmFja2dyb3VuZDogIzFmMjkzNzsKICBjb2xvcjogIzkzYzVmZDsgLyogcHJvZ3Jlc3MgZmlsbCBjb2xvciBpbiBzb21lIGJyb3dzZXJzICovCn0KCi5idXR0b24tbGlrZSB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBhZGRpbmc6IDhweCAxNHB4OwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2NjYyk7CiAgYm9yZGVyLXJhZGl1czogNnB4OwogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgI2VmZWZlZik7CiAgY29sb3I6IGluaGVyaXQ7CiAgZm9udDogaW5oZXJpdDsKICBsaW5lLWhlaWdodDogMS4yOwogIGN1cnNvcjogcG9pbnRlcjsKICB1c2VyLXNlbGVjdDogbm9uZTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmUKfQoKLmJ1dHRvbi1saWtlOmhvdmVyIHsKICBmaWx0ZXI6IGJyaWdodG5lc3MoMC45NykKfQoKLmJ1dHRvbi1saWtlOmFjdGl2ZSB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCkKfQoKI3Rva2VuUHJvZ3Jlc3NDb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDEwcHg7CiAgZmxleC13cmFwOiB3cmFwCn0KCiNldHJUZXh0IHsKICBmb250LXZhcmlhbnQtbnVtZXJpYzogdGFidWxhci1udW1zOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgb3BhY2l0eTogMC44NTsKICBtaW4td2lkdGg6IDZjaAp9CgojdG9rZW5Qcm9ncmVzc0JhciB7CiAgd2lkdGg6IG1pbig1NjBweCwgMTAwJSk7CiAgaGVpZ2h0OiAxMHB4Cn0KCi5idXR0b24tZ3JvdXAgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxMHB4Cn0KCi5jaGVja2JveC1ncm91cCB7CiAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDRweDsKICBtYXJnaW46IDAKfQoKYm9keS5kYXJrLW1vZGUgLmNoaXAgewogIGJhY2tncm91bmQtY29sb3I6ICM0NDQ7CiAgYm9yZGVyLWNvbG9yOiAjNjY2Cn0KCmJvZHkuZGFyay1tb2RlIC5jaGlwOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1Cn0KCmJvZHkuZGFyay1tb2RlIC5jaGlwLmFjdGl2ZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzRkYTNmZjsKICBib3JkZXItY29sb3I6ICM0ZGEzZmYKfQoKLm1vZGFsIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgei1pbmRleDogMjAwMDsKICBsZWZ0OiAwOwogIHRvcDogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3ZlcmZsb3c6IGF1dG87CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpCn0KCi5tb2RhbC1jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVmZWZlOwogIG1hcmdpbjogMTUlIGF1dG87CiAgcGFkZGluZzogMjBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjODg4OwogIHdpZHRoOiA4MCU7CiAgbWF4LXdpZHRoOiA0MDBweDsKICBib3JkZXItcmFkaXVzOiA4cHgKfQoKLmNsb3NlLWJ1dHRvbiB7CiAgY29sb3I6ICNhYWE7CiAgZmxvYXQ6IHJpZ2h0OwogIGZvbnQtc2l6ZTogMjhweDsKICBmb250LXdlaWdodDogYm9sZDsKICBjdXJzb3I6IHBvaW50ZXIKfQoKLm1vZGFsLWFjdGlvbnMgewogIGRpc3BsYXk6IGZsZXg7CiAgZ2FwOiAxMHB4OwogIG1hcmdpbi10b3A6IDE1cHgKfQoKLm1vZGFsLWFjdGlvbnMgYnV0dG9uIHsKICBmbGV4LWdyb3c6IDEKfQoKLmdhcy1ub3RlIHsKICBmb250LXNpemU6IDAuOGVtOwogIGNvbG9yOiAjNjY2OwogIG1hcmdpbi10b3A6IDIwcHgKfQoKYm9keS5kYXJrLW1vZGUgLm1vZGFsLWNvbnRlbnQgewogIGJhY2tncm91bmQtY29sb3I6ICMzMzMKfQoKYm9keS5kYXJrLW1vZGUgLmdhcy1ub3RlIHsKICBjb2xvcjogI2FhYQp9CgoudG9hc3QgewogIHZpc2liaWxpdHk6IGhpZGRlbjsKICBtaW4td2lkdGg6IDI1MHB4OwogIGJhY2tncm91bmQtY29sb3I6ICMzMzM7CiAgY29sb3I6ICNmZmY7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBwYWRkaW5nOiAxNnB4OwogIHBvc2l0aW9uOiBmaXhlZDsKICB6LWluZGV4OiAzMDAwOwogIGxlZnQ6IDUwJTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgYm90dG9tOiAzMHB4Cn0KCi50b2FzdC5zaG93IHsKICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIC13ZWJraXQtYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7CiAgYW5pbWF0aW9uOiBmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXMKfQoKLnRvYXN0LmVycm9yIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzAzOTJiCn0KCi50b2FzdC5zdWNjZXNzIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjdhZTYwCn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlaW4gewogIGZyb20gewogICAgYm90dG9tOiAwOwogICAgb3BhY2l0eTogMAogIH0KICB0byB7CiAgICBib3R0b206IDMwcHg7CiAgICBvcGFjaXR5OiAxCiAgfQp9CgpAa2V5ZnJhbWVzIGZhZGVpbiB7CiAgZnJvbSB7CiAgICBib3R0b206IDA7CiAgICBvcGFjaXR5OiAwCiAgfQogIHRvIHsKICAgIGJvdHRvbTogMzBweDsKICAgIG9wYWNpdHk6IDEKICB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlb3V0IHsKICBmcm9tIHsKICAgIGJvdHRvbTogMzBweDsKICAgIG9wYWNpdHk6IDEKICB9CiAgdG8gewogICAgYm90dG9tOiAwOwogICAgb3BhY2l0eTogMAogIH0KfQoKQGtleWZyYW1lcyBmYWRlb3V0IHsKICBmcm9tIHsKICAgIGJvdHRvbTogMzBweDsKICAgIG9wYWNpdHk6IDEKICB9CiAgdG8gewogICAgYm90dG9tOiAwOwogICAgb3BhY2l0eTogMAogIH0KfQoKQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgLmhlYWRlci1jb250cm9scyB7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kOwogICAgZ2FwOiAxMHB4CiAgfQp9CgovKiAoUmVtb3ZlZCBwcm9ibGVtYXRpYyBGbGF0cGlja3IgaGVhZGVyIG92ZXJyaWRlcykgKi8KCmJ1dHRvbjpmb2N1cywgYTpmb2N1cywgaW5wdXQ6Zm9jdXMsIC5jbGFpbS1idXR0b246Zm9jdXMsIC5jaGlwOmZvY3VzIHsKICBvdXRsaW5lOiAycHggc29saWQgIzRkYTNmZiAhaW1wb3J0YW50OwogIG91dGxpbmUtb2Zmc2V0OiAycHgKfQoKYm9keS5kYXJrLW1vZGUgewogIGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7CiAgY29sb3I6ICNlMGUwZTAKfQoKLyogPT09IFJldHJvIFRoZW1lIChDb21tb2RvcmUgNjTigJFpbnNwaXJlZCkgPT09ICovCmJvZHkucmV0cm8tbW9kZSB7CiAgLS1ib3JkZXI6ICM0ZTViZDQ7CiAgLS1wYW5lbDogICMwYTFkYjg7CiAgLS1idG4tYmc6ICMwYTFkYjg7CiAgLS1idG4tZmc6ICNjN2ZmZjc7CiAgLS1tdXRlZDogICM4YWI0ZmY7CgogIGJhY2tncm91bmQtY29sb3I6ICMwNDE0QTc7CiAgY29sb3I6ICNjN2ZmZjc7CiAgZm9udC1mYW1pbHk6ICdWVDMyMycsIG1vbm9zcGFjZTsKICBsZXR0ZXItc3BhY2luZzogMC4zcHg7Cn0KCmJvZHkucmV0cm8tbW9kZSBhIHsgY29sb3I6ICNmZmVhN2E7IH0KYm9keS5yZXRyby1tb2RlIC5tdXRlZCB7IGNvbG9yOiB2YXIoLS1tdXRlZCk7IH0KYm9keS5yZXRyby1tb2RlIGlucHV0LApib2R5LnJldHJvLW1vZGUgdGV4dGFyZWEsCmJvZHkucmV0cm8tbW9kZSBidXR0b24sCmJvZHkucmV0cm8tbW9kZSBzZWxlY3QgeyBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7IGNvbG9yOiB2YXIoLS1idG4tZmcpOyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyB9CgovKiBIZWFkZXIgY29udHJvbHMgKi8KYm9keS5yZXRyby1tb2RlICNuZXR3b3JrTmFtZSB7IGJhY2tncm91bmQ6ICMwYTFkYjg7IGNvbG9yOiAjYzdmZmY3OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyB9CmJvZHkucmV0cm8tbW9kZSAud2FsbGV0LXJldmVhbC1idG4geyBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7IGNvbG9yOiB2YXIoLS1idG4tZmcpOyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7IH0KYm9keS5yZXRyby1tb2RlIC5tZW51LXRvZ2dsZSB7IGJhY2tncm91bmQ6IHZhcigtLXBhbmVsKTsgY29sb3I6IHZhcigtLWJ0bi1mZyk7IGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsgfQpib2R5LnJldHJvLW1vZGUgLm1lbnUtcGFuZWwgeyBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7IGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsgYm94LXNoYWRvdzogMCAxNXB4IDM1cHggcmdiYSgzLDgsNTgsLjYpOyB9CmJvZHkucmV0cm8tbW9kZSAubWVudS10aXRsZSB7IGNvbG9yOiB2YXIoLS1tdXRlZCk7IH0KCi8qIENoaXBzICovCmJvZHkucmV0cm8tbW9kZSAuY2hpcCB7IGJhY2tncm91bmQtY29sb3I6ICMwNzE2OWY7IGJvcmRlci1jb2xvcjogIzI3NDlkYzsgY29sb3I6ICNjN2ZmZjc7IH0KYm9keS5yZXRyby1tb2RlIC5jaGlwOmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogIzBhMWRiODsgfQpib2R5LnJldHJvLW1vZGUgLmNoaXAuYWN0aXZlIHsgYmFja2dyb3VuZC1jb2xvcjogIzAwZmZmZjsgY29sb3I6ICMwNjEzOGE7IGJvcmRlci1jb2xvcjogIzAwZmZmZjsgfQoKLyogUHJvZ3Jlc3MgY29udGFpbmVyICovCmJvZHkucmV0cm8tbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgeyBiYWNrZ3JvdW5kOiAjMDYxOWE5OyBib3JkZXItY29sb3I6ICM0ZTViZDQ7IGNvbG9yOiAjYzdmZmY3OyB9CmJvZHkucmV0cm8tbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI3NjYW5UeXBlTGluZSB7IGNvbG9yOiAjYzdmZmY3OyB9CmJvZHkucmV0cm8tbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI2FkZHJlc3NQcm9ncmVzc1RleHQsCmJvZHkucmV0cm8tbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI3Rva2VuUHJvZ3Jlc3NUZXh0LApib2R5LnJldHJvLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyICNycGNTdGF0dXMsCmJvZHkucmV0cm8tbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI2V0clRleHQgeyBjb2xvcjogI2M3ZmZmNzsgfQpib2R5LnJldHJvLW1vZGUgI3Rva2VuUHJvZ3Jlc3NCYXIgeyBiYWNrZ3JvdW5kOiAjMDYxMzhhOyBjb2xvcjogI2ZmZWE3YTsgfQoKLyogTW9kYWwgKi8KYm9keS5yZXRyby1tb2RlIC5tb2RhbC1jb250ZW50IHsgYmFja2dyb3VuZC1jb2xvcjogIzBhMWRiODsgY29sb3I6ICNjN2ZmZjc7IGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsgfQoKLyogRm9vdGVyICYgbWFya2Rvd24gKi8KYm9keS5yZXRyby1tb2RlIC5zaXRlLWZvb3RlciB7IGJvcmRlci10b3AtY29sb3I6ICMyNzQ5ZGM7IGNvbG9yOiAjYmZlOWZmOyB9CmJvZHkucmV0cm8tbW9kZSAubWFya2Rvd24tYm9keSBjb2RlLApib2R5LnJldHJvLW1vZGUgLm1hcmtkb3duLWJvZHkgcHJlIHsgYmFja2dyb3VuZDogIzA1MTM4YTsgY29sb3I6ICNjN2ZmZjc7IH0KCi8qIFRhYnVsYXRvciAodGFibGUpICovCmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIHsgYmFja2dyb3VuZC1jb2xvcjogIzA1MTM5OTsgY29sb3I6ICNjN2ZmZjc7IH0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYW5lbCk7IGNvbG9yOiAjYzdmZmY3OyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7IH0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wgeyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgY29sb3I6ICNjN2ZmZjc7IGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IH0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2w6bGFzdC1jaGlsZCB7IGJvcmRlci1yaWdodDogbm9uZTsgfQpib2R5LnJldHJvLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbCAudGFidWxhdG9yLWNvbC10aXRsZSB7IGNvbG9yOiAjYzdmZmY3OyBmb250LXdlaWdodDogNjAwOyB9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sLnRhYnVsYXRvci1zb3J0YWJsZTpob3ZlciB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wOCk7IH0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wudGFidWxhdG9yLWNvbC1zb3J0ZWQgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMTApOyB9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sIC50YWJ1bGF0b3Itc29ydGVyIC50YWJ1bGF0b3Itc29ydGVyLWVsZW1lbnQgeyBib3JkZXItYm90dG9tLWNvbG9yOiAjYmZlOWZmOyB9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sW2FyaWEtc29ydD0iZGVzYyJdIC50YWJ1bGF0b3Itc29ydGVyIC50YWJ1bGF0b3Itc29ydGVyLWVsZW1lbnQgeyBib3JkZXItdG9wLWNvbG9yOiAjYmZlOWZmOyB9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlciBpbnB1dCwKYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIHNlbGVjdCB7IGJhY2tncm91bmQ6ICMwNjEzOGE7IGNvbG9yOiAjYzdmZmY3OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBib3JkZXItcmFkaXVzOiA4cHg7IH0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIGlucHV0OjpwbGFjZWhvbGRlciB7IGNvbG9yOiAjOWJjMGZmOyB9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItY2VsbCB7IGJhY2tncm91bmQtY29sb3I6ICMwNTEzOTk7IGNvbG9yOiAjYzdmZmY3OyBib3JkZXItY29sb3I6ICMyNzQ5ZGM7IH0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1mb290ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjMGExZGI4OyBjb2xvcjogI2M3ZmZmNzsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOyB9CgovKiBNaXNjICovCmJvZHkucmV0cm8tbW9kZSB7IGNvbG9yLXNjaGVtZTogZGFyazsgfQpib2R5LnJldHJvLW1vZGUgI3N0YWtlUmVndWxhclBlckFkZHJlc3NTdW1tYXJ5IHsgY29sb3I6ICNiZmU5ZmY7IH0KYm9keS5yZXRyby1tb2RlICNtb2JpbGUtdG9vbHRpcCB7IGJhY2tncm91bmQ6IzA2MTM4YTsgY29sb3I6I2M3ZmZmNzsgYm9yZGVyLWNvbG9yOiM0ZTViZDQ7IH0KCgpib2R5LmRhcmstbW9kZSBpbnB1dCwgYm9keS5kYXJrLW1vZGUgdGV4dGFyZWEsIGJvZHkuZGFyay1tb2RlIGJ1dHRvbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMzsKICBjb2xvcjogI2UwZTBlMDsKICBib3JkZXI6IDFweCBzb2xpZCAjNDQ0Cn0KLyogRGFyayBtb2RlOiBtYWtlIGVzdFhlblVzZCBhIGxpZ2h0IGdyZWVuICovCmJvZHkuZGFyay1tb2RlICNlc3RYZW5Vc2QgeyBjb2xvcjogIzBiZWYwNDsgfQovKiBIaW50IGJyb3dzZXJzIGZvciBuYXRpdmUgZm9ybSBjb250cm9sIHRoZW1pbmcgKi8KYm9keS5kYXJrLW1vZGUgeyBjb2xvci1zY2hlbWU6IGRhcms7IH0KCi8qIERhcmsgdGhlbWUgdmFyaWFibGVzIHRvIHVuaWZ5IHBhbmVsL2lucHV0L2JvcmRlci9tdXRlZCBjb2xvcnMgKi8KYm9keS5kYXJrLW1vZGUgewogIC0tYm9yZGVyOiAjMzc0MTUxOyAgICAvKiBzbGF0ZS03MDAgKi8KICAtLXBhbmVsOiAjMWYyOTM3OyAgICAgLyogc2xhdGUtODAwICovCiAgLS1idG4tYmc6ICMxZjI5Mzc7ICAgIC8qIHBhbmVsICovCiAgLS1idG4tZmc6ICNlNWU3ZWI7ICAgIC8qIHNsYXRlLTIwMCAqLwogIC0tbXV0ZWQ6ICM5Y2EzYWY7ICAgICAvKiBzbGF0ZS00MDAgKi8KfQoKLyogU2V0dGluZ3MgY2FyZHMgYWRvcHQgZGFyayBwYW5lbHMgKi8KYm9keS5kYXJrLW1vZGUgLnNldHRpbmdzLWNhcmQgewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7CiAgYm94LXNoYWRvdzogbm9uZTsKfQpib2R5LmRhcmstbW9kZSAuc2V0dGluZ3MtY2FyZC5kYW5nZXIgewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsKICBib3JkZXItY29sb3I6ICM3ZjFkMWQ7IC8qIGtlZXAgc2VtYW50aWMgcmVkICovCn0KYm9keS5kYXJrLW1vZGUgLnNldHRpbmdzLWRpdmlkZXIgeyBiYWNrZ3JvdW5kOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOyB9CmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1zdGF0dXMsCmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1ub3RlLApib2R5LmRhcmstbW9kZSAuZmllbGQgc21hbGwgeyBjb2xvcjogdmFyKC0tbXV0ZWQsICM5Y2EzYWYpOyB9CgovKiBUaGVtZSBzZWxlY3QgYWRhcHRzIHRvIHRoZW1lIChjb250cm9sICsgZHJvcGRvd24gaXRlbXMpICovCmJvZHkuZGFyay1tb2RlICN0aGVtZVNlbGVjdCwKYm9keS5kYXJrLW1vZGUgLmZpZWxkIHNlbGVjdCN0aGVtZVNlbGVjdCB7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcsICMxMTE4MjcpOwogIGNvbG9yOiAjZTVlN2ViOwogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLCAjMzc0MTUxKTsKfQpib2R5LmRhcmstbW9kZSAjdGhlbWVTZWxlY3Qgb3B0aW9uIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzFmMjkzNyk7CiAgY29sb3I6ICNlNWU3ZWI7Cn0KYm9keS5saWdodC1tb2RlICN0aGVtZVNlbGVjdCBvcHRpb24gewogIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgY29sb3I6ICMxMTE4Mjc7Cn0KCi8qIE1ha2Ugb3RoZXIgc2VsZWN0cyBtYXRjaCB0aGVtZVNlbGVjdCBsb29rICovCiNyZXNldERiU2VsZWN0LCAjbWludEFjdGlvbiwgI3RoZW1lU2VsZWN0IHsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIGZvbnQtc2l6ZTogMWVtOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgcGFkZGluZzogOHB4IDEwcHg7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcsICNmZmYpOwogIGNvbG9yOiBpbmhlcml0Owp9CmJvZHkuZGFyay1tb2RlICNyZXNldERiU2VsZWN0LCBib2R5LmRhcmstbW9kZSAjbWludEFjdGlvbiB7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcsICMxMTE4MjcpOwogIGNvbG9yOiAjZTVlN2ViOwogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLCAjMzc0MTUxKTsKfQpib2R5LnJldHJvLW1vZGUgI3Jlc2V0RGJTZWxlY3QsIGJvZHkucmV0cm8tbW9kZSAjbWludEFjdGlvbiB7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcsICMwNjEzOGEpOwogIGNvbG9yOiAjYzdmZmY3OwogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsKfQpib2R5LmRhcmstbW9kZSAjcmVzZXREYlNlbGVjdCBvcHRpb24sIGJvZHkuZGFyay1tb2RlICNtaW50QWN0aW9uIG9wdGlvbiB7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICMxZjI5MzcpOwogIGNvbG9yOiAjZTVlN2ViOwp9CmJvZHkubGlnaHQtbW9kZSAjcmVzZXREYlNlbGVjdCBvcHRpb24sIGJvZHkubGlnaHQtbW9kZSAjbWludEFjdGlvbiBvcHRpb24gewogIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgY29sb3I6ICMxMTE4Mjc7Cn0KYm9keS5yZXRyby1tb2RlICNyZXNldERiU2VsZWN0IG9wdGlvbiwgYm9keS5yZXRyby1tb2RlICNtaW50QWN0aW9uIG9wdGlvbiB7CiAgYmFja2dyb3VuZDogIzA2MTM4YTsKICBjb2xvcjogI2M3ZmZmNzsKfQoKLyogU3VtbWFyeSBjb250YWluZXIgdHVuZWQgZm9yIGRhcmsgbW9kZSAqLwpib2R5LmRhcmstbW9kZSAjc3VtbWFyeUNvbnRhaW5lciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzBmMTcyYTsgLyogc2xhdGUtOTUwLWlzaCAqLwogIGJvcmRlci1jb2xvcjogIzMzNDE1NTsgICAgIC8qIHNsYXRlLTYwMCAqLwogIGNvbG9yOiAjZTVlN2ViOyAgICAgICAgICAgIC8qIHNsYXRlLTIwMCAqLwp9Ci8qIFN1bW1hcnkgY29udGFpbmVyIHR1bmVkIGZvciByZXRybyBtb2RlICovCmJvZHkucmV0cm8tbW9kZSAjc3VtbWFyeUNvbnRhaW5lciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzA2MTlhOTsKICBib3JkZXItY29sb3I6ICM0ZTViZDQ7CiAgY29sb3I6ICNjN2ZmZjc7Cn0KCi8qIEZpeCBidXR0b24gaG92ZXJzIGluIGRhcmsgbW9kZSAoTWludC9TdGFrZSArIFNldHRpbmdzKSAqLwpib2R5LmRhcmstbW9kZSAjdGFiLW1pbnQgLmJ0bi1taW50OmhvdmVyLApib2R5LmRhcmstbW9kZSAjdGFiLW1pbnQgLmJ0bi1zZWNvbmRhcnk6aG92ZXIgewogIGJhY2tncm91bmQ6ICMzNzQxNTE7IC8qIHNsYXRlLTcwMCAqLwogIGJvcmRlci1jb2xvcjogIzRiNTU2MzsgLyogc2xhdGUtNjAwICovCiAgY29sb3I6ICNlNWU3ZWI7Cn0KCmJvZHkuZGFyay1tb2RlICN0YWItc2V0dGluZ3MgYnV0dG9uOmhvdmVyLApib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIC5idXR0b24tbGlrZTpob3ZlciwKYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyBsYWJlbFtyb2xlPSJidXR0b24iXTpob3ZlciB7CiAgYmFja2dyb3VuZDogIzFmMjkzNzsgLyogcGFuZWwgKi8KICBib3JkZXItY29sb3I6ICM0YjU1NjM7CiAgY29sb3I6ICNlNWU3ZWI7Cn0KCi8qIFVuaWZ5IFNldHRpbmdzIHRhYiBiYWNrZ3JvdW5kcyB0byBtYXRjaCBldGhlcnNjYW5BcGlLZXkgaW5wdXQgYmcgKi8KYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyAuc2V0dGluZ3MtY2FyZCwKYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyBidXR0b24sCmJvZHkuZGFyay1tb2RlICN0YWItc2V0dGluZ3MgLmJ1dHRvbi1saWtlLApib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIC5maWVsZCBpbnB1dFt0eXBlPSJ0ZXh0Il0sCmJvZHkuZGFyay1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIGlucHV0W3R5cGU9InBhc3N3b3JkIl0sCmJvZHkuZGFyay1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIGlucHV0W3R5cGU9Im51bWJlciJdLApib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIC5maWVsZCB0ZXh0YXJlYSwKYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyAuZmllbGQgc2VsZWN0IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgIzExMTgyNyk7Cn0KYm9keS5kYXJrLW1vZGUgI3RhYi1zZXR0aW5ncyAuc2V0dGluZ3MtY2FyZC5kYW5nZXIgeyBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgIzExMTgyNyk7IH0KCi8qIFJldHJvOiB1bmlmeSBTZXR0aW5ncyB0YWIgdG8gcmV0cm8gaW5wdXQgYmFja2dyb3VuZCAqLwpib2R5LnJldHJvLW1vZGUgeyAtLWlucHV0LWJnOiAjMDYxMzhhOyB9CmJvZHkucmV0cm8tbW9kZSAjdGFiLXNldHRpbmdzIC5zZXR0aW5ncy1jYXJkLApib2R5LnJldHJvLW1vZGUgI3RhYi1zZXR0aW5ncyBidXR0b24sCmJvZHkucmV0cm8tbW9kZSAjdGFiLXNldHRpbmdzIC5idXR0b24tbGlrZSwKYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIGlucHV0W3R5cGU9InRleHQiXSwKYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIGlucHV0W3R5cGU9InBhc3N3b3JkIl0sCmJvZHkucmV0cm8tbW9kZSAjdGFiLXNldHRpbmdzIC5maWVsZCBpbnB1dFt0eXBlPSJudW1iZXIiXSwKYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLmZpZWxkIHRleHRhcmVhLApib2R5LnJldHJvLW1vZGUgI3RhYi1zZXR0aW5ncyAuZmllbGQgc2VsZWN0IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZyk7Cn0KYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLnNldHRpbmdzLWNhcmQuZGFuZ2VyIHsgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcpOyB9CgovKiBFeHBsaWNpdCBrZXkgZmllbGRzIHRvIGVuc3VyZSBhZGhlcmVuY2UgZXZlbiBpZiBvdmVycmlkZGVuIGVsc2V3aGVyZSAqLwpib2R5LnJldHJvLW1vZGUgI2V0aGVyc2NhbkFwaUtleSwKYm9keS5yZXRyby1tb2RlICNjaHVua1NpemUsCmJvZHkucmV0cm8tbW9kZSAjZ2FzUmVmcmVzaFNlY29uZHMsCmJvZHkucmV0cm8tbW9kZSAjbWludEFjdGlvbiwKYm9keS5yZXRyby1tb2RlICNyZXNldERiU2VsZWN0IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZykgIWltcG9ydGFudDsKICBjb2xvcjogI2M3ZmZmNyAhaW1wb3J0YW50OwogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKSAhaW1wb3J0YW50Owp9Ci8qIE1pbnQvU3Rha2Ugc3BlY2lmaWMgbnVtZXJpYyBmaWVsZHMgKi8KYm9keS5yZXRyby1tb2RlICNtaW50Vm11cywKYm9keS5yZXRyby1tb2RlICNtaW50VGVybURheXMsCmJvZHkucmV0cm8tbW9kZSAjc3Rha2VBbW91bnQsCmJvZHkucmV0cm8tbW9kZSAjc3Rha2VUZXJtRGF5cyB7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcpICFpbXBvcnRhbnQ7CiAgY29sb3I6ICNjN2ZmZjcgIWltcG9ydGFudDsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcikgIWltcG9ydGFudDsKfQoKYm9keS5saWdodC1tb2RlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogIGNvbG9yOiAjMDAwMDAwCn0KCmJvZHkubGlnaHQtbW9kZSBpbnB1dCwgYm9keS5saWdodC1tb2RlIHRleHRhcmVhLCBib2R5LmxpZ2h0LW1vZGUgYnV0dG9uIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGNvbG9yOiAjMDAwOwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2MKfQoKLyogTWFya2Rvd24gcmVuZGVyaW5nIChBYm91dCB0YWIpICovCi5tYXJrZG93bi1ib2R5IHsKICBtYXgtd2lkdGg6IDkwMHB4OwogIG1hcmdpbjogOHB4IGF1dG8gMCBhdXRvOwogIGxpbmUtaGVpZ2h0OiAxLjY7CiAgZm9udC1zaXplOiAwLjk1cmVtOwp9Ci5tYXJrZG93bi1ib2R5IGgxLCAubWFya2Rvd24tYm9keSBoMiwgLm1hcmtkb3duLWJvZHkgaDMsCi5tYXJrZG93bi1ib2R5IGg0LCAubWFya2Rvd24tYm9keSBoNSwgLm1hcmtkb3duLWJvZHkgaDYgewogIG1hcmdpbjogMS4yZW0gMCAwLjZlbTsKICBsaW5lLWhlaWdodDogMS4yNTsKfQoubWFya2Rvd24tYm9keSBwIHsgbWFyZ2luOiAwLjZlbSAwOyB9Ci5tYXJrZG93bi1ib2R5IHVsLCAubWFya2Rvd24tYm9keSBvbCB7IG1hcmdpbjogMC42ZW0gMCAwLjZlbSAxLjJlbTsgfQoubWFya2Rvd24tYm9keSBjb2RlIHsgYmFja2dyb3VuZDogI2Y2ZjhmYTsgcGFkZGluZzogMCAzcHg7IGJvcmRlci1yYWRpdXM6IDRweDsgfQoubWFya2Rvd24tYm9keSBwcmUgeyBiYWNrZ3JvdW5kOiAjZjZmOGZhOyBwYWRkaW5nOiAxMHB4OyBvdmVyZmxvdzogYXV0bzsgYm9yZGVyLXJhZGl1czogNnB4OyB9Ci5tYXJrZG93bi1ib2R5IHRhYmxlIHsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgd2lkdGg6IDEwMCU7IH0KLm1hcmtkb3duLWJvZHkgdGgsIC5tYXJrZG93bi1ib2R5IHRkIHsgYm9yZGVyOiAxcHggc29saWQgI2U1ZTdlYjsgcGFkZGluZzogNnB4IDhweDsgfQoubWFya2Rvd24tYm9keSBpbWcgeyBtYXgtd2lkdGg6IDEwMCU7IGhlaWdodDogYXV0bzsgfQoubWFya2Rvd24tYm9keSBhIHsgY29sb3I6ICMyNTYzZWI7IH0KCkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogIC5tYXJrZG93bi1ib2R5IHsgZm9udC1zaXplOiAwLjk4cmVtOyBwYWRkaW5nOiAwIDhweDsgfQp9CgovKiBGb290ZXIgKi8KLnNpdGUtZm9vdGVyIHsKICBtYXJnaW4tdG9wOiAyNHB4OwogIHBhZGRpbmctdG9wOiAxMnB4OwogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwogIGNvbG9yOiAjNmI3MjgwOyAvKiBtdXRlZCBncmF5ICovCiAgZm9udC1zaXplOiAwLjg1ZW07CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5zaXRlLWZvb3RlciBhIHsgY29sb3I6IGluaGVyaXQ7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyB9Ci5zaXRlLWZvb3RlciAuaW5saW5lLXNlcCB7IG1hcmdpbjogMCA2cHg7IGNvbG9yOiAjOWNhM2FmOyB9Cgpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyOwogIGNvbG9yOiAjZTBlMGUwCn0KCi8qIEltcHJvdmUgVGFidWxhdG9yIGhlYWRlciBpbiBkYXJrIG1vZGU6IHJlYWRhYmxlIHRleHQsIHN1YnRsZSBzZXBhcmF0b3JzLCBjbGVhciBob3Zlci9zb3J0ICovCmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgewogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsKICBjb2xvcjogI2U1ZTdlYjsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KYm9keS5kYXJrLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbCB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6ICNlNWU3ZWI7CiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMzc0MTUxKTsKfQpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sOmxhc3QtY2hpbGQgewogIGJvcmRlci1yaWdodDogbm9uZTsKfQpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sIC50YWJ1bGF0b3ItY29sLXRpdGxlIHsKICBjb2xvcjogI2U1ZTdlYjsKICBmb250LXdlaWdodDogNjAwOwp9Ci8qIEhvdmVyIGFuZCBhY3RpdmUgc3RhdGVzIGZvciBzb3J0YWJsZSBoZWFkZXJzICovCmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wudGFidWxhdG9yLXNvcnRhYmxlOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDYpOwp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wudGFidWxhdG9yLWNvbC1zb3J0ZWQgewogIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wOCk7Cn0KLyogU29ydCBhcnJvd3MgaW4gZGFyayBtb2RlICovCmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wgLnRhYnVsYXRvci1zb3J0ZXIgLnRhYnVsYXRvci1zb3J0ZXItZWxlbWVudCB7CiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2NiZDVlMTsgLyogc2xhdGUtMzAwICovCn0KYm9keS5kYXJrLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbFthcmlhLXNvcnQ9ImRlc2MiXSAudGFidWxhdG9yLXNvcnRlciAudGFidWxhdG9yLXNvcnRlci1lbGVtZW50IHsKICBib3JkZXItdG9wLWNvbG9yOiAjY2JkNWUxOwp9Ci8qIEhlYWRlciBmaWx0ZXIgaW5wdXRzICovCmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIGlucHV0LApib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlciBzZWxlY3QgewogIGJhY2tncm91bmQ6ICMxMTE4Mjc7CiAgY29sb3I6ICNlNWU3ZWI7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMzc0MTUxKTsKICBib3JkZXItcmFkaXVzOiA4cHg7Cn0KYm9keS5kYXJrLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWhlYWRlci1maWx0ZXIgaW5wdXQ6OnBsYWNlaG9sZGVyIHsKICBjb2xvcjogIzljYTNhZjsKfQoKYm9keS5kYXJrLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWNlbGwgewogIGJhY2tncm91bmQtY29sb3I6ICMyMjI7CiAgY29sb3I6ICNlMGUwZTA7CiAgYm9yZGVyLWNvbG9yOiAjNDQ0Cn0KCmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1yb3cgewogIGJvcmRlci1jb2xvcjogIzQ0NAp9Cgpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItZm9vdGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzOwogIGNvbG9yOiAjZTBlMGUwOwogIGJvcmRlci1jb2xvcjogIzQ0NAp9Cgpib2R5LmxpZ2h0LW1vZGUgLnRhYnVsYXRvciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBjb2xvcjogIzAwMAp9Cgpib2R5LmxpZ2h0LW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsKICBjb2xvcjogIzAwMDsKICBib3JkZXItY29sb3I6ICNjY2MKfQoKYm9keS5saWdodC1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1jZWxsIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGNvbG9yOiAjMDAwOwogIGJvcmRlci1jb2xvcjogI2NjYwp9Cgpib2R5LmxpZ2h0LW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLXJvdyB7CiAgYm9yZGVyLWNvbG9yOiAjY2NjCn0KCmJvZHkubGlnaHQtbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItZm9vdGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1OwogIGNvbG9yOiAjMDAwOwogIGJvcmRlci1jb2xvcjogI2NjYwp9CgojdGFiLW1pbnQgLm1pbnQtZmllbGQgbGFiZWwgewogIG1hcmdpbi10b3A6IDAKfQoKI3RhYi1taW50IC5taW50LWlucHV0IHsKICBtYXJnaW46IDAKfQoKI3RhYi1taW50IC5idG4tc2Vjb25kYXJ5IHsKICBtYXJnaW46IDAKfQoKLyogRW5zdXJlIFNldCBUZXJtIGJ1dHRvbiBtYXRjaGVzIGlucHV0IGhlaWdodCBpbiBNaW50IHRhYiAqLwojdGFiLW1pbnQgI2J0blNldE1heFRlcm0gewogIGhlaWdodDogMzRweDsgICAgICAgICAgICAgLyogbWF0Y2ggLm1pbnQtaW5wdXQgaGVpZ2h0ICovCiAgcGFkZGluZy10b3A6IDA7ICAgICAgICAgICAvKiBsZXQgaGVpZ2h0IGNvbnRyb2wgdmVydGljYWwgc2l6ZSAqLwogIHBhZGRpbmctYm90dG9tOiAwOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OyAgICAgLyoga2VlcCB0ZXh0IHZlcnRpY2FsbHkgY2VudGVyZWQgKi8KICBhbGlnbi1pdGVtczogY2VudGVyOwp9CgovKiBNYXRjaCBzdGFrZSBHZXQgQmFsYW5jZSBidXR0b24gaGVpZ2h0L2FsaWdubWVudCAqLwojdGFiLW1pbnQgI2J0blN0YWtlR2V0QmFsYW5jZSB7CiAgaGVpZ2h0OiAzNHB4OwogIHBhZGRpbmctdG9wOiAwOwogIHBhZGRpbmctYm90dG9tOiAwOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi8qIFN0YWNrIHN0YWtlIGNvbnRyb2xzIHRvIGF2b2lkIG92ZXJsYXA7IHB1dCBUZXJtIGJlbG93IEFtb3VudCAqLwojc3Rha2VDb250cm9scy5taW50LWNvbnRyb2xzIHsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICBtYXgtd2lkdGg6IDcyMHB4Owp9CgovKiBNYWtlIHN0YWtlIHBlcmNlbnRhZ2UgYnV0dG9ucyBzbWFsbGVyICovCiNzdGFrZVBlcmNlbnRPcHRpb25zIC5saW5rbGlrZSB7CiAgZm9udC1zaXplOiAwLjg1ZW07CiAgcGFkZGluZzogMCA0cHg7CiAgb3BhY2l0eTogMC45Owp9CgpidXR0b24uYnRuLW1pbnQsIGJvZHkubGlnaHQtbW9kZSAuYnRuLW1pbnQsIGJvZHkuZGFyay1tb2RlIC5idG4tbWludCB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzExMTgyNyk7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKQp9Cgpib2R5LmxpZ2h0LW1vZGUgLmJ0bi1taW50OmhvdmVyLCBib2R5LmRhcmstbW9kZSAuYnRuLW1pbnQ6aG92ZXIgewogIGJhY2tncm91bmQ6ICNkYmVhZmU7CiAgYm9yZGVyLWNvbG9yOiAjOTNjNWZkCn0KCi5idG4tbWludDpkaXNhYmxlZCB7CiAgb3BhY2l0eTogLjY7CiAgY3Vyc29yOiBub3QtYWxsb3dlZAp9CgojY2FsZW5kYXIgLmZsYXRwaWNrci1kYXkucHJldk1vbnRoRGF5LAojY2FsZW5kYXIgLmZsYXRwaWNrci1kYXkubmV4dE1vbnRoRGF5IHsKICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7Cn0KCgovKiA9PT09PSBTZXR0aW5ncyBsYXlvdXQgPT09PT0gKi8KLnNldHRpbmdzLWdyaWQgewogIGRpc3BsYXk6IGdyaWQ7CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgbWlubWF4KDQwMHB4LCAxZnIpKTsKICBnYXA6IDE2cHg7CiAgbWFyZ2luLXRvcDogOHB4OwogIG1heC13aWR0aDogMTQwMHB4OyAgICAgIC8qIG9wdGlvbmFsOiBrZWVwcyBsaW5lIGxlbmd0aCBjb21meSAqLwogIG1hcmdpbi1pbmxpbmU6IGF1dG87ICAgIC8qIGNlbnRlciB0aGUgZ3JpZCAqLwp9CgpAbWVkaWEgKG1heC13aWR0aDogMTIwMHB4KSB7CiAgLnNldHRpbmdzLWdyaWQgewogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgbWlubWF4KDQwMHB4LCAxZnIpKTsKICB9Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgewogIC5zZXR0aW5ncy1ncmlkIHsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOwogIH0KfQoKLnNldHRpbmdzLWNhcmQgewogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICNmZmYpOwogIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgcGFkZGluZzogMTZweDsKICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLDAsMCwwLjAzKTsKfQoKLnNldHRpbmdzLWNhcmQgaDMgewogIG1hcmdpbjogMCAwIDEycHggMDsKICBmb250LXNpemU6IDFyZW07CiAgbGluZS1oZWlnaHQ6IDEuMjsKfQoKLnNldHRpbmdzLWNhcmQgcCB7CiAgbWFyZ2luOiAwIDAgMTBweCAwOwogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzZiNzI4MCk7CiAgZm9udC1zaXplOiAwLjk1cmVtOwp9CgouZmllbGQgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBnYXA6IDZweDsKICBtYXJnaW4tYm90dG9tOiAxMnB4Owp9CgouZmllbGQgbGFiZWwgewogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KCi5maWVsZCBzbWFsbCwKLm11dGVkIHsKICBjb2xvcjogdmFyKC0tbXV0ZWQsICM2YjcyODApOwp9CgouZmllbGQgaW5wdXRbdHlwZT0idGV4dCJdLAouZmllbGQgaW5wdXRbdHlwZT0icGFzc3dvcmQiXSwKLmZpZWxkIGlucHV0W3R5cGU9Im51bWJlciJdLAouZmllbGQgdGV4dGFyZWEsCi5maWVsZCBzZWxlY3QgewogIHdpZHRoOiAxMDAlOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA4cHggMTBweDsKICBmb250OiBpbmhlcml0OwogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnLCAjZmZmKTsKfQoKLmlucHV0LWlubGluZSB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGdhcDogMTBweDsKfQoKLmdyaWQtMiB7CiAgZGlzcGxheTogZ3JpZDsKICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7CiAgZ2FwOiAxMnB4Owp9CkBtZWRpYSAobWF4LXdpZHRoOiA3MjBweCkgewogIC5ncmlkLTIgeyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsgfQp9CgouYnV0dG9uLXJvdyB7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDEwcHg7CiAgZmxleC13cmFwOiB3cmFwOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi5idXR0b24tbGlrZSB7CiAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgcGFkZGluZzogOHB4IDEycHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGJhY2tncm91bmQ6ICNmZmY7Cn0KCi5zZXR0aW5ncy1kaXZpZGVyIHsKICBoZWlnaHQ6IDFweDsKICBiYWNrZ3JvdW5kOiB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIG1hcmdpbjogOHB4IDAgMTJweCAwOwp9Cgouc2V0dGluZ3Mtbm90ZSB7CiAgZm9udC1zaXplOiAwLjlyZW07CiAgY29sb3I6IHZhcigtLW11dGVkLCAjNmI3MjgwKTsKfQoKLnNldHRpbmdzLXN0YXR1cyB7CiAgbWFyZ2luLXRvcDogNnB4OwogIGZvbnQtc2l6ZTogMC45cmVtOwogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzZiNzI4MCk7Cn0KCi8qIFNob3cvSGlkZSB0b2dnbGVzIGZvciBpbnB1dHMgKi8KLmlucHV0LXdpdGgtdG9nZ2xlIHsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiAxMDAlOyB9Ci5yZXZlYWwtcm93IHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsgbWFyZ2luLXRvcDogNHB4OyB9Ci5yZXZlYWwtYnRuIHsgYm9yZGVyOiAwOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgY29sb3I6IHZhcigtLW11dGVkLCAjNmI3MjgwKTsgcGFkZGluZzogMnB4OyBjdXJzb3I6IHBvaW50ZXI7IH0KLnJldmVhbC1idG46aG92ZXIgeyBjb2xvcjogIzExMTgyNzsgfQoKLyogTWFza2luZyBzdHlsZSBmb3IgbXVsdGktbGluZSB0ZXh0YXJlYSAqLwoubWFza2VkIHsKICBmaWx0ZXI6IGJsdXIoNnB4KTsKfQoKLnNldHRpbmdzLWNhcmQuZGFuZ2VyIHsKICBib3JkZXItY29sb3I6ICNlZjQ0NDQ7CiAgYmFja2dyb3VuZDogI2ZmZjsKfQouc2V0dGluZ3MtY2FyZC5kYW5nZXIgaDMgewogIGNvbG9yOiAjYjkxYzFjOwp9Ci5zZXR0aW5ncy1jYXJkIC5zZWNvbmRhcnkgewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA4cHggMTJweDsKfQoKLyogLS0tIFNldHRpbmdzIHRhYjogdW5pZnkgYnV0dG9uIGxvb2sgJiBob3ZlciAtLS0gKi8KI3RhYi1zZXR0aW5ncyBidXR0b24sCiN0YWItc2V0dGluZ3MgLmJ1dHRvbi1saWtlLAojdGFiLXNldHRpbmdzIGxhYmVsW3JvbGU9ImJ1dHRvbiJdIHsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgI2Y4ZmFmYyk7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzExMTgyNyk7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA4cHggMTJweDsKICBmb250LXNpemU6IDAuOTVyZW07CiAgbGluZS1oZWlnaHQ6IDEuMjsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMTVzIGVhc2UsIGJvcmRlci1jb2xvciAuMTVzIGVhc2UsIGNvbG9yIC4xNXMgZWFzZSwgYm94LXNoYWRvdyAuMTVzIGVhc2U7Cn0KCiN0YWItc2V0dGluZ3MgYnV0dG9uOmhvdmVyLAojdGFiLXNldHRpbmdzIC5idXR0b24tbGlrZTpob3ZlciwKI3RhYi1zZXR0aW5ncyBsYWJlbFtyb2xlPSJidXR0b24iXTpob3ZlciB7CiAgYmFja2dyb3VuZDogI2RiZWFmZTsgLyogbGlnaHQgYmx1ZSAqLwogIGJvcmRlci1jb2xvcjogIzkzYzVmZDsKfQoKI3RhYi1zZXR0aW5ncyBidXR0b246Zm9jdXMtdmlzaWJsZSwKI3RhYi1zZXR0aW5ncyAuYnV0dG9uLWxpa2U6Zm9jdXMtdmlzaWJsZSwKI3RhYi1zZXR0aW5ncyBsYWJlbFtyb2xlPSJidXR0b24iXTpmb2N1cy12aXNpYmxlIHsKICBvdXRsaW5lOiBub25lOwogIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDU5LCAxMzAsIDI0NiwgMC4zKTsKfQoKLnRhYmxlLXRvb2xiYXJ7CiAgZGlzcGxheTpmbGV4OwogIGp1c3RpZnktY29udGVudDpmbGV4LWVuZDsKICBhbGlnbi1pdGVtczpjZW50ZXI7CiAgbWFyZ2luOiA2cHggMCA4cHg7Cn0KCi8qIFNtYWxsZXIsIHNlY29uZGFyeSBjb3VudCB0ZXh0IG5leHQgdG8gYnVsayBidXR0b25zICovCi50YWJsZS10b29sYmFyIC5idWxrLWNvdW50ewogIGZvbnQtc2l6ZTogMC45ZW07CiAgb3BhY2l0eTogLjg1Owp9CgovKiBWaXN1YWxseSBpbmRpY2F0ZSBkaXNhYmxlZCByb3ctc2VsZWN0aW9uIGNoZWNrYm94ZXMgKi8KLnRhYnVsYXRvciAudGFidWxhdG9yLWNlbGwgaW5wdXRbdHlwZT0iY2hlY2tib3giXVtkaXNhYmxlZF0gewogIG9wYWNpdHk6IDAuNTsKICBjdXJzb3I6IG5vdC1hbGxvd2VkOwp9CgovKiBMaW5rLWxpa2UgY29tcGFjdCBidXR0b25zIChmb3IgcGVyY2VudCBvcHRpb25zKSAqLwpidXR0b24ubGlua2xpa2UgewogIGJvcmRlcjogMDsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBjb2xvcjogIzI1NjNlYjsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcGFkZGluZzogMCA2cHg7CiAgZm9udDogaW5oZXJpdDsKfQpidXR0b24ubGlua2xpa2U6aG92ZXIgeyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgfQoKLnRhYmxlLWFjdGlvbnN7CiAgZGlzcGxheTpmbGV4OwogIGdhcDo4cHg7CiAgZmxleC13cmFwOndyYXA7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA2NDBweCl7CiAgLnRhYmxlLXRvb2xiYXJ7IGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsgfQp9CgovKiBTcGxpdCBTY2FuIGJ1dHRvbiAqLwouc3BsaXQtc2NhbiB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGRpc3BsYXk6IGlubGluZS1mbGV4OwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNkZGQpOwp9Ci5zcGxpdC1zY2FuIC5idG4geyBwYWRkaW5nOiA4cHggMTJweDsgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZmZmKTsgYm9yZGVyOiAwOyBjdXJzb3I6IHBvaW50ZXI7IH0KLnNwbGl0LXNjYW4gLnNwbGl0LWNhcmV0IHsgd2lkdGg6IDM2cHg7IGJvcmRlci1sZWZ0OiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZGRkKTsgfQouc3BsaXQtc2NhbiAuYnRuW2Rpc2FibGVkXSB7IG9wYWNpdHk6IC42OyBjdXJzb3I6IG5vdC1hbGxvd2VkOyB9Ci5zcGxpdC1zY2FuIC5zY2FuLWJhZGdlIHsgbWFyZ2luLWxlZnQ6IDhweDsgcGFkZGluZzogMnB4IDZweDsgYm9yZGVyLXJhZGl1czogOTk5cHg7IGZvbnQtc2l6ZTogMTJweDsgb3BhY2l0eTogLjg1OyBiYWNrZ3JvdW5kOiB2YXIoLS1jaGlwLWJnLCAjZjFmM2Y1KTsgfQouc3BsaXQtc2NhbiAubWVudSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMDAlOyByaWdodDogMDsgbWluLXdpZHRoOiAxNjBweDsgbWFyZ2luOiA0cHggMCAwOyBwYWRkaW5nOiA2cHggMDsgbGlzdC1zdHlsZTogbm9uZTsgYmFja2dyb3VuZDogI2ZmZjsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZGRkKTsgYm9yZGVyLXJhZGl1czogOHB4OyBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMCwwLDAsMC4wOCk7IHotaW5kZXg6IDEwMDA7IH0KLnNwbGl0LXNjYW4gLm1lbnVbaGlkZGVuXSB7IGRpc3BsYXk6IG5vbmU7IH0KLnNwbGl0LXNjYW4gLm1lbnUgbGkgeyBwYWRkaW5nOiA4cHggMTJweDsgY3Vyc29yOiBwb2ludGVyOyB9Ci5zcGxpdC1zY2FuIC5tZW51IGxpW2FyaWEtc2VsZWN0ZWQ9InRydWUiXSB7IGZvbnQtd2VpZ2h0OiA2MDA7IH0KLnNwbGl0LXNjYW4gLm1lbnUgbGk6aG92ZXIgeyBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC4wNCk7IH0KCi8qIERhcmsgbW9kZSBzdHlsaW5nIGZvciBzcGxpdCBzY2FuIGFuZCBtZW51ICovCmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIHsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KYm9keS5kYXJrLW1vZGUgLnNwbGl0LXNjYW4gLmJ0biB7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjMWYyOTM3KTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjZTVlN2ViKTsKfQpib2R5LmRhcmstbW9kZSAuc3BsaXQtc2NhbiAuc3BsaXQtY2FyZXQgewogIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwp9CmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIC5zY2FuLWJhZGdlIHsKICBiYWNrZ3JvdW5kOiAjMzc0MTUxOwogIGNvbG9yOiAjZTVlN2ViOwp9CmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIC5tZW51IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzFmMjkzNyk7CiAgY29sb3I6ICNlNWU3ZWI7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwogIGJveC1zaGFkb3c6IDAgOHB4IDIwcHggcmdiYSgwLDAsMCwwLjUpOwp9CmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIC5tZW51IGxpOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LCAuMDYpOwp9CgovKiBSZXRybyBtb2RlIHN0eWxpbmcgZm9yIHNwbGl0IHNjYW4gYW5kIGl0cyBtZW51ICovCmJvZHkucmV0cm8tbW9kZSAuc3BsaXQtc2NhbiB7IGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsgfQpib2R5LnJldHJvLW1vZGUgLnNwbGl0LXNjYW4gLmJ0biB7IGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZyk7IGNvbG9yOiB2YXIoLS1idG4tZmcpOyB9CmJvZHkucmV0cm8tbW9kZSAuc3BsaXQtc2NhbiAuc3BsaXQtY2FyZXQgeyBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tYm9yZGVyKTsgfQpib2R5LnJldHJvLW1vZGUgLnNwbGl0LXNjYW4gLnNjYW4tYmFkZ2UgeyBiYWNrZ3JvdW5kOiAjMDYxMzhhOyBjb2xvcjogI2M3ZmZmNzsgfQpib2R5LnJldHJvLW1vZGUgLnNwbGl0LXNjYW4gLm1lbnUgewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsKTsKICBjb2xvcjogI2M3ZmZmNzsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7CiAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDMsOCw1OCwwLjYpOwp9CmJvZHkucmV0cm8tbW9kZSAuc3BsaXQtc2NhbiAubWVudSBsaTpob3ZlciB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjA4KTsgfQoKLyogQ3VzdG9tIHN0eWxlcyBmb3IgdGhlIG1haW4gc2NhbiBidXR0b24gKi8KLnNwbGl0LXNjYW4gI3NjYW5CdG4gewogIGJhY2tncm91bmQtY29sb3I6ICNkZjQ1NDU7IC8qIEEgcHJvbWluZW50IGJsdWUgdG8gbWF0Y2ggb3RoZXIgYWN0aW9uIGJ1dHRvbnMgKi8KICBjb2xvcjogI2ZmZjsgICAgICAgICAgICAgIC8qIFdoaXRlIHRleHQgZm9yIGJldHRlciBjb250cmFzdCAqLwogIGZvbnQtc2l6ZTogMS4xZW07ICAgICAgICAgLyogTWFrZSB0aGUgZm9udCBzbGlnaHRseSBsYXJnZXIgKi8KICBmb250LXdlaWdodDogNjAwOyAgICAgICAgICAvKiBNYWtlIHRoZSB0ZXh0IGJvbGRlciAqLwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBtYXJnaW4tcmlnaHQ6IDRweDsKICBtYXJnaW4tbGVmdDogNHB4Owp9CgoKLnNwbGl0LXNjYW4gI3NjYW5Nb2RlVG9nZ2xlIHsKICBmb250LXdlaWdodDogNzAwOyAgICAgICAgICAvKiBNYWtlIHRoZSB0ZXh0IGJvbGRlciAqLwogIGZvbnQtc2l6ZTogMS4xZW07Cn0KLyogQWRkIGEgaG92ZXIgZWZmZWN0IGZvciB3aGVuIHRoZSBidXR0b24gaXMgbm90IGRpc2FibGVkICovCi5zcGxpdC1zY2FuICNzY2FuQnRuOm5vdCg6ZGlzYWJsZWQpOmhvdmVyIHsKICBvdXRsaW5lOiAycHggc29saWQgIzM4MzgzOTsgLyogQWRkcyBhIGRhcmsgYmx1ZSBmcmFtZSAqLwogIG91dGxpbmUtb2Zmc2V0OiAxcHg7ICAgICAgIC8qIEFkZHMgYSBzbWFsbCBzcGFjZSBiZXR3ZWVuIHRoZSBidXR0b24gYW5kIHRoZSBmcmFtZSAqLwp9CgoudGFiLWJ1dHRvbnMgewogIGRpc3BsYXk6IGZsZXg7CiAgZ2FwOiA4cHg7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7Cgp9CgoKLnRhYi1idXR0b24gewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGJvcmRlcjogMDsKICBwYWRkaW5nOiAxMHB4IDE0cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZvbnQtd2VpZ2h0OiA2MDA7ICAgICAgICAgIC8qIE1ha2UgdGhlIHRleHQgYm9sZGVyICovCiAgZm9udC1zaXplOiAxLjA3ZW07Cn0KCi50YWItYnV0dG9uLmFjdGl2ZSB7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMwMDdiZmY7CiAgYmFja2dyb3VuZC1jb2xvcjogIzQzNzZmMTsgLyogQSBwcm9taW5lbnQgYmx1ZSB0byBtYXRjaCBvdGhlciBhY3Rpb24gYnV0dG9ucyAqLwogIGNvbG9yOiAjZmZmOwp9CgovKiA9PT09PT09PT09PT09PT09PT09PT09PT0KICAgUmVzcG9uc2l2ZSBVSSBPdmVycmlkZXMKICAgPT09PT09PT09PT09PT09PT09PT09PT09ICovCi8qIEltcHJvdmUgcmVhZGFiaWxpdHkgZXZlcnl3aGVyZSB3aXRob3V0IGNoYW5naW5nIGRlc2t0b3AgbGF5b3V0ICovCmJvZHkgeyBsaW5lLWhlaWdodDogMS41OyB9CgovKiBNYWtlIGNvcmUgY29udGFpbmVycyBmbHVpZCAqLwojY29pbnRvb2wtdGFibGUgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDEwMCU7IH0KLmRhc2hib2FyZC10b3AgeyBmbGV4LXdyYXA6IHdyYXA7IH0KLmNhbGVuZGFyLXdyYXAgeyB3aWR0aDogbWluKDEwMCUsIDQwMHB4KTsgfQoubWludC10ZXJtLXJvdyB7IC8qIGtlZXAgZGVza3RvcCBiZWhhdmlvciAqLyB9CiNzdW1tYXJ5Q29udGFpbmVyIHsgLyogZGVza3RvcCBrZWVwcyBvcmlnaW5hbCB3aWR0aCAqLyB9CgovKiBNb2JpbGUtZmlyc3QgcmVmaW5lbWVudHMgKGtlZXAgZGVza3RvcCBsb29rIGludGFjdCkgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgYm9keSB7IG1hcmdpbjogMTJweDsgfQoKICAvKiBBdm9pZCBvdmVybGF5OyBsZXQgaGVhZGVyIGZsb3cgbm9ybWFsbHkgKi8KICAuaGVhZGVyLWNvbnRyb2xzIHsKICAgIHBvc2l0aW9uOiBzdGF0aWM7CiAgICBmbGV4LWRpcmVjdGlvbjogcm93OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGdhcDogOHB4OwogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogIH0KCiAgaDEgeyBmb250LXNpemU6IDEuMjVyZW07IG1hcmdpbi10b3A6IDhweDsgfQoKICAvKiBUb3VjaC1mcmllbmRseSBzaXplcyBhbmQgaU9TIHpvb20gcHJldmVudGlvbiAqLwogIGJ1dHRvbiwgLmJ0biwgLmJ0bi1zZWNvbmRhcnksIC5idG4tbWludCwgLmNoaXAsIC50YWItYnV0dG9uLAogIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBsYWJlbFtyb2xlPSJidXR0b24iXSB7CiAgICBmb250LXNpemU6IDE2cHg7IC8qIHByZXZlbnRzIGlPUyB6b29tICovCiAgICBtaW4taGVpZ2h0OiA0NHB4OwogIH0KCiAgLmNoaXAgeyBwYWRkaW5nOiA4cHggMTRweDsgfQoKICAudGFicyB7IG1hcmdpbi10b3A6IDZweDsgfQogIC50YWItYnV0dG9ucyB7IG92ZXJmbG93LXg6IGF1dG87IHdoaXRlLXNwYWNlOiBub3dyYXA7IHBhZGRpbmctYm90dG9tOiA0cHg7IH0KCiAgLmRhc2hib2FyZC10b3AgeyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBnYXA6IDEwcHg7IH0KICAuY2FsZW5kYXItd3JhcCB7IHdpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAwOyB9CiAgLmNhbGVuZGFyLXdyYXAgI2NhbGVuZGFyIHsgdHJhbnNmb3JtOiBub25lOyB9CiAgLmRldGFpbHMtd3JhcCB7IG1pbi13aWR0aDogMDsgd2lkdGg6IDEwMCU7IH0KCiAgLm1pbnQtY29udHJvbHMgewogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgfQogIC5taW50LWlucHV0IHsgd2lkdGg6IDEwMCU7IH0KICAubWludC10ZXJtLXJvdyB7IHdpZHRoOiBhdXRvOyB9CiAgLm1pbnQtYWN0aW9ucyB7IGZsZXgtd3JhcDogd3JhcDsgfQoKICAuZmlsdGVyLWNoaXBzIHsgZmxleC13cmFwOiB3cmFwOyByb3ctZ2FwOiA2cHg7IH0KCiAgI3N1bW1hcnlDb250YWluZXIgeyBkaXNwbGF5OmJsb2NrOyB3aWR0aDogOTUlOyBtYXgtd2lkdGg6IDk1JTsgbWFyZ2luLWlubGluZTphdXRvOyB9CiAgI3Byb2dyZXNzQ29udGFpbmVyIHsgd2lkdGg6IDk1JTsgbWF4LXdpZHRoOiA5NSU7IG1hcmdpbi1pbmxpbmU6YXV0bzsgfQogICNwcm9ncmVzc0NvbnRhaW5lci52aXNpYmxlIHsgZGlzcGxheTpibG9jazsgfQoKICAvKiBDaGFydCBoZWlnaHQgcmVzcG9uc2l2ZSAqLwogICN2bXVDaGFydCB7IGhlaWdodDogY2xhbXAoMjIwcHgsIDM1dmgsIDMyMHB4KSAhaW1wb3J0YW50OyB9Cn0KCi8qIChSZXZlcnRlZCB0byBsaWJyYXJ5IGRlZmF1bHRzIGFib3ZlKSAqLwoKLyogKE5vLW9wIGZvciBGbGF0cGlja3I7IHVzaW5nIGxpYnJhcnkgZGVmYXVsdHMgZm9yIG5vdykgKi8KCi8qIEZpeDogcHJldmVudCBtb250aC95ZWFyIGhlYWRlciBmcm9tIGJlaW5nIHB1c2hlZCBkb3duIGJ5IGRlZmF1bHQgdG9wIHBhZGRpbmcgKi8KI2NhbGVuZGFyIC5mbGF0cGlja3ItY3VycmVudC1tb250aCB7CiAgcGFkZGluZzogMCAhaW1wb3J0YW50OyAvKiBvdmVycmlkZSB2ZW5kb3IgcGFkZGluZzogNy40OHB4IDAgMCAwICovCn0KCi8qIE1ha2UgdGhlIFN0YWtlIFhFTkZUcyBicmVha2Rvd24gbWF0Y2ggdGhlIENvaW50b29sIG11dGVkIHN0eWxlICovCiNzdGFrZVBlckFkZHJlc3NTdW1tYXJ5IHsKICBtYXJnaW4tdG9wOiA2cHg7CiAgZm9udC1zaXplOiAwLjhlbTsKICBjb2xvcjogIzg4ODsKfQpib2R5LmRhcmstbW9kZSAjc3Rha2VQZXJBZGRyZXNzU3VtbWFyeSB7CiAgY29sb3I6ICNhYWE7Cn0KI3hlbmZ0UGVyQWRkcmVzc1N1bW1hcnkgewogIG1hcmdpbi10b3A6IDZweDsKICBmb250LXNpemU6IDAuOGVtOwogIGNvbG9yOiAjODg4Owp9CmJvZHkuZGFyay1tb2RlICN4ZW5mdFBlckFkZHJlc3NTdW1tYXJ5IHsKICBjb2xvcjogI2FhYTsKfQoKLyogR2FzIHN1cGVyc2NyaXB0IG5lYXIgbWFpbiBoZWFkZXIgKGFscmVhZHkgYWRkZWQgcHJldmlvdXNseSkgKi8KLmdhcy1zdXAgewogIGZvbnQtc2l6ZTogMC41ZW07CiAgY29sb3I6ICM3Nzc7CiAgdmVydGljYWwtYWxpZ246IHN1cGVyOwogIG1hcmdpbi1sZWZ0OiA4cHg7CiAgZm9udC13ZWlnaHQ6IDUwMDsKICBwb3NpdGlvbjogcmVsYXRpdmU7ICAgICAvKiBuZWVkZWQgc28gdGhlIDo6YWZ0ZXIgcG9zaXRpb25zIHVuZGVyIHRoZSB0ZXh0ICovCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAgLyogZW5zdXJlcyBhIHN0YWJsZSBib3ggZm9yIHRoZSB1bmRlcmxpbmUgKi8KfQoKLyogMXB4IGNvdW50ZG93biB1bmRlcmxpbmUgKi8KLmdhcy1zdXA6OmFmdGVyIHsKICBjb250ZW50OiAiIjsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMDsKICBjb2xvcjogIzUwNTA1MDsKICBib3R0b206IC0ycHg7ICAgICAgICAgICAvKiBudWRnZSB1bmRlciB0aGUgdGV4dDsgdHdlYWsgaWYgeW91IHdhbnQgY2xvc2VyICovCiAgaGVpZ2h0OiAxcHg7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZDogY3VycmVudENvbG9yOwogIG9wYWNpdHk6IDAuNzsKICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGNlbnRlcjsKICB0cmFuc2Zvcm06IHNjYWxlWCh2YXIoLS1wLCAxKSk7ICAvKiAtLXAgPSAxIChmdWxsKSAuLiAwIChlbXB0eSkgKi8KfQoKLmZpZWxkLnJlcXVpcmVkIGxhYmVsOjphZnRlciB7CiAgY29udGVudDogJyAqJzsKICBjb2xvcjogI2VmNDQ0NDsgLyogcmVkLTUwMCAqLwogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KCi8qIFJlcXVpcmVkIGFzdGVyaXNrIHN0YXlzIGFzLWlzICovCgovKiBJbnZhbGlkIGZpZWxkIHN0YXRlICovCi5maWVsZC5pbnZhbGlkIGlucHV0LAouZmllbGQuaW52YWxpZCB0ZXh0YXJlYSwKLmZpZWxkLmludmFsaWQgc2VsZWN0IHsKICBib3JkZXItY29sb3I6ICNlZjQ0NDQgIWltcG9ydGFudDsKICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgyMzksIDY4LCA2OCwgLjE1KTsKfQoKLyogRXJyb3IgbWVzc2FnZSAoaGlkZGVuIGJ5IGRlZmF1bHQ7IHNob3duIHdoZW4gLmludmFsaWQgaXMgYXBwbGllZCkgKi8KLmZpZWxkIC5lcnJvci1tZXNzYWdlIHsKICBkaXNwbGF5OiBub25lOwogIGNvbG9yOiAjZWY0NDQ0OwogIGZvbnQtc2l6ZTogMC44NXJlbTsKfQoKLmZpZWxkLmludmFsaWQgLmVycm9yLW1lc3NhZ2UgewogIGRpc3BsYXk6IGJsb2NrOwp9CgovKiBMaWdodCByZWQgZXJyb3IgdGV4dCBpbiBkYXJrIG1vZGUgZm9yIGJldHRlciByZWFkYWJpbGl0eSAqLwpib2R5LmRhcmstbW9kZSAuZmllbGQgLmVycm9yLW1lc3NhZ2UgewogIGNvbG9yOiAjZmNhNWE1OyAvKiByZWQtMzAwICovCn0KCiNzY2FuTW9kZUJhZGdlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CgovKiBNYWtlIHRoZSByZWd1bGFyIFN0YWtlcyBicmVha2Rvd24gbWF0Y2ggdGhlIG90aGVyIG11dGVkIHN0eWxlcyAqLwojc3Rha2VSZWd1bGFyUGVyQWRkcmVzc1N1bW1hcnkgewogIG1hcmdpbi10b3A6IDZweDsKICBmb250LXNpemU6IDAuOGVtOwogIGNvbG9yOiAjODg4Owp9CmJvZHkuZGFyay1tb2RlICNzdGFrZVJlZ3VsYXJQZXJBZGRyZXNzU3VtbWFyeSB7CiAgY29sb3I6ICNhYWE7Cn0KCi8qIFRvdGFsIFhFTiBkaXNwbGF5IGJlbG93IHRoZSBjYWxlbmRhciAqLwojY2FsZW5kYXIteGVuLXRvdGFsIHsKICB0ZXh0LWFsaWduOiBsZWZ0OyAvKiBDZW50ZXJzIHRoZSB0ZXh0IGJsb2NrICovCiAgbWFyZ2luLXRvcDogNXB4OyAgIC8qIEFkZHMgc29tZSBzcGFjZSBiZWxvdyB0aGUgY2FsZW5kYXIgKi8KICBmb250LXNpemU6IDFlbTsgICAvKiBPcHRpb25hbDogbWFrZXMgdGhlIHRleHQgc2xpZ2h0bHkgbGFyZ2VyICovCn0KCi8qIFN0eWxlIGZvciB0aGUgVVNEIHZhbHVlICgkKSAqLwovKiBVc2UgZGlmZmVyZW50IGNvbG9ycyBmb3IgbGlnaHQgdnMgZGFyayB0byBlbnN1cmUgcmVhZGFiaWxpdHkgKi8KYm9keS5saWdodC1tb2RlICNjYWxlbmRhci14ZW4tdG90YWwgI2VzdFhlblVzZCB7CiAgY29sb3I6ICMwODU5MDM7CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQpib2R5LmRhcmstbW9kZSAjY2FsZW5kYXIteGVuLXRvdGFsICNlc3RYZW5Vc2QgewogIGNvbG9yOiAjODZlZmFjOyAvKiBsaWdodCBncmVlbiBpbiBkYXJrIG1vZGUgKi8KICBmb250LXdlaWdodDogNjAwOwp9CmJvZHkucmV0cm8tbW9kZSAjY2FsZW5kYXIteGVuLXRvdGFsICNlc3RYZW5Vc2QgewogIGNvbG9yOiAjYjlmZmI2OyAvKiByZXRybyBsaW1lIG9uIGJsdWUgKi8KICBmb250LXdlaWdodDogNjAwOwp9CgoudGFidWxhdG9yIC50YWJ1bGF0b3ItdGFibGVIb2xkZXIgLnRhYnVsYXRvci1yb3cgLnRhYnVsYXRvci1jZWxsIHsKICBjdXJzb3I6IGRlZmF1bHQ7Cn0KCi8qIDIuIFNwZWNpZmljYWxseSBhcHBseSB0aGUgImhhbmQiIHBvaW50ZXIgT05MWSB0byBjbGlja2FibGUgZWxlbWVudHMuICovCi50YWJ1bGF0b3IgLnRhYnVsYXRvci1jZWxsIGEsCi50YWJ1bGF0b3IgLnRhYnVsYXRvci1jZWxsIC5jbGFpbS1idXR0b24sCi50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wudGFidWxhdG9yLXNvcnRhYmxlIHsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi8qIC0tLSBNb2JpbGUgTG9uZy1QcmVzcyBUb29sdGlwIC0tLSAqLwojbW9iaWxlLXRvb2x0aXAgewogIGRpc3BsYXk6IG5vbmU7IC8qIEhpZGRlbiBieSBkZWZhdWx0ICovCiAgcG9zaXRpb246IGZpeGVkOyAvKiBTdGF5cyBpbiB2aWV3IGV2ZW4gd2hlbiBzY3JvbGxpbmcgKi8KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyOwogIGNvbG9yOiAjZmZmOwogIGJvcmRlcjogMXB4IHNvbGlkICM1NTU7CiAgYm9yZGVyLXJhZGl1czogNnB4OwogIHBhZGRpbmc6IDhweCAxMnB4OwogIGZvbnQtc2l6ZTogMC45ZW07CiAgbWF4LXdpZHRoOiAyNTBweDsKICB6LWluZGV4OiAxMDAwMDsgLyogRW5zdXJlcyBpdCBhcHBlYXJzIG9uIHRvcCBvZiBldmVyeXRoaW5nICovCiAgcG9pbnRlci1ldmVudHM6IG5vbmU7IC8qIFByZXZlbnRzIHRoZSB0b29sdGlwIGl0c2VsZiBmcm9tIGJlaW5nIGludGVyYWN0aXZlICovCiAgd2hpdGUtc3BhY2U6IHByZS13cmFwOyAvKiBSZXNwZWN0cyBuZXdsaW5lcyBpbiB0aGUgdG9vbHRpcCB0ZXh0ICovCn0K',
        'css/theme-dark.css': 'LyogR2VuZXJhdGVkIGZyb20gc3R5bGUuY3NzIHNwbGl0IGJ5IHRoZW1lLiAqLwovKiBDb21wcmVoZW5zaXZlIEZsYXRwaWNrciBjYWxlbmRhciBzdHlsaW5nIGZvciBkYXJrIHRoZW1lICovCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItY2FsZW5kYXIgewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwogIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwgMCwgMCwgMC42KTsKICBib3JkZXItcmFkaXVzOiA4cHg7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItbW9udGhzIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzFmMjkzNyk7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItY3VycmVudC1tb250aCB7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2U1ZTdlYik7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItY3VycmVudC1tb250aCAubnVtSW5wdXRXcmFwcGVyIHsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjZTVlN2ViKTsKfQoKYm9keS5kYXJrLW1vZGUgLmZsYXRwaWNrci1jdXJyZW50LW1vbnRoIGlucHV0IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjZTVlN2ViKTsKICBib3JkZXI6IG5vbmU7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3Itd2Vla2RheXMgewogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnLCAjMTExODI3KTsKICBjb2xvcjogdmFyKC0tbXV0ZWQsICM5Y2EzYWYpOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwp9Cgpib2R5LmRhcmstbW9kZSAuZmxhdHBpY2tyLXdlZWtkYXkgewogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzljYTNhZik7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICBmb250LXdlaWdodDogNjAwOwp9Cgpib2R5LmRhcmstbW9kZSAuZmxhdHBpY2tyLWRheXMgewogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnLCAjMTExODI3KTsKfQoKYm9keS5kYXJrLW1vZGUgLmZsYXRwaWNrci1kYXkgewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICNlNWU3ZWIpOwogIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Owp9Cgpib2R5LmRhcmstbW9kZSAuZmxhdHBpY2tyLWRheTpob3ZlciB7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA2KTsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItZGF5LnNlbGVjdGVkIHsKICBiYWNrZ3JvdW5kOiAjNGRhM2ZmOwogIGNvbG9yOiAjZmZmOwogIGJvcmRlci1jb2xvcjogIzRkYTNmZjsKICBmb250LXdlaWdodDogNzAwOwp9Cgpib2R5LmRhcmstbW9kZSAuZmxhdHBpY2tyLWRheS50b2RheSB7CiAgYmFja2dyb3VuZDogcmdiYSg3NywgMTYzLCAyNTUsIDAuMik7CiAgY29sb3I6ICM0ZGEzZmY7CiAgYm9yZGVyLWNvbG9yOiAjNGRhM2ZmOwogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItZGF5LnByZXZNb250aERheSwKYm9keS5kYXJrLW1vZGUgLmZsYXRwaWNrci1kYXkubmV4dE1vbnRoRGF5IHsKICBjb2xvcjogdmFyKC0tbXV0ZWQsICM5Y2EzYWYpOwogIG9wYWNpdHk6IDAuNTsKfQoKYm9keS5kYXJrLW1vZGUgLmZsYXRwaWNrci1tb250aHMgLmZsYXRwaWNrci1tb250aCB7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2U1ZTdlYik7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItcHJldi1tb250aCwKYm9keS5kYXJrLW1vZGUgLmZsYXRwaWNrci1tb250aHMgLmZsYXRwaWNrci1uZXh0LW1vbnRoIHsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjZTVlN2ViKTsKICBmaWxsOiB2YXIoLS1idG4tZmcsICNlNWU3ZWIpOwp9Cgpib2R5LmRhcmstbW9kZSAuZmxhdHBpY2tyLW1vbnRocyAuZmxhdHBpY2tyLXByZXYtbW9udGg6aG92ZXIsCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItbmV4dC1tb250aDpob3ZlciB7CiAgY29sb3I6ICM0ZGEzZmY7CiAgZmlsbDogIzRkYTNmZjsKfQoKYm9keS5kYXJrLW1vZGUgLmZsYXRwaWNrci10b2RheS1idG4gewogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgIzFmMjkzNyk7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2U1ZTdlYik7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMzc0MTUxKTsKICBib3JkZXItcmFkaXVzOiA2cHg7Cn0KCmJvZHkuZGFyay1tb2RlIC5mbGF0cGlja3ItdG9kYXktYnRuOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4taG92ZXItYmcsICMzNzQxNTEpOwogIGJvcmRlci1jb2xvcjogdmFyKC0tYnRuLWhvdmVyLWJvcmRlciwgIzRiNTU2Myk7Cn0KYm9keS5kYXJrLW1vZGUgI25ldHdvcmtOYW1lIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0Cn0KYm9keS5kYXJrLW1vZGUgLm1lbnUtdG9nZ2xlIHsKIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsgY29sb3I6IHZhcigtLWJ0bi1mZywgI2U1ZTdlYik7IGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLCAjMzc0MTUxKTsgCn0KYm9keS5kYXJrLW1vZGUgLm1lbnUtcGFuZWwgewogYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICMxZjI5MzcpOyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7IGJveC1zaGFkb3c6IDAgMTVweCAzNXB4IHJnYmEoMCwwLDAsLjQ1KTsgCn0KYm9keS5kYXJrLW1vZGUgLm1lbnUtaXRlbTpob3ZlciB7CiBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDYpOyAKfQpib2R5LmRhcmstbW9kZSAuY2xhaW0tYnV0dG9uIHsKICBjb2xvcjogIzRkYTNmZgp9CmJvZHkuZGFyay1tb2RlICNwZXJBZGRyZXNzU3VtbWFyeSB7CiAgY29sb3I6ICNhYWEKfQpib2R5LmRhcmstbW9kZSAuY2hpcC1naG9zdCB7CiAgYm9yZGVyLWNvbG9yOiAjNjY2Cn0KYm9keS5kYXJrLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyIHsKICBiYWNrZ3JvdW5kOiAjMGYxNzJhOyAgICAgICAgICAgIC8qIGRlZXAgc2xhdGUgKi8KICBib3JkZXItY29sb3I6ICMzMzQxNTU7ICAgICAgICAgIC8qIHNsYXRlLTYwMCAqLwogIGNvbG9yOiAjZTVlN2ViOyAgICAgICAgICAgICAgICAgLyogc2xhdGUtMjAwICovCn0KYm9keS5kYXJrLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyICNzY2FuVHlwZUxpbmUgewogY29sb3I6ICNlNWU3ZWI7IAp9CmJvZHkuZGFyay1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAjZXRyVGV4dCB7CiAgY29sb3I6ICNlNWU3ZWI7Cn0KYm9keS5kYXJrLW1vZGUgI3Rva2VuUHJvZ3Jlc3NCYXIgewogIGJhY2tncm91bmQ6ICMxZjI5Mzc7CiAgY29sb3I6ICM5M2M1ZmQ7IC8qIHByb2dyZXNzIGZpbGwgY29sb3IgaW4gc29tZSBicm93c2VycyAqLwp9CmJvZHkuZGFyay1tb2RlIC5jaGlwIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0OwogIGJvcmRlci1jb2xvcjogIzY2Ngp9CmJvZHkuZGFyay1tb2RlIC5jaGlwOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1Cn0KYm9keS5kYXJrLW1vZGUgLmNoaXAuYWN0aXZlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGRhM2ZmOwogIGJvcmRlci1jb2xvcjogIzRkYTNmZgp9Ci8qIEVuaGFuY2VkIG1vZGFsIHN0eWxpbmcgZm9yIGRhcmsgdGhlbWUgKi8KYm9keS5kYXJrLW1vZGUgLm1vZGFsLWNvbnRlbnQgewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjZTVlN2ViKTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwogIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwgMCwgMCwgMC42KTsKfQovKiBNb2RhbCBidXR0b25zIGluIGRhcmsgdGhlbWUgKi8KYm9keS5kYXJrLW1vZGUgLm1vZGFsLWFjdGlvbnMgYnV0dG9uIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4tYmcsICMxZjI5MzcpOwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICNlNWU3ZWIpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KYm9keS5kYXJrLW1vZGUgLm1vZGFsLWFjdGlvbnMgYnV0dG9uOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4taG92ZXItYmcsICMzNzQxNTEpOwogIGJvcmRlci1jb2xvcjogdmFyKC0tYnRuLWhvdmVyLWJvcmRlciwgIzRiNTU2Myk7Cn0KYm9keS5kYXJrLW1vZGUgLm1vZGFsLWFjdGlvbnMgYnV0dG9uLnNlY29uZGFyeSB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6IHZhcigtLW11dGVkLCAjOWNhM2FmKTsKfQovKiBNb2RhbCB0ZXh0IGVsZW1lbnRzIGluIGRhcmsgdGhlbWUgKi8KYm9keS5kYXJrLW1vZGUgLm1vZGFsLWNvbnRlbnQgaDMgewogIGNvbG9yOiB2YXIoLS1idG4tZmcsICNlNWU3ZWIpOwp9CmJvZHkuZGFyay1tb2RlIC5tb2RhbC1jb250ZW50IHAgewogIGNvbG9yOiB2YXIoLS1idG4tZmcsICNlNWU3ZWIpOwp9Ci8qIEVuc3VyZSBBTEwgZWxlbWVudHMgaW5zaWRlIHByb2dyZXNzQ29udGFpbmVyIGhhdmUgbWF0Y2hpbmcgYmFja2dyb3VuZCAqLwpib2R5LmRhcmstbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgKiB7CiAgYmFja2dyb3VuZDogIzBmMTcyYSAhaW1wb3J0YW50OyAvKiBmb3JjZSBzYW1lIGFzIHByb2dyZXNzQ29udGFpbmVyICovCn0KYm9keS5kYXJrLW1vZGUgI3Rva2VuUHJvZ3Jlc3NUZXh0LApib2R5LmRhcmstbW9kZSAjYWRkcmVzc1Byb2dyZXNzVGV4dCwKYm9keS5kYXJrLW1vZGUgI2FkZHJlc3NQcm9ncmVzc0NvbnRhaW5lciwKYm9keS5kYXJrLW1vZGUgI3Rva2VuUHJvZ3Jlc3NDb250YWluZXIsCmJvZHkuZGFyay1tb2RlICNzY2FuVHlwZUxpbmUsCmJvZHkuZGFyay1tb2RlICNldHJUZXh0LApib2R5LmRhcmstbW9kZSAjcnBjU3RhdHVzIHsKICBiYWNrZ3JvdW5kOiAjMGYxNzJhICFpbXBvcnRhbnQ7IC8qIHNhbWUgYXMgcHJvZ3Jlc3NDb250YWluZXIgKi8KfQovKiBSZW1vdmUgYm9yZGVycyBmcm9tIHByb2dyZXNzIHRleHQgZWxlbWVudHMgKi8KYm9keS5kYXJrLW1vZGUgI3Rva2VuUHJvZ3Jlc3NUZXh0LApib2R5LmRhcmstbW9kZSAjYWRkcmVzc1Byb2dyZXNzVGV4dCwKYm9keS5kYXJrLW1vZGUgI3JwY1N0YXR1cyB7CiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7Cn0KYm9keS5kYXJrLW1vZGUgLmdhcy1ub3RlIHsKICBjb2xvcjogI2FhYQp9CmJvZHkuZGFyay1tb2RlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTIxMjEyOwogIGNvbG9yOiAjZTBlMGUwCn0KYm9keS5kYXJrLW1vZGUgaW5wdXQsIGJvZHkuZGFyay1tb2RlIHRleHRhcmVhLCBib2R5LmRhcmstbW9kZSBidXR0b24gewogIGJhY2tncm91bmQtY29sb3I6ICMzMzM7CiAgY29sb3I6ICNlMGUwZTA7CiAgYm9yZGVyOiAxcHggc29saWQgIzQ0NAp9CmJvZHkuZGFyay1tb2RlICNlc3RYZW5Vc2QgewogY29sb3I6ICMwYmVmMDQ7IAp9CmJvZHkuZGFyay1tb2RlIHsKIGNvbG9yLXNjaGVtZTogZGFyazsgCn0KYm9keS5kYXJrLW1vZGUgewogIC0tYm9yZGVyOiAjMzc0MTUxOyAgICAvKiBzbGF0ZS03MDAgKi8KICAtLXBhbmVsOiAjMWYyOTM3OyAgICAgLyogc2xhdGUtODAwICovCiAgLS1idG4tYmc6ICMxZjI5Mzc7ICAgIC8qIHBhbmVsICovCiAgLS1idG4tZmc6ICNlNWU3ZWI7ICAgIC8qIHNsYXRlLTIwMCAqLwogIC0tbXV0ZWQ6ICM5Y2EzYWY7ICAgICAvKiBzbGF0ZS00MDAgKi8KICAtLWlucHV0LWJnOiAjMTExODI3OyAgLyogc2xhdGUtOTAwICovCiAgLS1idG4taG92ZXItYmc6ICMzNzQxNTE7IC8qIHNsYXRlLTcwMCAqLwogIC0tYnRuLWhvdmVyLWJvcmRlcjogIzRiNTU2MzsgLyogc2xhdGUtNjAwICovCn0KLyogSW1wcm92ZSByZWFkYWJpbGl0eSBmb3IgU2V0dGluZ3MgbGFiZWxzIGFuZCBoZWFkaW5ncyBpbiBkYXJrIG1vZGUgKi8KYm9keS5kYXJrLW1vZGUgLmZpZWxkIGxhYmVsLApib2R5LmRhcmstbW9kZSAuc2V0dGluZ3MtY2FyZCBoMyB7IGNvbG9yOiAjZTVlN2ViOyB9CmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1jYXJkIHAsIApib2R5LmRhcmstbW9kZSAuc2V0dGluZ3Mtbm90ZSwgCmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1zdGF0dXMgeyBjb2xvcjogdmFyKC0tbXV0ZWQsICM5Y2EzYWYpOyB9CmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1jYXJkIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzFmMjkzNyk7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwogIGJveC1zaGFkb3c6IG5vbmU7Cn0KYm9keS5kYXJrLW1vZGUgLnNldHRpbmdzLWNhcmQuZGFuZ2VyIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzFmMjkzNyk7CiAgYm9yZGVyLWNvbG9yOiAjN2YxZDFkOyAvKiBrZWVwIHNlbWFudGljIHJlZCAqLwp9CmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1jYXJkLmRhbmdlciBoMyB7CiAgY29sb3I6ICNmY2E1YTU7IC8qIHJlZC0zMDAgZm9yIGJldHRlciB2aXNpYmlsaXR5IGluIGRhcmsgbW9kZSAqLwp9CmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1kaXZpZGVyIHsKIGJhY2tncm91bmQ6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7IAp9CmJvZHkuZGFyay1tb2RlIC5maWVsZCBzbWFsbCB7CiBjb2xvcjogdmFyKC0tbXV0ZWQsICM5Y2EzYWYpOyAKfQpib2R5LmRhcmstbW9kZSAuZmllbGQgc2VsZWN0I3RoZW1lU2VsZWN0IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgIzExMTgyNyk7CiAgY29sb3I6ICNlNWU3ZWI7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwp9CmJvZHkuZGFyay1tb2RlICN0aGVtZVNlbGVjdCBvcHRpb24gewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsKICBjb2xvcjogI2U1ZTdlYjsKfQpib2R5LmRhcmstbW9kZSAjcmVzZXREYlNlbGVjdCwgYm9keS5kYXJrLW1vZGUgI21pbnRBY3Rpb24gewogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnLCAjMTExODI3KTsKICBjb2xvcjogI2U1ZTdlYjsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KYm9keS5kYXJrLW1vZGUgI3Jlc2V0RGJTZWxlY3Qgb3B0aW9uLCBib2R5LmRhcmstbW9kZSAjbWludEFjdGlvbiBvcHRpb24gewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMWYyOTM3KTsKICBjb2xvcjogI2U1ZTdlYjsKfQpib2R5LmRhcmstbW9kZSAjc3VtbWFyeUNvbnRhaW5lciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzBmMTcyYTsgLyogc2xhdGUtOTUwLWlzaCAqLwogIGJvcmRlci1jb2xvcjogIzMzNDE1NTsgICAgIC8qIHNsYXRlLTYwMCAqLwogIGNvbG9yOiAjZTVlN2ViOyAgICAgICAgICAgIC8qIHNsYXRlLTIwMCAqLwp9CmJvZHkuZGFyay1tb2RlICN0YWItbWludCAuYnRuLXNlY29uZGFyeTpob3ZlciB7CiAgYmFja2dyb3VuZDogIzM3NDE1MTsgLyogc2xhdGUtNzAwICovCiAgYm9yZGVyLWNvbG9yOiAjNGI1NTYzOyAvKiBzbGF0ZS02MDAgKi8KICBjb2xvcjogI2U1ZTdlYjsKfQpib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIGxhYmVsW3JvbGU9ImJ1dHRvbiJdOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjMWYyOTM3OyAvKiBwYW5lbCAqLwogIGJvcmRlci1jb2xvcjogIzRiNTU2MzsKICBjb2xvcjogI2U1ZTdlYjsKfQpib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIC5maWVsZCBzZWxlY3QgewogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnLCAjMTExODI3KTsKfQpib2R5LmRhcmstbW9kZSAjdGFiLXNldHRpbmdzIC5zZXR0aW5ncy1jYXJkLmRhbmdlciB7CiBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgIzExMTgyNyk7IAp9Ci8qIEVuc3VyZSBidXR0b24tbGlrZSBlbGVtZW50cyB1c2UgY29ycmVjdCB0aGVtZSBjb2xvcnMgKi8KYm9keS5kYXJrLW1vZGUgLmJ1dHRvbi1saWtlIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4tYmcsICMxZjI5MzcpOwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICNlNWU3ZWIpOwp9CmJvZHkuZGFyay1tb2RlIC5idXR0b24tbGlrZTpob3ZlciB7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMzc0MTUxKTsKICBib3JkZXItY29sb3I6IHZhcigtLWJ0bi1ob3Zlci1ib3JkZXIsICM0YjU1NjMpOwp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgewogIGJhY2tncm91bmQtY29sb3I6ICMyMjI7CiAgY29sb3I6ICNlMGUwZTAKfQpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYW5lbCwgIzFmMjkzNyk7CiAgY29sb3I6ICNlNWU3ZWI7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wgewogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogIGNvbG9yOiAjZTVlN2ViOwogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KYm9keS5kYXJrLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbDpsYXN0LWNoaWxkIHsKICBib3JkZXItcmlnaHQ6IG5vbmU7Cn0KYm9keS5kYXJrLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbCAudGFidWxhdG9yLWNvbC10aXRsZSB7CiAgY29sb3I6ICNlNWU3ZWI7CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sLnRhYnVsYXRvci1zb3J0YWJsZTpob3ZlciB7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA2KTsKfQpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sLnRhYnVsYXRvci1jb2wtc29ydGVkIHsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDgpOwp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wgLnRhYnVsYXRvci1zb3J0ZXIgLnRhYnVsYXRvci1zb3J0ZXItZWxlbWVudCB7CiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2NiZDVlMTsgLyogc2xhdGUtMzAwICovCn0KYm9keS5kYXJrLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbFthcmlhLXNvcnQ9ImRlc2MiXSAudGFidWxhdG9yLXNvcnRlciAudGFidWxhdG9yLXNvcnRlci1lbGVtZW50IHsKICBib3JkZXItdG9wLWNvbG9yOiAjY2JkNWUxOwp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIHNlbGVjdCB7CiAgYmFja2dyb3VuZDogIzExMTgyNzsKICBjb2xvcjogI2U1ZTdlYjsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwogIGJvcmRlci1yYWRpdXM6IDhweDsKfQpib2R5LmRhcmstbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlciBpbnB1dDo6cGxhY2Vob2xkZXIgewogIGNvbG9yOiAjOWNhM2FmOwp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1jZWxsIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyOwogIGNvbG9yOiAjZTBlMGUwOwogIGJvcmRlci1jb2xvcjogIzQ0NAp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1yb3cgewogIGJvcmRlci1jb2xvcjogIzQ0NAp9CmJvZHkuZGFyay1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1mb290ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICMzMzM7CiAgY29sb3I6ICNlMGUwZTA7CiAgYm9yZGVyLWNvbG9yOiAjNDQ0Cn0KYm9keS5kYXJrLW1vZGUgLmJ0bi1taW50IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpCn0KYm9keS5kYXJrLW1vZGUgLmJ0bi1taW50OmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZGJlYWZlOwogIGJvcmRlci1jb2xvcjogIzkzYzVmZAp9CmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIHsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzM3NDE1MSk7Cn0KYm9keS5kYXJrLW1vZGUgLnNwbGl0LXNjYW4gLmJ0biB7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjMWYyOTM3KTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjZTVlN2ViKTsKfQpib2R5LmRhcmstbW9kZSAuc3BsaXQtc2NhbiAuc3BsaXQtY2FyZXQgewogIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwp9CmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIC5zY2FuLWJhZGdlIHsKICBiYWNrZ3JvdW5kOiAjMzc0MTUxOwogIGNvbG9yOiAjZTVlN2ViOwp9CmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIC5tZW51IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzFmMjkzNyk7CiAgY29sb3I6ICNlNWU3ZWI7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIsICMzNzQxNTEpOwogIGJveC1zaGFkb3c6IDAgOHB4IDIwcHggcmdiYSgwLDAsMCwwLjUpOwp9CmJvZHkuZGFyay1tb2RlIC5zcGxpdC1zY2FuIC5tZW51IGxpOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LCAuMDYpOwp9CmJvZHkuZGFyay1tb2RlICNzdGFrZVBlckFkZHJlc3NTdW1tYXJ5IHsKICBjb2xvcjogI2FhYTsKfQpib2R5LmRhcmstbW9kZSAjeGVuZnRQZXJBZGRyZXNzU3VtbWFyeSB7CiAgY29sb3I6ICNhYWE7Cn0KYm9keS5kYXJrLW1vZGUgLmZpZWxkIC5lcnJvci1tZXNzYWdlIHsKICBjb2xvcjogI2ZjYTVhNTsgLyogcmVkLTMwMCAqLwp9CmJvZHkuZGFyay1tb2RlICNzdGFrZVJlZ3VsYXJQZXJBZGRyZXNzU3VtbWFyeSB7CiAgY29sb3I6ICNhYWE7Cn0KYm9keS5kYXJrLW1vZGUgI2NhbGVuZGFyLXhlbi10b3RhbCAjZXN0WGVuVXNkIHsKICBjb2xvcjogIzg2ZWZhYzsgLyogbGlnaHQgZ3JlZW4gaW4gZGFyayBtb2RlICovCiAgZm9udC13ZWlnaHQ6IDYwMDsKfQoKLyogRW5zdXJlIGNvbnNpc3RlbnQgZ3JpZCBsYXlvdXQgKi8KYm9keS5kYXJrLW1vZGUgLnNldHRpbmdzLWdyaWQgewogIGFsaWduLWl0ZW1zOiBzdGFydDsKfQpib2R5LmRhcmstbW9kZSAuc2V0dGluZ3MtY2FyZCB7CiAgd2lkdGg6IDEwMCU7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQovKiBFbnN1cmUgZm9ybSBlbGVtZW50cyBoYXZlIGNvbnNpc3RlbnQgc2l6aW5nICovCmJvZHkuZGFyay1tb2RlIC5maWVsZCBpbnB1dFt0eXBlPSJ0ZXh0Il0sCmJvZHkuZGFyay1tb2RlIC5maWVsZCBpbnB1dFt0eXBlPSJwYXNzd29yZCJdLApib2R5LmRhcmstbW9kZSAuZmllbGQgaW5wdXRbdHlwZT0ibnVtYmVyIl0sCmJvZHkuZGFyay1tb2RlIC5maWVsZCB0ZXh0YXJlYSwKYm9keS5kYXJrLW1vZGUgLmZpZWxkIHNlbGVjdCB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICB3aWR0aDogMTAwJTsKICBtaW4td2lkdGg6IDA7CiAgbGluZS1oZWlnaHQ6IDEuNTsKfQpib2R5LmRhcmstbW9kZSAuYnV0dG9uLXJvdyBidXR0b24sCmJvZHkuZGFyay1tb2RlIC5idXR0b24tbGlrZSB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQovKiBFbnN1cmUgY29uc2lzdGVudCBleWUgaWNvbiBwb3NpdGlvbmluZyBpbiBzZXR0aW5ncyAqLwpib2R5LmRhcmstbW9kZSAucmV2ZWFsLXJvdyB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIG1hcmdpbi10b3A6IDRweDsKfQpib2R5LmRhcmstbW9kZSAucmV2ZWFsLWJ0biB7CiAgcGFkZGluZzogMnB4OwogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzljYTNhZik7Cn0KLyogRW5zdXJlIGNvbnRlbnQgaXMgbGVmdC1hbGlnbmVkIGxpa2UgaW4gbGlnaHQgbW9kZSAqLwpib2R5LmRhcmstbW9kZSAuc2V0dGluZ3MtY2FyZCB7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQpib2R5LmRhcmstbW9kZSAuc2V0dGluZ3MtY2FyZCBoMywKYm9keS5kYXJrLW1vZGUgLnNldHRpbmdzLWNhcmQgcCwKYm9keS5kYXJrLW1vZGUgLnNldHRpbmdzLWNhcmQgbGFiZWwsCmJvZHkuZGFyay1tb2RlIC5maWVsZCB7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQovKiBFbnN1cmUgYnV0dG9ucyBhcmUgbGVmdC1hbGlnbmVkICovCmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1jYXJkIC5idXR0b24tcm93LApib2R5LmRhcmstbW9kZSAuc2V0dGluZ3MtY2FyZCBidXR0b24sCmJvZHkuZGFyay1tb2RlIC5zZXR0aW5ncy1jYXJkIC5idXR0b24tbGlrZSB7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQpib2R5LmRhcmstbW9kZSAuc2V0dGluZ3MtY2FyZCAuYnV0dG9uLXJvdyB7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0Owp9Cg==',
        'css/theme-light.css': 'LyogR2VuZXJhdGVkIGZyb20gc3R5bGUuY3NzIHNwbGl0IGJ5IHRoZW1lLiAqLwpib2R5LmxpZ2h0LW1vZGUgewogIC0tYm9yZGVyOiAjZTVlN2ViOwogIC0tcGFuZWw6ICNmZmY7CiAgLS1idG4tYmc6ICNmOGZhZmM7CiAgLS1idG4tZmc6ICMxMTE4Mjc7CiAgLS1tdXRlZDogIzZiNzI4MDsKICAtLWlucHV0LWJnOiAjZmZmOwogIC0tYnRuLWhvdmVyLWJnOiAjZGJlYWZlOwogIC0tYnRuLWhvdmVyLWJvcmRlcjogIzkzYzVmZDsKfQpib2R5LmxpZ2h0LW1vZGUgI3RoZW1lU2VsZWN0IG9wdGlvbiB7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICBjb2xvcjogIzExMTgyNzsKfQpib2R5LmxpZ2h0LW1vZGUgI3Jlc2V0RGJTZWxlY3Qgb3B0aW9uLCBib2R5LmxpZ2h0LW1vZGUgI21pbnRBY3Rpb24gb3B0aW9uIHsKICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogIGNvbG9yOiAjMTExODI3Owp9CmJvZHkubGlnaHQtbW9kZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsKICBjb2xvcjogIzAwMDAwMAp9CmJvZHkubGlnaHQtbW9kZSBpbnB1dCwgYm9keS5saWdodC1tb2RlIHRleHRhcmVhLCBib2R5LmxpZ2h0LW1vZGUgYnV0dG9uIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGNvbG9yOiAjMDAwOwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2MKfQpib2R5LmxpZ2h0LW1vZGUgLnRhYnVsYXRvciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBjb2xvcjogIzAwMAp9CmJvZHkubGlnaHQtbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1OwogIGNvbG9yOiAjMDAwOwogIGJvcmRlci1jb2xvcjogI2NjYwp9CmJvZHkubGlnaHQtbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItY2VsbCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBjb2xvcjogIzAwMDsKICBib3JkZXItY29sb3I6ICNjY2MKfQpib2R5LmxpZ2h0LW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLXJvdyB7CiAgYm9yZGVyLWNvbG9yOiAjY2NjCn0KYm9keS5saWdodC1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1mb290ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgY29sb3I6ICMwMDA7CiAgYm9yZGVyLWNvbG9yOiAjY2NjCn0KYm9keS5saWdodC1tb2RlIC5idG4tbWludCB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzExMTgyNyk7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjZTVlN2ViKQp9CmJvZHkubGlnaHQtbW9kZSAuYnRuLW1pbnQ6aG92ZXIgewogIGJhY2tncm91bmQ6ICNkYmVhZmU7CiAgYm9yZGVyLWNvbG9yOiAjOTNjNWZkCn0KYm9keS5saWdodC1tb2RlICNjYWxlbmRhci14ZW4tdG90YWwgI2VzdFhlblVzZCB7CiAgY29sb3I6ICMwODU5MDM7CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQovKiBFeHBsaWNpdGx5IGVuc3VyZSBjb250ZW50IGlzIGxlZnQtYWxpZ25lZCAqLwpib2R5LmxpZ2h0LW1vZGUgLnNldHRpbmdzLWNhcmQgewogIHRleHQtYWxpZ246IGxlZnQ7Cn0KYm9keS5saWdodC1tb2RlIC5zZXR0aW5ncy1jYXJkIGgzLApib2R5LmxpZ2h0LW1vZGUgLnNldHRpbmdzLWNhcmQgcCwKYm9keS5saWdodC1tb2RlIC5zZXR0aW5ncy1jYXJkIGxhYmVsLApib2R5LmxpZ2h0LW1vZGUgLmZpZWxkIHsKICB0ZXh0LWFsaWduOiBsZWZ0Owp9Ci8qIEVuc3VyZSBidXR0b25zIGFyZSBsZWZ0LWFsaWduZWQgKi8KYm9keS5saWdodC1tb2RlIC5zZXR0aW5ncy1jYXJkIC5idXR0b24tcm93LApib2R5LmxpZ2h0LW1vZGUgLnNldHRpbmdzLWNhcmQgYnV0dG9uLApib2R5LmxpZ2h0LW1vZGUgLnNldHRpbmdzLWNhcmQgLmJ1dHRvbi1saWtlIHsKICB0ZXh0LWFsaWduOiBsZWZ0Owp9CmJvZHkubGlnaHQtbW9kZSAuc2V0dGluZ3MtY2FyZCAuYnV0dG9uLXJvdyB7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0Owp9Ci8qIE1vZGFsIHN0eWxpbmcgZm9yIGxpZ2h0IHRoZW1lICovCmJvZHkubGlnaHQtbW9kZSAubW9kYWwtY29udGVudCB7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICNmZmYpOwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMxMTE4MjcpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgI2U1ZTdlYik7Cn0KYm9keS5saWdodC1tb2RlIC5tb2RhbC1jb250ZW50IGgzLApib2R5LmxpZ2h0LW1vZGUgLm1vZGFsLWNvbnRlbnQgcCB7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzExMTgyNyk7Cn0KYm9keS5saWdodC1tb2RlIC5tb2RhbC1hY3Rpb25zIGJ1dHRvbiB7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjZjhmYWZjKTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMTExODI3KTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICNlNWU3ZWIpOwp9CmJvZHkubGlnaHQtbW9kZSAubW9kYWwtYWN0aW9ucyBidXR0b246aG92ZXIgewogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1ob3Zlci1iZywgI2RiZWFmZSk7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4taG92ZXItYm9yZGVyLCAjOTNjNWZkKTsKfQpib2R5LmxpZ2h0LW1vZGUgLm1vZGFsLWFjdGlvbnMgYnV0dG9uLnNlY29uZGFyeSB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6IHZhcigtLW11dGVkLCAjNmI3MjgwKTsKfQovKiBFbnN1cmUgQUxMIGVsZW1lbnRzIGluc2lkZSBwcm9ncmVzc0NvbnRhaW5lciBoYXZlIG1hdGNoaW5nIGJhY2tncm91bmQgKi8KYm9keS5saWdodC1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAqIHsKICBiYWNrZ3JvdW5kOiAjZmZmNWY1ICFpbXBvcnRhbnQ7IC8qIGZvcmNlIHNhbWUgYXMgcHJvZ3Jlc3NDb250YWluZXIgKi8KfQpib2R5LmxpZ2h0LW1vZGUgI3Rva2VuUHJvZ3Jlc3NUZXh0LApib2R5LmxpZ2h0LW1vZGUgI2FkZHJlc3NQcm9ncmVzc1RleHQsCmJvZHkubGlnaHQtbW9kZSAjYWRkcmVzc1Byb2dyZXNzQ29udGFpbmVyLApib2R5LmxpZ2h0LW1vZGUgI3Rva2VuUHJvZ3Jlc3NDb250YWluZXIsCmJvZHkubGlnaHQtbW9kZSAjc2NhblR5cGVMaW5lLApib2R5LmxpZ2h0LW1vZGUgI2V0clRleHQsCmJvZHkubGlnaHQtbW9kZSAjcnBjU3RhdHVzIHsKICBiYWNrZ3JvdW5kOiAjZmZmNWY1ICFpbXBvcnRhbnQ7IC8qIHNhbWUgYXMgcHJvZ3Jlc3NDb250YWluZXIgKi8KfQovKiBSZW1vdmUgYm9yZGVycyBmcm9tIHByb2dyZXNzIHRleHQgZWxlbWVudHMgKi8KYm9keS5saWdodC1tb2RlICN0b2tlblByb2dyZXNzVGV4dCwKYm9keS5saWdodC1tb2RlICNhZGRyZXNzUHJvZ3Jlc3NUZXh0LApib2R5LmxpZ2h0LW1vZGUgI3JwY1N0YXR1cyB7CiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7Cn0KCi8qIEZsYXRwaWNrciBjYWxlbmRhciBzdHlsaW5nIGZvciBsaWdodCB0aGVtZSAqLwpib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci1jYWxlbmRhciB7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICBib3JkZXI6IDFweCBzb2xpZCAjZTVlN2ViOwogIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgYm9yZGVyLXJhZGl1czogOHB4Owp9Cgpib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci1tb250aHMgewogIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNWU3ZWI7Cn0KCmJvZHkubGlnaHQtbW9kZSAuZmxhdHBpY2tyLWN1cnJlbnQtbW9udGggewogIGNvbG9yOiAjMTExODI3Owp9Cgpib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci1jdXJyZW50LW1vbnRoIC5udW1JbnB1dFdyYXBwZXIgewogIGNvbG9yOiAjMTExODI3Owp9Cgpib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci1jdXJyZW50LW1vbnRoIGlucHV0IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBjb2xvcjogIzExMTgyNzsKICBib3JkZXI6IG5vbmU7Cn0KCmJvZHkubGlnaHQtbW9kZSAuZmxhdHBpY2tyLXdlZWtkYXlzIHsKICBiYWNrZ3JvdW5kOiAjZjlmYWZiOwogIGNvbG9yOiAjNmI3MjgwOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOwp9Cgpib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci13ZWVrZGF5IHsKICBjb2xvcjogIzZiNzI4MDsKICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KCmJvZHkubGlnaHQtbW9kZSAuZmxhdHBpY2tyLWRheXMgewogIGJhY2tncm91bmQ6ICNmZmZmZmY7Cn0KCmJvZHkubGlnaHQtbW9kZSAuZmxhdHBpY2tyLWRheSB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6ICMxMTE4Mjc7CiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7Cn0KCmJvZHkubGlnaHQtbW9kZSAuZmxhdHBpY2tyLWRheTpob3ZlciB7CiAgYmFja2dyb3VuZDogI2YzZjRmNjsKICBib3JkZXItY29sb3I6ICNkMWQ1ZGI7Cn0KCmJvZHkubGlnaHQtbW9kZSAuZmxhdHBpY2tyLWRheS5zZWxlY3RlZCB7CiAgYmFja2dyb3VuZDogIzI1NjNlYjsKICBjb2xvcjogI2ZmZmZmZjsKICBib3JkZXItY29sb3I6ICMyNTYzZWI7CiAgZm9udC13ZWlnaHQ6IDcwMDsKfQoKYm9keS5saWdodC1tb2RlIC5mbGF0cGlja3ItZGF5LnRvZGF5IHsKICBiYWNrZ3JvdW5kOiByZ2JhKDM3LCA5OSwgMjM1LCAwLjEpOwogIGNvbG9yOiAjMjU2M2ViOwogIGJvcmRlci1jb2xvcjogIzI1NjNlYjsKICBmb250LXdlaWdodDogNjAwOwp9Cgpib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci1kYXkucHJldk1vbnRoRGF5LApib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci1kYXkubmV4dE1vbnRoRGF5IHsKICBjb2xvcjogIzljYTNhZjsKICBvcGFjaXR5OiAwLjY7Cn0KCmJvZHkubGlnaHQtbW9kZSAuZmxhdHBpY2tyLW1vbnRocyAuZmxhdHBpY2tyLW1vbnRoIHsKICBjb2xvcjogIzExMTgyNzsKfQoKYm9keS5saWdodC1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItcHJldi1tb250aCwKYm9keS5saWdodC1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItbmV4dC1tb250aCB7CiAgY29sb3I6ICMxMTE4Mjc7CiAgZmlsbDogIzExMTgyNzsKfQoKYm9keS5saWdodC1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItcHJldi1tb250aDpob3ZlciwKYm9keS5saWdodC1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItbmV4dC1tb250aDpob3ZlciB7CiAgY29sb3I6ICMyNTYzZWI7CiAgZmlsbDogIzI1NjNlYjsKfQoKYm9keS5saWdodC1tb2RlIC5mbGF0cGlja3ItdG9kYXktYnRuIHsKICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogIGNvbG9yOiAjMTExODI3OwogIGJvcmRlcjogMXB4IHNvbGlkICNkMWQ1ZGI7CiAgYm9yZGVyLXJhZGl1czogNnB4Owp9Cgpib2R5LmxpZ2h0LW1vZGUgLmZsYXRwaWNrci10b2RheS1idG46aG92ZXIgewogIGJhY2tncm91bmQ6ICNmOWZhZmI7CiAgYm9yZGVyLWNvbG9yOiAjOWNhM2FmOwp9',
        'css/theme-matrix.css': 'LyogTWF0cml4L0hhY2tlciBUaGVtZSAtIEdyZWVuIG9uIEJsYWNrIFRlcm1pbmFsIEFlc3RoZXRpYyAqLw0KYm9keS5tYXRyaXgtbW9kZSB7DQogIC0tYm9yZGVyOiAjMDBmZjAwOyAgICAgICAgLyogTWF0cml4IGdyZWVuICovDQogIC0tcGFuZWw6ICMwMDExMDA7ICAgICAgICAgLyogVmVyeSBkYXJrIGdyZWVuICovDQogIC0tYnRuLWJnOiAjMDAxMTAwOyAgICAgICAgLyogRGFyayBncmVlbiBwYW5lbCAqLw0KICAtLWJ0bi1mZzogIzAwZmYwMDsgICAgICAgIC8qIEJyaWdodCBNYXRyaXggZ3JlZW4gKi8NCiAgLS1tdXRlZDogIzAwYWEwMDsgICAgICAgICAvKiBNZWRpdW0gZ3JlZW4gKi8NCiAgLS1pbnB1dC1iZzogIzAwMDAwMDsgICAgICAvKiBQdXJlIGJsYWNrICovDQogIC0tYnRuLWhvdmVyLWJnOiAjMDAzMzAwOyAgLyogRGFya2VyIGdyZWVuIGhvdmVyICovDQogIC0tYnRuLWhvdmVyLWJvcmRlcjogIzAwZmYwMDsgLyogQnJpZ2h0IGdyZWVuIGJvcmRlciAqLw0KDQogIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7IC8qIFB1cmUgYmxhY2sgYmFja2dyb3VuZCAqLw0KICBjb2xvcjogIzAwZmYwMDsgICAgICAgICAgICAgLyogTWF0cml4IGdyZWVuIHRleHQgKi8NCiAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsICdNb25hY28nLCAnTHVjaWRhIENvbnNvbGUnLCBtb25vc3BhY2U7DQogIGxldHRlci1zcGFjaW5nOiAwLjVweDsNCn0NCg0KLyogTGlua3MgKi8NCmJvZHkubWF0cml4LW1vZGUgYSB7DQogIGNvbG9yOiAjMDBmZmZmOyAvKiBDeWFuIGZvciBsaW5rcyAqLw0KfQ0KDQovKiBNdXRlZCB0ZXh0ICovDQpib2R5Lm1hdHJpeC1tb2RlIC5tdXRlZCB7DQogIGNvbG9yOiB2YXIoLS1tdXRlZCk7DQp9DQoNCi8qIEZvcm0gZWxlbWVudHMgKi8NCmJvZHkubWF0cml4LW1vZGUgc2VsZWN0IHsNCiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwpOw0KICBjb2xvcjogdmFyKC0tYnRuLWZnKTsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAjbmV0d29ya05hbWUgew0KICBiYWNrZ3JvdW5kOiAjMDAxMTAwOw0KICBjb2xvcjogIzAwZmYwMDsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsNCiAgdGV4dC1zaGFkb3c6IDAgMCA1cHggIzAwZmYwMDsNCn0NCg0KLyogSGVhZGVyIGNvbnRyb2xzICovDQpib2R5Lm1hdHJpeC1tb2RlIC53YWxsZXQtcmV2ZWFsLWJ0biB7DQogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZyk7DQogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsNCiAgYm94LXNoYWRvdzogMCAwIDNweCAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5tZW51LXRvZ2dsZSB7DQogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZyk7DQogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsNCiAgYm94LXNoYWRvdzogMCAwIDNweCAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5tZW51LXBhbmVsIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwpOw0KICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7DQogIGJveC1zaGFkb3c6IDAgMTVweCAzNXB4IHJnYmEoMCwgMjU1LCAwLCAwLjMpOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5tZW51LXRpdGxlIHsNCiAgY29sb3I6IHZhcigtLW11dGVkKTsNCn0NCg0KLyogQ2hpcHMvRmlsdGVyIGJ1dHRvbnMgKi8NCmJvZHkubWF0cml4LW1vZGUgLmNoaXAgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAxMTAwOw0KICBib3JkZXItY29sb3I6ICMwMGFhMDA7DQogIGNvbG9yOiAjMDBmZjAwOw0KICB0ZXh0LXNoYWRvdzogMCAwIDNweCAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5jaGlwOmhvdmVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMzMwMDsNCiAgYm94LXNoYWRvdzogMCAwIDVweCAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5jaGlwLmFjdGl2ZSB7DQogIGJhY2tncm91bmQtY29sb3I6ICMwMGZmMDA7DQogIGNvbG9yOiAjMDAwMDAwOw0KICBib3JkZXItY29sb3I6ICMwMGZmMDA7DQogIGJveC1zaGFkb3c6IDAgMCA4cHggIzAwZmYwMDsNCn0NCg0KLyogUHJvZ3Jlc3MgY29udGFpbmVyICovDQpib2R5Lm1hdHJpeC1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciB7DQogIGJhY2tncm91bmQ6ICMwMDExMDA7DQogIGJvcmRlci1jb2xvcjogIzAwZmYwMDsNCiAgY29sb3I6ICMwMGZmMDA7DQogIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMjU1LCAwLCAwLjIpOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAjc2NhblR5cGVMaW5lIHsNCiAgY29sb3I6ICMwMGZmMDA7DQogIHRleHQtc2hhZG93OiAwIDAgM3B4ICMwMGZmMDA7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyICNldHJUZXh0IHsNCiAgY29sb3I6ICMwMGZmMDA7DQp9DQoNCi8qIEVuc3VyZSBBTEwgZWxlbWVudHMgaW5zaWRlIHByb2dyZXNzQ29udGFpbmVyIGhhdmUgbWF0Y2hpbmcgYmFja2dyb3VuZCAqLw0KYm9keS5tYXRyaXgtbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgKiB7DQogIGJhY2tncm91bmQ6ICMwMDExMDAgIWltcG9ydGFudDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAjdG9rZW5Qcm9ncmVzc1RleHQsDQpib2R5Lm1hdHJpeC1tb2RlICNhZGRyZXNzUHJvZ3Jlc3NUZXh0LA0KYm9keS5tYXRyaXgtbW9kZSAjYWRkcmVzc1Byb2dyZXNzQ29udGFpbmVyLA0KYm9keS5tYXRyaXgtbW9kZSAjdG9rZW5Qcm9ncmVzc0NvbnRhaW5lciwNCmJvZHkubWF0cml4LW1vZGUgI3NjYW5UeXBlTGluZSwNCmJvZHkubWF0cml4LW1vZGUgI2V0clRleHQsDQpib2R5Lm1hdHJpeC1tb2RlICNycGNTdGF0dXMgew0KICBiYWNrZ3JvdW5kOiAjMDAxMTAwICFpbXBvcnRhbnQ7DQp9DQoNCi8qIFJlbW92ZSBib3JkZXJzIGZyb20gcHJvZ3Jlc3MgdGV4dCBlbGVtZW50cyAqLw0KYm9keS5tYXRyaXgtbW9kZSAjdG9rZW5Qcm9ncmVzc1RleHQsDQpib2R5Lm1hdHJpeC1tb2RlICNhZGRyZXNzUHJvZ3Jlc3NUZXh0LA0KYm9keS5tYXRyaXgtbW9kZSAjcnBjU3RhdHVzIHsNCiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7DQp9DQoNCi8qIFByb2dyZXNzIGJhciAqLw0KYm9keS5tYXRyaXgtbW9kZSAjdG9rZW5Qcm9ncmVzc0JhciB7DQogIGJhY2tncm91bmQ6ICMwMDMzMDA7DQogIGNvbG9yOiAjMDBmZjAwOw0KICBib3gtc2hhZG93OiAwIDAgNXB4ICMwMGZmMDA7DQp9DQoNCi8qIEVuaGFuY2VkIG1vZGFsIHN0eWxpbmcgZm9yIG1hdHJpeCB0aGVtZSAqLw0KYm9keS5tYXRyaXgtbW9kZSAubW9kYWwtY29udGVudCB7DQogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMDAxMTAwKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzAwZmYwMCk7DQogIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMCwgMjU1LCAwLCAwLjUpOw0KfQ0KDQovKiBNb2RhbCBidXR0b25zIGluIG1hdHJpeCB0aGVtZSAqLw0KYm9keS5tYXRyaXgtbW9kZSAubW9kYWwtYWN0aW9ucyBidXR0b24gew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4tYmcsICMwMDExMDApOw0KICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMDBmZjAwKTsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIHRleHQtc2hhZG93OiAwIDAgM3B4ICMwMGZmMDA7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLm1vZGFsLWFjdGlvbnMgYnV0dG9uOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMDAzMzAwKTsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4taG92ZXItYm9yZGVyLCAjMDBmZjAwKTsNCiAgYm94LXNoYWRvdzogMCAwIDVweCAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5tb2RhbC1hY3Rpb25zIGJ1dHRvbi5zZWNvbmRhcnkgew0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgY29sb3I6IHZhcigtLW11dGVkLCAjMDBhYTAwKTsNCn0NCg0KLyogTW9kYWwgdGV4dCBlbGVtZW50cyBpbiBtYXRyaXggdGhlbWUgKi8NCmJvZHkubWF0cml4LW1vZGUgLm1vZGFsLWNvbnRlbnQgaDMgew0KICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIHRleHQtc2hhZG93OiAwIDAgM3B4ICMwMGZmMDA7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLm1vZGFsLWNvbnRlbnQgcCB7DQogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCn0NCg0KLyogU2l0ZSBmb290ZXIgKi8NCmJvZHkubWF0cml4LW1vZGUgLnNpdGUtZm9vdGVyIHsNCiAgYm9yZGVyLXRvcC1jb2xvcjogIzAwYWEwMDsNCiAgY29sb3I6ICMwMGZmMDA7DQp9DQoNCi8qIE1hcmtkb3duIGNvbnRlbnQgKi8NCmJvZHkubWF0cml4LW1vZGUgLm1hcmtkb3duLWJvZHkgcHJlIHsNCiAgYmFja2dyb3VuZDogIzAwMDAwMDsNCiAgY29sb3I6ICMwMGZmMDA7DQogIGJvcmRlcjogMXB4IHNvbGlkICMwMGFhMDA7DQp9DQoNCi8qIFRhYnVsYXRvciB0YWJsZSBzdHlsaW5nICovDQpib2R5Lm1hdHJpeC1tb2RlIC50YWJ1bGF0b3Igew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOw0KICBjb2xvcjogIzAwZmYwMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcGFuZWwpOw0KICBjb2xvcjogIzAwZmYwMDsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wgew0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgY29sb3I6ICMwMGZmMDA7DQogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbDpsYXN0LWNoaWxkIHsNCiAgYm9yZGVyLXJpZ2h0OiBub25lOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wgLnRhYnVsYXRvci1jb2wtdGl0bGUgew0KICBjb2xvcjogIzAwZmYwMDsNCiAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwZmYwMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sLnRhYnVsYXRvci1zb3J0YWJsZTpob3ZlciB7DQogIGJhY2tncm91bmQ6IHJnYmEoMCwgMjU1LCAwLCAwLjEpOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wudGFidWxhdG9yLWNvbC1zb3J0ZWQgew0KICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDI1NSwgMCwgMC4xNSk7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbCAudGFidWxhdG9yLXNvcnRlciAudGFidWxhdG9yLXNvcnRlci1lbGVtZW50IHsNCiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogIzAwZmYwMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sW2FyaWEtc29ydD0iZGVzYyJdIC50YWJ1bGF0b3Itc29ydGVyIC50YWJ1bGF0b3Itc29ydGVyLWVsZW1lbnQgew0KICBib3JkZXItdG9wLWNvbG9yOiAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIHNlbGVjdCB7DQogIGJhY2tncm91bmQ6ICMwMDAwMDA7DQogIGNvbG9yOiAjMDBmZjAwOw0KICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOw0KICBib3JkZXItcmFkaXVzOiAwOyAvKiBTaGFycCBjb3JuZXJzIGZvciB0ZXJtaW5hbCBsb29rICovDQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWhlYWRlci1maWx0ZXIgaW5wdXQ6OnBsYWNlaG9sZGVyIHsNCiAgY29sb3I6ICMwMGFhMDA7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWNlbGwgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOw0KICBjb2xvcjogIzAwZmYwMDsNCiAgYm9yZGVyLWNvbG9yOiAjMDAzMzAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1mb290ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAxMTAwOw0KICBjb2xvcjogIzAwZmYwMDsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOw0KfQ0KDQovKiBDb2xvciBzY2hlbWUgKi8NCmJvZHkubWF0cml4LW1vZGUgew0KICBjb2xvci1zY2hlbWU6IGRhcms7DQp9DQoNCi8qIFN1bW1hcnkgZGlzcGxheSAqLw0KYm9keS5tYXRyaXgtbW9kZSAjc3Rha2VSZWd1bGFyUGVyQWRkcmVzc1N1bW1hcnkgew0KICBjb2xvcjogIzAwZmYwMDsNCn0NCg0KLyogTW9iaWxlIHRvb2x0aXAgKi8NCmJvZHkubWF0cml4LW1vZGUgI21vYmlsZS10b29sdGlwIHsNCiAgYmFja2dyb3VuZDogIzAwMTEwMDsNCiAgY29sb3I6ICMwMGZmMDA7DQogIGJvcmRlci1jb2xvcjogIzAwZmYwMDsNCiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAyNTUsIDAsIDAuNSk7DQp9DQoNCi8qIEZvcm0gc2VsZWN0cyAqLw0KYm9keS5tYXRyaXgtbW9kZSAjcmVzZXREYlNlbGVjdCwNCmJvZHkubWF0cml4LW1vZGUgI21pbnRBY3Rpb24gew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgIzAwMDAwMCk7DQogIGNvbG9yOiAjMDBmZjAwOw0KICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgI3Jlc2V0RGJTZWxlY3Qgb3B0aW9uLA0KYm9keS5tYXRyaXgtbW9kZSAjbWludEFjdGlvbiBvcHRpb24gew0KICBiYWNrZ3JvdW5kOiAjMDAwMDAwOw0KICBjb2xvcjogIzAwZmYwMDsNCn0NCg0KLyogU3VtbWFyeSBjb250YWluZXIgKi8NCmJvZHkubWF0cml4LW1vZGUgI3N1bW1hcnlDb250YWluZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAxMTAwOw0KICBib3JkZXItY29sb3I6ICMwMGZmMDA7DQogIGNvbG9yOiAjMDBmZjAwOw0KICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDI1NSwgMCwgMC4yKTsNCn0NCg0KLyogU2V0dGluZ3Mgc3R5bGluZyAqLw0KYm9keS5tYXRyaXgtbW9kZSAjdGFiLXNldHRpbmdzIC5maWVsZCBzZWxlY3Qgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZyk7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgI3RhYi1zZXR0aW5ncyAuc2V0dGluZ3MtY2FyZC5kYW5nZXIgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZyk7DQp9DQoNCi8qIERhbmdlciBjYXJkIHN0eWxpbmcgKi8NCmJvZHkubWF0cml4LW1vZGUgLnNldHRpbmdzLWNhcmQuZGFuZ2VyIGgzIHsNCiAgY29sb3I6ICNmZjAwMDA7IC8qIFJlZCBmb3IgZGFuZ2VyIGluIG1hdHJpeCB0aGVtZSAqLw0KICB0ZXh0LXNoYWRvdzogMCAwIDNweCAjZmYwMDAwOw0KfQ0KDQovKiBHZW5lcmFsIGJ1dHRvbiBzdHlsaW5nIGZvciBtYXRyaXggdGhlbWUgKi8NCmJvZHkubWF0cml4LW1vZGUgYnV0dG9uIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjMDAxMTAwKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzAwZmYwMCk7DQogIGZvbnQtZmFtaWx5OiBpbmhlcml0Ow0KICB0ZXh0LXNoYWRvdzogMCAwIDNweCAjMDBmZjAwOw0KICBib3JkZXItcmFkaXVzOiAwOyAvKiBTaGFycCBjb3JuZXJzIGZvciB0ZXJtaW5hbCBsb29rICovDQp9DQoNCmJvZHkubWF0cml4LW1vZGUgYnV0dG9uOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMDAzMzAwKTsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4taG92ZXItYm9yZGVyLCAjMDBmZjAwKTsNCiAgYm94LXNoYWRvdzogMCAwIDVweCAjMDBmZjAwOw0KfQ0KDQovKiBDb25uZWN0IFdhbGxldCBidXR0b24gKi8NCmJvZHkubWF0cml4LW1vZGUgI2Nvbm5lY3RXYWxsZXRCdG4gew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4tYmcsICMwMDExMDApOw0KICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMDBmZjAwKTsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIHRleHQtc2hhZG93OiAwIDAgM3B4ICMwMGZmMDA7DQogIGJvcmRlci1yYWRpdXM6IDA7DQogIHBhZGRpbmc6IDhweCAxNnB4Ow0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlICNjb25uZWN0V2FsbGV0QnRuOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMDAzMzAwKTsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4taG92ZXItYm9yZGVyLCAjMDBmZjAwKTsNCiAgYm94LXNoYWRvdzogMCAwIDhweCAjMDBmZjAwOw0KfQ0KDQovKiBTZXQgTWF4IFRlcm0gYnV0dG9uIGluIG1pbnQgdGFiICovDQpib2R5Lm1hdHJpeC1tb2RlICN0YWItbWludCAjYnRuU2V0TWF4VGVybSB7DQogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgIzAwMTEwMCk7DQogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwZmYwMDsNCiAgYm9yZGVyLXJhZGl1czogMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAjdGFiLW1pbnQgI2J0blNldE1heFRlcm06aG92ZXIgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4taG92ZXItYmcsICMwMDMzMDApOw0KICBib3JkZXItY29sb3I6IHZhcigtLWJ0bi1ob3Zlci1ib3JkZXIsICMwMGZmMDApOw0KICBib3gtc2hhZG93OiAwIDAgNXB4ICMwMGZmMDA7DQp9DQoNCi8qIEdldCBCYWxhbmNlIGJ1dHRvbiAqLw0KYm9keS5tYXRyaXgtbW9kZSAjdGFiLW1pbnQgI2J0blN0YWtlR2V0QmFsYW5jZSB7DQogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgIzAwMTEwMCk7DQogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwZmYwMDsNCiAgYm9yZGVyLXJhZGl1czogMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAjdGFiLW1pbnQgI2J0blN0YWtlR2V0QmFsYW5jZTpob3ZlciB7DQogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1ob3Zlci1iZywgIzAwMzMwMCk7DQogIGJvcmRlci1jb2xvcjogdmFyKC0tYnRuLWhvdmVyLWJvcmRlciwgIzAwZmYwMCk7DQogIGJveC1zaGFkb3c6IDAgMCA1cHggIzAwZmYwMDsNCn0NCg0KLyogU2Vjb25kYXJ5IGJ1dHRvbnMgKi8NCmJvZHkubWF0cml4LW1vZGUgLmJ0bi1zZWNvbmRhcnkgew0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgY29sb3I6IHZhcigtLW11dGVkLCAjMDBhYTAwKTsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbXV0ZWQsICMwMGFhMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgYm9yZGVyLXJhZGl1czogMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuYnRuLXNlY29uZGFyeTpob3ZlciB7DQogIGJhY2tncm91bmQ6IHJnYmEoMCwgMTcwLCAwLCAwLjEpOw0KICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KICB0ZXh0LXNoYWRvdzogMCAwIDNweCAjMDBmZjAwOw0KfQ0KDQovKiBNaW50L1N0YWtlIGFjdGlvbiBidXR0b25zICovDQpib2R5Lm1hdHJpeC1tb2RlIC5idG4tbWludCwNCmJvZHkubWF0cml4LW1vZGUgI3N0YXJ0TWludEJ0biwNCmJvZHkubWF0cml4LW1vZGUgI3N0YXJ0U3Rha2VCdG4gew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICBjb2xvcjogIzAwMDAwMDsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMDBmZjAwKTsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIGZvbnQtd2VpZ2h0OiA3MDA7DQogIHRleHQtc2hhZG93OiBub25lOw0KICBib3JkZXItcmFkaXVzOiAwOw0KICBib3gtc2hhZG93OiAwIDAgMTBweCAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5idG4tbWludDpob3ZlciwNCmJvZHkubWF0cml4LW1vZGUgI3N0YXJ0TWludEJ0bjpob3ZlciwNCmJvZHkubWF0cml4LW1vZGUgI3N0YXJ0U3Rha2VCdG46aG92ZXIgew0KICBiYWNrZ3JvdW5kOiAjMDBjYzAwOw0KICBjb2xvcjogIzAwMDAwMDsNCiAgYm9yZGVyLWNvbG9yOiAjMDBjYzAwOw0KICBib3gtc2hhZG93OiAwIDAgMTVweCAjMDBmZjAwOw0KfQ0KDQovKiBEb3dubG9hZCBhbmQgYWN0aW9uIGJ1dHRvbnMgKi8NCmJvZHkubWF0cml4LW1vZGUgI2Rvd25sb2FkQnRuLA0KYm9keS5tYXRyaXgtbW9kZSAjZG93bmxvYWRKc29uQnRuLA0KYm9keS5tYXRyaXgtbW9kZSAjY2FuY2VsU2NhbkJ0biwNCmJvZHkubWF0cml4LW1vZGUgI2ltcG9ydFJwY0J0biwNCmJvZHkubWF0cml4LW1vZGUgI3JlZnJlc2hYZW5QcmljZUJ0biwNCmJvZHkubWF0cml4LW1vZGUgI3JlZnJlc2hDcmFua0J0biwNCmJvZHkubWF0cml4LW1vZGUgI2V4cG9ydEJhY2t1cEJ0biwNCmJvZHkubWF0cml4LW1vZGUgI2ltcG9ydEJhY2t1cEJ0biwNCmJvZHkubWF0cml4LW1vZGUgI3Jlc2V0QnRuIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjMDAxMTAwKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzAwZmYwMCk7DQogIGZvbnQtZmFtaWx5OiBpbmhlcml0Ow0KICB0ZXh0LXNoYWRvdzogMCAwIDNweCAjMDBmZjAwOw0KICBib3JkZXItcmFkaXVzOiAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlICNkb3dubG9hZEJ0bjpob3ZlciwNCmJvZHkubWF0cml4LW1vZGUgI2Rvd25sb2FkSnNvbkJ0bjpob3ZlciwNCmJvZHkubWF0cml4LW1vZGUgI2NhbmNlbFNjYW5CdG46aG92ZXIsDQpib2R5Lm1hdHJpeC1tb2RlICNpbXBvcnRScGNCdG46aG92ZXIsDQpib2R5Lm1hdHJpeC1tb2RlICNyZWZyZXNoWGVuUHJpY2VCdG46aG92ZXIsDQpib2R5Lm1hdHJpeC1tb2RlICNyZWZyZXNoQ3JhbmtCdG46aG92ZXIsDQpib2R5Lm1hdHJpeC1tb2RlICNleHBvcnRCYWNrdXBCdG46aG92ZXIsDQpib2R5Lm1hdHJpeC1tb2RlICNpbXBvcnRCYWNrdXBCdG46aG92ZXIsDQpib2R5Lm1hdHJpeC1tb2RlICNyZXNldEJ0bjpob3ZlciB7DQogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1ob3Zlci1iZywgIzAwMzMwMCk7DQogIGJvcmRlci1jb2xvcjogdmFyKC0tYnRuLWhvdmVyLWJvcmRlciwgIzAwZmYwMCk7DQogIGJveC1zaGFkb3c6IDAgMCA1cHggIzAwZmYwMDsNCn0NCg0KLyogQ2hhcnQgdG9nZ2xlIGJ1dHRvbnMgKi8NCmJvZHkubWF0cml4LW1vZGUgI3ZtdUNoYXJ0VG9nZ2xlLA0KYm9keS5tYXRyaXgtbW9kZSAjdm11Q2hhcnRNb2RlVk1VcywNCmJvZHkubWF0cml4LW1vZGUgI3ZtdUNoYXJ0TW9kZVVTRCB7DQogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgIzAwMTEwMCk7DQogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAycHggIzAwZmYwMDsNCiAgYm9yZGVyLXJhZGl1czogMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAjdm11Q2hhcnRNb2RlVk1Vcy5hY3RpdmUsDQpib2R5Lm1hdHJpeC1tb2RlICN2bXVDaGFydE1vZGVVU0QuYWN0aXZlIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYm9yZGVyLCAjMDBmZjAwKTsNCiAgY29sb3I6ICMwMDAwMDA7DQogIGJveC1zaGFkb3c6IDAgMCA4cHggIzAwZmYwMDsNCiAgdGV4dC1zaGFkb3c6IG5vbmU7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgI3ZtdUNoYXJ0VG9nZ2xlOmhvdmVyLA0KYm9keS5tYXRyaXgtbW9kZSAjdm11Q2hhcnRNb2RlVk1Vczpob3ZlciwNCmJvZHkubWF0cml4LW1vZGUgI3ZtdUNoYXJ0TW9kZVVTRDpob3ZlciB7DQogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1ob3Zlci1iZywgIzAwMzMwMCk7DQogIGJvcmRlci1jb2xvcjogdmFyKC0tYnRuLWhvdmVyLWJvcmRlciwgIzAwZmYwMCk7DQogIGJveC1zaGFkb3c6IDAgMCA1cHggIzAwZmYwMDsNCn0NCg0KLyogQ2VudGVyIENhbGVuZGFyIGJ1dHRvbiAqLw0KYm9keS5tYXRyaXgtbW9kZSAjY2VudGVyQ2FsZW5kYXJCdG4gew0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgY29sb3I6IHZhcigtLW11dGVkLCAjMDBhYTAwKTsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbXV0ZWQsICMwMGFhMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgYm9yZGVyLXJhZGl1czogMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAjY2VudGVyQ2FsZW5kYXJCdG46aG92ZXIgew0KICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDE3MCwgMCwgMC4xKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQogIGJvcmRlci1jb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwZmYwMDsNCn0NCg0KLyogQnV0dG9uLWxpa2UgZWxlbWVudHMgKi8NCmJvZHkubWF0cml4LW1vZGUgLmJ1dHRvbi1saWtlIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnLCAjMDAxMTAwKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQogIHRleHQtc2hhZG93OiAwIDAgM3B4ICMwMGZmMDA7DQogIGJvcmRlci1yYWRpdXM6IDA7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLmJ1dHRvbi1saWtlOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMDAzMzAwKTsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1idG4taG92ZXItYm9yZGVyLCAjMDBmZjAwKTsNCiAgYm94LXNoYWRvdzogMCAwIDVweCAjMDBmZjAwOw0KfQ0KDQovKiBTcGxpdCBzY2FuIGNvbnRyb2xzICovDQpib2R5Lm1hdHJpeC1tb2RlIC5zcGxpdC1zY2FuIHsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5zcGxpdC1zY2FuIC5idG4gew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4tYmcpOw0KICBjb2xvcjogdmFyKC0tYnRuLWZnKTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuc3BsaXQtc2NhbiAuc3BsaXQtY2FyZXQgew0KICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tYm9yZGVyKTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuc3BsaXQtc2NhbiAuc2Nhbi1iYWRnZSB7DQogIGJhY2tncm91bmQ6ICMwMDAwMDA7DQogIGNvbG9yOiAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5zcGxpdC1zY2FuIC5tZW51IHsNCiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwpOw0KICBjb2xvcjogIzAwZmYwMDsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOw0KICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMCwgMjU1LCAwLCAwLjQpOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5zcGxpdC1zY2FuIC5tZW51IGxpOmhvdmVyIHsNCiAgYmFja2dyb3VuZDogcmdiYSgwLCAyNTUsIDAsIDAuMSk7DQp9DQoNCi8qIENhbGVuZGFyIFhFTiB0b3RhbCBzdHlsaW5nICovDQpib2R5Lm1hdHJpeC1tb2RlICNjYWxlbmRhci14ZW4tdG90YWwgI2VzdFhlblVzZCB7DQogIGNvbG9yOiAjMDBmZmZmOyAvKiBDeWFuIGZvciBVU0QgdmFsdWUgKi8NCiAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwZmZmZjsNCn0NCg0KLyogU2V0dGluZ3MgY2FyZCBjb250ZW50IGFsaWdubWVudCAqLw0KYm9keS5tYXRyaXgtbW9kZSAuc2V0dGluZ3MtY2FyZCB7DQogIHRleHQtYWxpZ246IGxlZnQ7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLnNldHRpbmdzLWNhcmQgaDMsDQpib2R5Lm1hdHJpeC1tb2RlIC5zZXR0aW5ncy1jYXJkIHAsDQpib2R5Lm1hdHJpeC1tb2RlIC5zZXR0aW5ncy1jYXJkIGxhYmVsLA0KYm9keS5tYXRyaXgtbW9kZSAuZmllbGQgew0KICB0ZXh0LWFsaWduOiBsZWZ0Ow0KfQ0KDQovKiBTZXR0aW5ncyBjYXJkIGJ1dHRvbnMgYWxpZ25tZW50ICovDQpib2R5Lm1hdHJpeC1tb2RlIC5zZXR0aW5ncy1jYXJkIC5idXR0b24tcm93LA0KYm9keS5tYXRyaXgtbW9kZSAuc2V0dGluZ3MtY2FyZCBidXR0b24sDQpib2R5Lm1hdHJpeC1tb2RlIC5zZXR0aW5ncy1jYXJkIC5idXR0b24tbGlrZSB7DQogIHRleHQtYWxpZ246IGxlZnQ7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLnNldHRpbmdzLWNhcmQgLmJ1dHRvbi1yb3cgew0KICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7DQp9DQoNCi8qIFNldHRpbmdzIGdyaWQgbGF5b3V0IGNvbnNpc3RlbmN5ICovDQpib2R5Lm1hdHJpeC1tb2RlIC5zZXR0aW5ncy1ncmlkIHsNCiAgYWxpZ24taXRlbXM6IHN0YXJ0Ow0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5zZXR0aW5ncy1jYXJkIHsNCiAgd2lkdGg6IDEwMCU7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoNCi8qIEZvcm0gZWxlbWVudHMgY29uc2lzdGVudCBzaXppbmcgKi8NCmJvZHkubWF0cml4LW1vZGUgLmZpZWxkIGlucHV0W3R5cGU9InRleHQiXSwNCmJvZHkubWF0cml4LW1vZGUgLmZpZWxkIGlucHV0W3R5cGU9InBhc3N3b3JkIl0sDQpib2R5Lm1hdHJpeC1tb2RlIC5maWVsZCBpbnB1dFt0eXBlPSJudW1iZXIiXSwNCmJvZHkubWF0cml4LW1vZGUgLmZpZWxkIHRleHRhcmVhLA0KYm9keS5tYXRyaXgtbW9kZSAuZmllbGQgc2VsZWN0IHsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgd2lkdGg6IDEwMCU7DQogIG1pbi13aWR0aDogMDsNCiAgbGluZS1oZWlnaHQ6IDEuNTsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnKTsNCiAgY29sb3I6ICMwMGZmMDA7DQogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7DQogIHRleHQtc2hhZG93OiAwIDAgMnB4ICMwMGZmMDA7DQp9DQoNCi8qIE1hdHJpeC1zcGVjaWZpYyBnbG93IGVmZmVjdHMgKi8NCmJvZHkubWF0cml4LW1vZGUgaW5wdXQ6Zm9jdXMsDQpib2R5Lm1hdHJpeC1tb2RlIHRleHRhcmVhOmZvY3VzLA0KYm9keS5tYXRyaXgtbW9kZSBzZWxlY3Q6Zm9jdXMgew0KICBvdXRsaW5lOiBub25lOw0KICBib3gtc2hhZG93OiAwIDAgOHB4ICMwMGZmMDA7DQogIGJvcmRlci1jb2xvcjogIzAwZmYwMDsNCn0NCg0KLyogUmV2ZWFsIGJ1dHRvbnMgc3R5bGluZyAqLw0KYm9keS5tYXRyaXgtbW9kZSAucmV2ZWFsLXJvdyB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQogIG1hcmdpbi10b3A6IDRweDsNCiAgbGluZS1oZWlnaHQ6IDE7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLnJldmVhbC1idG4gew0KICBwYWRkaW5nOiAycHg7DQogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzAwYWEwMCk7DQogIGZvbnQtc2l6ZTogaW5oZXJpdDsNCiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7DQogIGJvcmRlcjogbm9uZTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAucmV2ZWFsLWJ0bjpob3ZlciB7DQogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KICB0ZXh0LXNoYWRvdzogMCAwIDNweCAjMDBmZjAwOw0KfQ0KDQovKiBGbGF0cGlja3IgY2FsZW5kYXIgc3R5bGluZyBmb3IgbWF0cml4IHRoZW1lICovDQpib2R5Lm1hdHJpeC1tb2RlIC5mbGF0cGlja3ItY2FsZW5kYXIgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzAwMTEwMCk7DQogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzAwZmYwMCk7DQogIGJveC1zaGFkb3c6IDAgMCAxNXB4IHJnYmEoMCwgMjU1LCAwLCAwLjQpOw0KICBib3JkZXItcmFkaXVzOiAwOyAvKiBTaGFycCBjb3JuZXJzIGZvciB0ZXJtaW5hbCBsb29rICovDQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLmZsYXRwaWNrci1tb250aHMgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCwgIzAwMTEwMCk7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5mbGF0cGlja3ItY3VycmVudC1tb250aCB7DQogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwZmYwMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLWN1cnJlbnQtbW9udGggLm51bUlucHV0V3JhcHBlciB7DQogIGNvbG9yOiB2YXIoLS1idG4tZmcsICMwMGZmMDApOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5mbGF0cGlja3ItY3VycmVudC1tb250aCBpbnB1dCB7DQogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgYm9yZGVyOiBub25lOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAzcHggIzAwZmYwMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLXdlZWtkYXlzIHsNCiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcsICMwMDAwMDApOw0KICBjb2xvcjogdmFyKC0tbXV0ZWQsICMwMGFhMDApOw0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMDBmZjAwKTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLXdlZWtkYXkgew0KICBjb2xvcjogdmFyKC0tbXV0ZWQsICMwMGFhMDApOw0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgZm9udC13ZWlnaHQ6IDYwMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLWRheXMgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgIzAwMDAwMCk7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLmZsYXRwaWNrci1kYXkgew0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQogIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICBmb250LWZhbWlseTogaW5oZXJpdDsNCiAgdGV4dC1zaGFkb3c6IDAgMCAycHggIzAwZmYwMDsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLWRheTpob3ZlciB7DQogIGJhY2tncm91bmQ6IHJnYmEoMCwgMjU1LCAwLCAwLjEpOw0KICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzAwZmYwMCk7DQogIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSgwLCAyNTUsIDAsIDAuMyk7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLmZsYXRwaWNrci1kYXkuc2VsZWN0ZWQgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICBjb2xvcjogIzAwMDAwMDsNCiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICBib3gtc2hhZG93OiAwIDAgOHB4ICMwMGZmMDA7DQogIGZvbnQtd2VpZ2h0OiA3MDA7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLmZsYXRwaWNrci1kYXkudG9kYXkgew0KICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDI1NSwgMCwgMC4yKTsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQogIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyLCAjMDBmZjAwKTsNCiAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDAsIDI1NSwgMCwgMC40KTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLWRheS5wcmV2TW9udGhEYXksDQpib2R5Lm1hdHJpeC1tb2RlIC5mbGF0cGlja3ItZGF5Lm5leHRNb250aERheSB7DQogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzAwYWEwMCk7DQogIG9wYWNpdHk6IDAuNTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLW1vbnRocyAuZmxhdHBpY2tyLW1vbnRoIHsNCiAgY29sb3I6IHZhcigtLWJ0bi1mZywgIzAwZmYwMCk7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLmZsYXRwaWNrci1tb250aHMgLmZsYXRwaWNrci1wcmV2LW1vbnRoLA0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLW1vbnRocyAuZmxhdHBpY2tyLW5leHQtbW9udGggew0KICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgZmlsbDogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCn0NCg0KYm9keS5tYXRyaXgtbW9kZSAuZmxhdHBpY2tyLW1vbnRocyAuZmxhdHBpY2tyLXByZXYtbW9udGg6aG92ZXIsDQpib2R5Lm1hdHJpeC1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItbmV4dC1tb250aDpob3ZlciB7DQogIGNvbG9yOiB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICBmaWxsOiB2YXIoLS1ib3JkZXIsICMwMGZmMDApOw0KICB0ZXh0LXNoYWRvdzogMCAwIDVweCAjMDBmZjAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIC5mbGF0cGlja3ItdG9kYXktYnRuIHsNCiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICMwMDExMDApOw0KICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjMDBmZjAwKTsNCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjMDBmZjAwKTsNCiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7DQogIHRleHQtc2hhZG93OiAwIDAgM3B4ICMwMGZmMDA7DQogIGJvcmRlci1yYWRpdXM6IDA7DQp9DQoNCmJvZHkubWF0cml4LW1vZGUgLmZsYXRwaWNrci10b2RheS1idG46aG92ZXIgew0KICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4taG92ZXItYmcsICMwMDMzMDApOw0KICBib3JkZXItY29sb3I6IHZhcigtLWJ0bi1ob3Zlci1ib3JkZXIsICMwMGZmMDApOw0KICBib3gtc2hhZG93OiAwIDAgNXB4ICMwMGZmMDA7DQp9DQoNCi8qIFRlcm1pbmFsLXN0eWxlIHNjcm9sbGJhcnMgKHdlYmtpdCBicm93c2VycykgKi8NCmJvZHkubWF0cml4LW1vZGUgOjotd2Via2l0LXNjcm9sbGJhciB7DQogIHdpZHRoOiAxMnB4Ow0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgew0KICBiYWNrZ3JvdW5kOiAjMDAwMDAwOw0KICBib3JkZXI6IDFweCBzb2xpZCAjMDAzMzAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICBiYWNrZ3JvdW5kOiAjMDBhYTAwOw0KICBib3JkZXItcmFkaXVzOiAwOw0KfQ0KDQpib2R5Lm1hdHJpeC1tb2RlIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgew0KICBiYWNrZ3JvdW5kOiAjMDBmZjAwOw0KICBib3gtc2hhZG93OiAwIDAgNXB4ICMwMGZmMDA7DQp9',
        'css/theme-retro.css': 'LyogR2VuZXJhdGVkIGZyb20gc3R5bGUuY3NzIHNwbGl0IGJ5IHRoZW1lLiAqLwpib2R5LnJldHJvLW1vZGUgewogIC0tYm9yZGVyOiAjNGU1YmQ0OwogIC0tcGFuZWw6ICAjMGExZGI4OwogIC0tYnRuLWJnOiAjMGExZGI4OwogIC0tYnRuLWZnOiAjYzdmZmY3OwogIC0tbXV0ZWQ6ICAjOGFiNGZmOwogIC0taW5wdXQtYmc6ICMwNjEzOGE7CiAgLS1idG4taG92ZXItYmc6ICMyNzQ5ZGM7CiAgLS1idG4taG92ZXItYm9yZGVyOiAjNGU1YmQ0OwoKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDQxNEE3OwogIGNvbG9yOiAjYzdmZmY3OwogIGZvbnQtZmFtaWx5OiAnVlQzMjMnLCBtb25vc3BhY2U7CiAgbGV0dGVyLXNwYWNpbmc6IDAuM3B4Owp9CmJvZHkucmV0cm8tbW9kZSBhIHsKIGNvbG9yOiAjZmZlYTdhOyAKfQpib2R5LnJldHJvLW1vZGUgLm11dGVkIHsKIGNvbG9yOiB2YXIoLS1tdXRlZCk7IAp9CmJvZHkucmV0cm8tbW9kZSBzZWxlY3QgewogYmFja2dyb3VuZDogdmFyKC0tcGFuZWwpOyBjb2xvcjogdmFyKC0tYnRuLWZnKTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgCn0KYm9keS5yZXRyby1tb2RlICNuZXR3b3JrTmFtZSB7CiBiYWNrZ3JvdW5kOiAjMGExZGI4OyBjb2xvcjogI2M3ZmZmNzsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgCn0KYm9keS5yZXRyby1tb2RlIC53YWxsZXQtcmV2ZWFsLWJ0biB7CiBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7IGNvbG9yOiB2YXIoLS1idG4tZmcpOyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7IAp9CmJvZHkucmV0cm8tbW9kZSAubWVudS10b2dnbGUgewogYmFja2dyb3VuZDogdmFyKC0tcGFuZWwpOyBjb2xvcjogdmFyKC0tYnRuLWZnKTsgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOyAKfQpib2R5LnJldHJvLW1vZGUgLm1lbnUtcGFuZWwgewogYmFja2dyb3VuZDogdmFyKC0tcGFuZWwpOyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7IGJveC1zaGFkb3c6IDAgMTVweCAzNXB4IHJnYmEoMyw4LDU4LC42KTsgCn0KYm9keS5yZXRyby1tb2RlIC5tZW51LXRpdGxlIHsKIGNvbG9yOiB2YXIoLS1tdXRlZCk7IAp9CmJvZHkucmV0cm8tbW9kZSAuY2hpcCB7CiBiYWNrZ3JvdW5kLWNvbG9yOiAjMDcxNjlmOyBib3JkZXItY29sb3I6ICMyNzQ5ZGM7IGNvbG9yOiAjYzdmZmY3OyAKfQpib2R5LnJldHJvLW1vZGUgLmNoaXA6aG92ZXIgewogYmFja2dyb3VuZC1jb2xvcjogIzBhMWRiODsgCn0KYm9keS5yZXRyby1tb2RlIC5jaGlwLmFjdGl2ZSB7CiBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBmZmZmOyBjb2xvcjogIzA2MTM4YTsgYm9yZGVyLWNvbG9yOiAjMDBmZmZmOyAKfQpib2R5LnJldHJvLW1vZGUgI3Byb2dyZXNzQ29udGFpbmVyIHsKIGJhY2tncm91bmQ6ICMwNjE5YTk7IGJvcmRlci1jb2xvcjogIzRlNWJkNDsgY29sb3I6ICNjN2ZmZjc7IAp9CmJvZHkucmV0cm8tbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgI3NjYW5UeXBlTGluZSB7CiBjb2xvcjogI2M3ZmZmNzsgCn0KYm9keS5yZXRyby1tb2RlICNwcm9ncmVzc0NvbnRhaW5lciAjZXRyVGV4dCB7CiBjb2xvcjogI2M3ZmZmNzsgCn0KYm9keS5yZXRyby1tb2RlICN0b2tlblByb2dyZXNzQmFyIHsKIGJhY2tncm91bmQ6ICMwNjEzOGE7IGNvbG9yOiAjZmZlYTdhOyAKfQovKiBFbmhhbmNlZCBtb2RhbCBzdHlsaW5nIGZvciByZXRybyB0aGVtZSAqLwpib2R5LnJldHJvLW1vZGUgLm1vZGFsLWNvbnRlbnQgewogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsLCAjMGExZGI4KTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjYzdmZmY3KTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICM0ZTViZDQpOwogIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMywgOCwgNTgsIDAuOCk7Cn0KLyogTW9kYWwgYnV0dG9ucyBpbiByZXRybyB0aGVtZSAqLwpib2R5LnJldHJvLW1vZGUgLm1vZGFsLWFjdGlvbnMgYnV0dG9uIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1idG4tYmcsICMwYTFkYjgpOwogIGNvbG9yOiB2YXIoLS1idG4tZmcsICNjN2ZmZjcpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzRlNWJkNCk7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7Cn0KYm9keS5yZXRyby1tb2RlIC5tb2RhbC1hY3Rpb25zIGJ1dHRvbjpob3ZlciB7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMjc0OWRjKTsKICBib3JkZXItY29sb3I6IHZhcigtLWJ0bi1ob3Zlci1ib3JkZXIsICM0ZTViZDQpOwp9CmJvZHkucmV0cm8tbW9kZSAubW9kYWwtYWN0aW9ucyBidXR0b24uc2Vjb25kYXJ5IHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBjb2xvcjogdmFyKC0tbXV0ZWQsICM4YWI0ZmYpOwp9Ci8qIE1vZGFsIHRleHQgZWxlbWVudHMgaW4gcmV0cm8gdGhlbWUgKi8KYm9keS5yZXRyby1tb2RlIC5tb2RhbC1jb250ZW50IGgzIHsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjYzdmZmY3KTsKICBmb250LWZhbWlseTogaW5oZXJpdDsKfQpib2R5LnJldHJvLW1vZGUgLm1vZGFsLWNvbnRlbnQgcCB7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2M3ZmZmNyk7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7Cn0KLyogRW5zdXJlIEFMTCBlbGVtZW50cyBpbnNpZGUgcHJvZ3Jlc3NDb250YWluZXIgaGF2ZSBtYXRjaGluZyBiYWNrZ3JvdW5kICovCmJvZHkucmV0cm8tbW9kZSAjcHJvZ3Jlc3NDb250YWluZXIgKiB7CiAgYmFja2dyb3VuZDogIzA2MTlhOSAhaW1wb3J0YW50OyAvKiBmb3JjZSBzYW1lIGFzIHByb2dyZXNzQ29udGFpbmVyICovCn0KYm9keS5yZXRyby1tb2RlICN0b2tlblByb2dyZXNzVGV4dCwKYm9keS5yZXRyby1tb2RlICNhZGRyZXNzUHJvZ3Jlc3NUZXh0LApib2R5LnJldHJvLW1vZGUgI2FkZHJlc3NQcm9ncmVzc0NvbnRhaW5lciwKYm9keS5yZXRyby1tb2RlICN0b2tlblByb2dyZXNzQ29udGFpbmVyLApib2R5LnJldHJvLW1vZGUgI3NjYW5UeXBlTGluZSwKYm9keS5yZXRyby1tb2RlICNldHJUZXh0LApib2R5LnJldHJvLW1vZGUgI3JwY1N0YXR1cyB7CiAgYmFja2dyb3VuZDogIzA2MTlhOSAhaW1wb3J0YW50OyAvKiBzYW1lIGFzIHByb2dyZXNzQ29udGFpbmVyICovCn0KLyogUmVtb3ZlIGJvcmRlcnMgZnJvbSBwcm9ncmVzcyB0ZXh0IGVsZW1lbnRzICovCmJvZHkucmV0cm8tbW9kZSAjdG9rZW5Qcm9ncmVzc1RleHQsCmJvZHkucmV0cm8tbW9kZSAjYWRkcmVzc1Byb2dyZXNzVGV4dCwKYm9keS5yZXRyby1tb2RlICNycGNTdGF0dXMgewogIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50Owp9CmJvZHkucmV0cm8tbW9kZSAuc2l0ZS1mb290ZXIgewogYm9yZGVyLXRvcC1jb2xvcjogIzI3NDlkYzsgY29sb3I6ICNiZmU5ZmY7IAp9CmJvZHkucmV0cm8tbW9kZSAubWFya2Rvd24tYm9keSBwcmUgewogYmFja2dyb3VuZDogIzA1MTM4YTsgY29sb3I6ICNjN2ZmZjc7IAp9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIHsKIGJhY2tncm91bmQtY29sb3I6ICMwNTEzOTk7IGNvbG9yOiAjYzdmZmY3OyAKfQpib2R5LnJldHJvLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciB7CiBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wYW5lbCk7IGNvbG9yOiAjYzdmZmY3OyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7IAp9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sIHsKIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBjb2xvcjogI2M3ZmZmNzsgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgCn0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2w6bGFzdC1jaGlsZCB7CiBib3JkZXItcmlnaHQ6IG5vbmU7IAp9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItY29sIC50YWJ1bGF0b3ItY29sLXRpdGxlIHsKIGNvbG9yOiAjYzdmZmY3OyBmb250LXdlaWdodDogNjAwOyAKfQpib2R5LnJldHJvLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbC50YWJ1bGF0b3Itc29ydGFibGU6aG92ZXIgewogYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA4KTsgCn0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wudGFidWxhdG9yLWNvbC1zb3J0ZWQgewogYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjEwKTsgCn0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1jb2wgLnRhYnVsYXRvci1zb3J0ZXIgLnRhYnVsYXRvci1zb3J0ZXItZWxlbWVudCB7CiBib3JkZXItYm90dG9tLWNvbG9yOiAjYmZlOWZmOyAKfQpib2R5LnJldHJvLW1vZGUgLnRhYnVsYXRvciAudGFidWxhdG9yLWhlYWRlciAudGFidWxhdG9yLWNvbFthcmlhLXNvcnQ9ImRlc2MiXSAudGFidWxhdG9yLXNvcnRlciAudGFidWxhdG9yLXNvcnRlci1lbGVtZW50IHsKIGJvcmRlci10b3AtY29sb3I6ICNiZmU5ZmY7IAp9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItaGVhZGVyIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlciBzZWxlY3QgewogYmFja2dyb3VuZDogIzA2MTM4YTsgY29sb3I6ICNjN2ZmZjc7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDhweDsgCn0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1oZWFkZXIgLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyIGlucHV0OjpwbGFjZWhvbGRlciB7CiBjb2xvcjogIzliYzBmZjsgCn0KYm9keS5yZXRyby1tb2RlIC50YWJ1bGF0b3IgLnRhYnVsYXRvci1jZWxsIHsKIGJhY2tncm91bmQtY29sb3I6ICMwNTEzOTk7IGNvbG9yOiAjYzdmZmY3OyBib3JkZXItY29sb3I6ICMyNzQ5ZGM7IAp9CmJvZHkucmV0cm8tbW9kZSAudGFidWxhdG9yIC50YWJ1bGF0b3ItZm9vdGVyIHsKIGJhY2tncm91bmQtY29sb3I6ICMwYTFkYjg7IGNvbG9yOiAjYzdmZmY3OyBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7IAp9CmJvZHkucmV0cm8tbW9kZSB7CiBjb2xvci1zY2hlbWU6IGRhcms7IAp9CmJvZHkucmV0cm8tbW9kZSAjc3Rha2VSZWd1bGFyUGVyQWRkcmVzc1N1bW1hcnkgewogY29sb3I6ICNiZmU5ZmY7IAp9CmJvZHkucmV0cm8tbW9kZSAjbW9iaWxlLXRvb2x0aXAgewogYmFja2dyb3VuZDojMDYxMzhhOyBjb2xvcjojYzdmZmY3OyBib3JkZXItY29sb3I6IzRlNWJkNDsgCn0KYm9keS5yZXRyby1tb2RlICNyZXNldERiU2VsZWN0LCBib2R5LnJldHJvLW1vZGUgI21pbnRBY3Rpb24gewogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnLCAjMDYxMzhhKTsKICBjb2xvcjogI2M3ZmZmNzsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcik7Cn0KYm9keS5yZXRyby1tb2RlICNyZXNldERiU2VsZWN0IG9wdGlvbiwgYm9keS5yZXRyby1tb2RlICNtaW50QWN0aW9uIG9wdGlvbiB7CiAgYmFja2dyb3VuZDogIzA2MTM4YTsKICBjb2xvcjogI2M3ZmZmNzsKfQpib2R5LnJldHJvLW1vZGUgI3N1bW1hcnlDb250YWluZXIgewogIGJhY2tncm91bmQtY29sb3I6ICMwNjE5YTk7CiAgYm9yZGVyLWNvbG9yOiAjNGU1YmQ0OwogIGNvbG9yOiAjYzdmZmY3Owp9CmJvZHkucmV0cm8tbW9kZSB7CiAtLWlucHV0LWJnOiAjMDYxMzhhOyAKfQpib2R5LnJldHJvLW1vZGUgI3RhYi1zZXR0aW5ncyAuZmllbGQgc2VsZWN0IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZyk7Cn0KYm9keS5yZXRyby1tb2RlICN0YWItc2V0dGluZ3MgLnNldHRpbmdzLWNhcmQuZGFuZ2VyIHsKIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnKTsgCn0KLyogRW5zdXJlIGRhbmdlciBjYXJkIHRpdGxlIGlzIHZpc2libGUgaW4gcmV0cm8gbW9kZSAqLwpib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWNhcmQuZGFuZ2VyIGgzIHsKICBjb2xvcjogI2ZmN2E3YTsgLyogYnJpZ2h0IHJlZCBmb3IgcmV0cm8gdGhlbWUgKi8KfQovKiBFbnN1cmUgYnV0dG9uLWxpa2UgZWxlbWVudHMgdXNlIGNvcnJlY3QgdGhlbWUgY29sb3JzICovCmJvZHkucmV0cm8tbW9kZSAuYnV0dG9uLWxpa2UgewogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgIzBhMWRiOCk7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2M3ZmZmNyk7Cn0KYm9keS5yZXRyby1tb2RlIC5idXR0b24tbGlrZTpob3ZlciB7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMjc0OWRjKTsKICBib3JkZXItY29sb3I6IHZhcigtLWJ0bi1ob3Zlci1ib3JkZXIsICM0ZTViZDQpOwp9CmJvZHkucmV0cm8tbW9kZSAjcmVzZXREYlNlbGVjdCB7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcpICFpbXBvcnRhbnQ7CiAgY29sb3I6ICNjN2ZmZjcgIWltcG9ydGFudDsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlcikgIWltcG9ydGFudDsKfQpib2R5LnJldHJvLW1vZGUgI3N0YWtlVGVybURheXMgewogIGJhY2tncm91bmQ6IHZhcigtLWlucHV0LWJnKSAhaW1wb3J0YW50OwogIGNvbG9yOiAjYzdmZmY3ICFpbXBvcnRhbnQ7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpICFpbXBvcnRhbnQ7Cn0KYm9keS5yZXRyby1tb2RlIC5zcGxpdC1zY2FuIHsKIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyKTsgCn0KYm9keS5yZXRyby1tb2RlIC5zcGxpdC1zY2FuIC5idG4gewogYmFja2dyb3VuZDogdmFyKC0tYnRuLWJnKTsgY29sb3I6IHZhcigtLWJ0bi1mZyk7IAp9CmJvZHkucmV0cm8tbW9kZSAuc3BsaXQtc2NhbiAuc3BsaXQtY2FyZXQgewogYm9yZGVyLWxlZnQtY29sb3I6IHZhcigtLWJvcmRlcik7IAp9CmJvZHkucmV0cm8tbW9kZSAuc3BsaXQtc2NhbiAuc2Nhbi1iYWRnZSB7CiBiYWNrZ3JvdW5kOiAjMDYxMzhhOyBjb2xvcjogI2M3ZmZmNzsgCn0KYm9keS5yZXRyby1tb2RlIC5zcGxpdC1zY2FuIC5tZW51IHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7CiAgY29sb3I6ICNjN2ZmZjc7CiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXIpOwogIGJveC1zaGFkb3c6IDAgOHB4IDIwcHggcmdiYSgzLDgsNTgsMC42KTsKfQpib2R5LnJldHJvLW1vZGUgLnNwbGl0LXNjYW4gLm1lbnUgbGk6aG92ZXIgewogYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwuMDgpOyAKfQpib2R5LnJldHJvLW1vZGUgI2NhbGVuZGFyLXhlbi10b3RhbCAjZXN0WGVuVXNkIHsKICBjb2xvcjogI2I5ZmZiNjsgLyogcmV0cm8gbGltZSBvbiBibHVlICovCiAgZm9udC13ZWlnaHQ6IDYwMDsKfQoKLyogRW5zdXJlIGNvbnNpc3RlbnQgZ3JpZCBsYXlvdXQgd2l0aCBtb25vc3BhY2UgZm9udCAqLwpib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWdyaWQgewogIGFsaWduLWl0ZW1zOiBzdGFydDsKfQpib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWNhcmQgewogIHdpZHRoOiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLyogRW5zdXJlIHRleHQgZG9lc24ndCBleHBhbmQgY2FyZHMgZGlmZmVyZW50bHkgd2l0aCBtb25vc3BhY2UgZm9udCAqLwpib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWNhcmQgcCwKYm9keS5yZXRyby1tb2RlIC5zZXR0aW5ncy1jYXJkIGxhYmVsLApib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWNhcmQgc21hbGwgewogIHdvcmQtd3JhcDogYnJlYWstd29yZDsKICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkOwogIGh5cGhlbnM6IGF1dG87Cn0KLyogRW5zdXJlIGZvcm0gZWxlbWVudHMgaGF2ZSBjb25zaXN0ZW50IHNpemluZyAqLwpib2R5LnJldHJvLW1vZGUgLmZpZWxkIGlucHV0W3R5cGU9InRleHQiXSwKYm9keS5yZXRyby1tb2RlIC5maWVsZCBpbnB1dFt0eXBlPSJwYXNzd29yZCJdLApib2R5LnJldHJvLW1vZGUgLmZpZWxkIGlucHV0W3R5cGU9Im51bWJlciJdLApib2R5LnJldHJvLW1vZGUgLmZpZWxkIHRleHRhcmVhLApib2R5LnJldHJvLW1vZGUgLmZpZWxkIHNlbGVjdCB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICB3aWR0aDogMTAwJTsKICBtaW4td2lkdGg6IDA7CiAgbGluZS1oZWlnaHQ6IDEuNTsKICBmb250LXNpemU6IDAuOWVtOyAvKiBBZGp1c3QgZm9yIG1vbm9zcGFjZSBmb250ICovCn0KLyogUHJldmVudCBidXR0b24gdGV4dCBmcm9tIGV4cGFuZGluZyBjYXJkcyAqLwpib2R5LnJldHJvLW1vZGUgLmJ1dHRvbi1yb3cgYnV0dG9uLApib2R5LnJldHJvLW1vZGUgLmJ1dHRvbi1saWtlIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHdoaXRlLXNwYWNlOiBub3dyYXA7Cn0KLyogRW5zdXJlIGNvbnNpc3RlbnQgZXllIGljb24gcG9zaXRpb25pbmcgd2l0aCBtb25vc3BhY2UgZm9udCAqLwpib2R5LnJldHJvLW1vZGUgLnJldmVhbC1yb3cgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICBtYXJnaW4tdG9wOiA0cHg7CiAgbGluZS1oZWlnaHQ6IDE7Cn0KYm9keS5yZXRyby1tb2RlIC5yZXZlYWwtYnRuIHsKICBwYWRkaW5nOiAycHg7CiAgY29sb3I6IHZhcigtLW11dGVkLCAjOGFiNGZmKTsKICBmb250LXNpemU6IGluaGVyaXQ7Cn0KYm9keS5yZXRyby1tb2RlIC5pbnB1dC13aXRoLXRvZ2dsZSB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB3aWR0aDogMTAwJTsKfQovKiBFbnN1cmUgY29udGVudCBpcyBsZWZ0LWFsaWduZWQgbGlrZSBpbiBsaWdodCBtb2RlICovCmJvZHkucmV0cm8tbW9kZSAuc2V0dGluZ3MtY2FyZCB7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQpib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWNhcmQgaDMsCmJvZHkucmV0cm8tbW9kZSAuc2V0dGluZ3MtY2FyZCBwLApib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWNhcmQgbGFiZWwsCmJvZHkucmV0cm8tbW9kZSAuZmllbGQgewogIHRleHQtYWxpZ246IGxlZnQ7Cn0KLyogRW5zdXJlIGJ1dHRvbnMgYXJlIGxlZnQtYWxpZ25lZCAqLwpib2R5LnJldHJvLW1vZGUgLnNldHRpbmdzLWNhcmQgLmJ1dHRvbi1yb3csCmJvZHkucmV0cm8tbW9kZSAuc2V0dGluZ3MtY2FyZCBidXR0b24sCmJvZHkucmV0cm8tbW9kZSAuc2V0dGluZ3MtY2FyZCAuYnV0dG9uLWxpa2UgewogIHRleHQtYWxpZ246IGxlZnQ7Cn0KYm9keS5yZXRyby1tb2RlIC5zZXR0aW5ncy1jYXJkIC5idXR0b24tcm93IHsKICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7Cn0KCi8qIEZsYXRwaWNrciBjYWxlbmRhciBzdHlsaW5nIGZvciByZXRybyB0aGVtZSAqLwpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1jYWxlbmRhciB7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICMwYTFkYjgpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzRlNWJkNCk7CiAgYm94LXNoYWRvdzogMCAxNXB4IDM1cHggcmdiYSgzLCA4LCA1OCwgMC42KTsKICBib3JkZXItcmFkaXVzOiA4cHg7Cn0KCmJvZHkucmV0cm8tbW9kZSAuZmxhdHBpY2tyLW1vbnRocyB7CiAgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwsICMwYTFkYjgpOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIsICM0ZTViZDQpOwp9Cgpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1jdXJyZW50LW1vbnRoIHsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjYzdmZmY3KTsKICBmb250LWZhbWlseTogaW5oZXJpdDsKfQoKYm9keS5yZXRyby1tb2RlIC5mbGF0cGlja3ItY3VycmVudC1tb250aCAubnVtSW5wdXRXcmFwcGVyIHsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjYzdmZmY3KTsKfQoKYm9keS5yZXRyby1tb2RlIC5mbGF0cGlja3ItY3VycmVudC1tb250aCBpbnB1dCB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2M3ZmZmNyk7CiAgYm9yZGVyOiBub25lOwogIGZvbnQtZmFtaWx5OiBpbmhlcml0Owp9Cgpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci13ZWVrZGF5cyB7CiAgYmFja2dyb3VuZDogdmFyKC0taW5wdXQtYmcsICMwNjEzOGEpOwogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzhhYjRmZik7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlciwgIzRlNWJkNCk7Cn0KCmJvZHkucmV0cm8tbW9kZSAuZmxhdHBpY2tyLXdlZWtkYXkgewogIGNvbG9yOiB2YXIoLS1tdXRlZCwgIzhhYjRmZik7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICBmb250LXdlaWdodDogNjAwOwp9Cgpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1kYXlzIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZywgIzA2MTM4YSk7Cn0KCmJvZHkucmV0cm8tbW9kZSAuZmxhdHBpY2tyLWRheSB7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2M3ZmZmNyk7CiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7Cn0KCmJvZHkucmV0cm8tbW9kZSAuZmxhdHBpY2tyLWRheTpob3ZlciB7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KTsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzRlNWJkNCk7Cn0KCmJvZHkucmV0cm8tbW9kZSAuZmxhdHBpY2tyLWRheS5zZWxlY3RlZCB7CiAgYmFja2dyb3VuZDogdmFyKC0tYm9yZGVyLCAjNGU1YmQ0KTsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjYzdmZmY3KTsKICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlciwgIzRlNWJkNCk7CiAgZm9udC13ZWlnaHQ6IDcwMDsKfQoKYm9keS5yZXRyby1tb2RlIC5mbGF0cGlja3ItZGF5LnRvZGF5IHsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDI1NSwgMjU1LCAwLjIpOwogIGNvbG9yOiAjMDBmZmZmOwogIGJvcmRlci1jb2xvcjogIzAwZmZmZjsKICBmb250LXdlaWdodDogNjAwOwp9Cgpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1kYXkucHJldk1vbnRoRGF5LApib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1kYXkubmV4dE1vbnRoRGF5IHsKICBjb2xvcjogdmFyKC0tbXV0ZWQsICM4YWI0ZmYpOwogIG9wYWNpdHk6IDAuNjsKfQoKYm9keS5yZXRyby1tb2RlIC5mbGF0cGlja3ItbW9udGhzIC5mbGF0cGlja3ItbW9udGggewogIGNvbG9yOiB2YXIoLS1idG4tZmcsICNjN2ZmZjcpOwp9Cgpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1tb250aHMgLmZsYXRwaWNrci1wcmV2LW1vbnRoLApib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1tb250aHMgLmZsYXRwaWNrci1uZXh0LW1vbnRoIHsKICBjb2xvcjogdmFyKC0tYnRuLWZnLCAjYzdmZmY3KTsKICBmaWxsOiB2YXIoLS1idG4tZmcsICNjN2ZmZjcpOwp9Cgpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1tb250aHMgLmZsYXRwaWNrci1wcmV2LW1vbnRoOmhvdmVyLApib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci1tb250aHMgLmZsYXRwaWNrci1uZXh0LW1vbnRoOmhvdmVyIHsKICBjb2xvcjogdmFyKC0tYm9yZGVyLCAjNGU1YmQ0KTsKICBmaWxsOiB2YXIoLS1ib3JkZXIsICM0ZTViZDQpOwp9Cgpib2R5LnJldHJvLW1vZGUgLmZsYXRwaWNrci10b2RheS1idG4gewogIGJhY2tncm91bmQ6IHZhcigtLWJ0bi1iZywgIzBhMWRiOCk7CiAgY29sb3I6IHZhcigtLWJ0bi1mZywgI2M3ZmZmNyk7CiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLCAjNGU1YmQ0KTsKICBmb250LWZhbWlseTogaW5oZXJpdDsKICBib3JkZXItcmFkaXVzOiA2cHg7Cn0KCmJvZHkucmV0cm8tbW9kZSAuZmxhdHBpY2tyLXRvZGF5LWJ0bjpob3ZlciB7CiAgYmFja2dyb3VuZDogdmFyKC0tYnRuLWhvdmVyLWJnLCAjMjc0OWRjKTsKICBib3JkZXItY29sb3I6IHZhcigtLWJ0bi1ob3Zlci1ib3JkZXIsICM0ZTViZDQpOwp9',
            'js/app-mint.js': 'Ly8gTWluaW1hbCBtaW50aW5nIGZvciBDb2ludG9vbDogVk1VcywgVGVybSwgbGl2ZSBnYXMsIHNpbmdsZSB0eCBwZXIgY2xpY2suDQovLyBEZXBlbmRzIG9uIGdsb2JhbHMgZnJvbSBhcHAuanMgJiBjb2ludG9vbC1BQkkuanM6IHdlYjMsIHdlYjNXYWxsZXQsIGNvbm5lY3RlZEFjY291bnQsDQovLyBDT0lOVE9PTF9NQUlOLCBjb2ludG9vbEFiaS4NCg0KY29uc3QgWEVOX01BSU4gPSAnMHgwNjQ1MGRFZTdGRDJGYjhFMzkwNjE0MzRCQWJDRkMwNTU5OWE2RmI4JzsNCmNvbnN0IERFRkFVTFRfUlBDX1JFQUQgPSAnaHR0cHM6Ly9ldGhlcmV1bS1ycGMucHVibGljbm9kZS5jb20nOw0KDQpmdW5jdGlvbiBmbXRUcygpeyByZXR1cm4gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpOyB9DQoNCi8vIFJlcXVpcmUgY29ubmVjdGVkIHdhbGxldCBvbiBFdGhlcmV1bSBNYWlubmV0DQphc3luYyBmdW5jdGlvbiByZXF1aXJlV2FsbGV0TWFpbm5ldCgpew0KICBpZiAoIXdpbmRvdy5ldGhlcmV1bSB8fCAhd2ViM1dhbGxldCB8fCAhY29ubmVjdGVkQWNjb3VudCkgew0KICAgIGNvbnNvbGUud2FybigiQ29ubmVjdCB5b3VyIHdhbGxldCBmaXJzdC4iKTsNCiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vLXdhbGxldCcpOw0KICB9DQogIGNvbnN0IGNoYWluSWRIZXggPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTsNCiAgaWYgKHBhcnNlSW50KGNoYWluSWRIZXgsIDE2KSAhPT0gMSkgew0KICAgIGNvbnNvbGUud2FybigiU3dpdGNoIHlvdXIgd2FsbGV0IHRvIEV0aGVyZXVtIE1haW5uZXQgdG8gbWludC4iKTsNCiAgICB0aHJvdyBuZXcgRXJyb3IoJ3dyb25nLWNoYWluJyk7DQogIH0NCn0NCg0KLy8gUHJldmlldyB0aGUgbWF0dXJpdHkgZGF0ZTogbm93ICsgdGVybURheXMNCmZ1bmN0aW9uIGZvcm1hdFRlcm1EYXRlKHRlcm1EYXlzKSB7DQogIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7DQogIGNvbnN0IG1zICA9IE51bWJlcih0ZXJtRGF5cykgKiAyNCAqIDYwICogNjAgKiAxMDAwOw0KICBjb25zdCB0YXJnZXQgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgbXMpOw0KICAvLyBlLmcuLCAiRnJpLCBBdWcgMjksIDIwMjUiDQogIHJldHVybiB0YXJnZXQudG9Mb2NhbGVEYXRlU3RyaW5nKHVuZGVmaW5lZCwgeyB3ZWVrZGF5OiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnc2hvcnQnLCBkYXk6ICdudW1lcmljJyB9KTsNCn0NCmZ1bmN0aW9uIHVwZGF0ZVRlcm1QcmV2aWV3KCkgew0KICBjb25zdCB0ZXJtRGF5cyA9IE1hdGgubWluKDk5OSwgTWF0aC5tYXgoMSwgcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRUZXJtRGF5cycpLnZhbHVlIHx8ICcxJywgMTApKSk7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlcm1EYXRlUHJldmlldycpOw0KICBpZiAoZWwpIGVsLnRleHRDb250ZW50ID0gZm9ybWF0VGVybURhdGUodGVybURheXMpOw0KICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWludFRlcm1EYXlzJywgU3RyaW5nKHRlcm1EYXlzKSk7IH0gY2F0Y2gge30NCn0NCg0KZnVuY3Rpb24gdXBkYXRlU3Rha2VUZXJtUHJldmlldygpIHsNCiAgY29uc3QgdGVybURheXMgPSBNYXRoLm1pbigxMDAwLCBNYXRoLm1heCgxLCBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VUZXJtRGF5cycpLnZhbHVlIHx8ICcxJywgMTApKSk7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlRGF0ZVByZXZpZXcnKTsNCiAgaWYgKGVsKSBlbC50ZXh0Q29udGVudCA9IGZvcm1hdFRlcm1EYXRlKHRlcm1EYXlzKTsNCn0NCg0KLy8gSHVtYW4tcmVhZGFibGUgc2hvcnQgbnVtYmVyIChtYXggMiBkZWNpbWFscykNCmZ1bmN0aW9uIGZvcm1hdFNob3J0TnVtYmVyKG4pIHsNCiAgaWYgKG4gPT09IG51bGwgfHwgbiA9PT0gdW5kZWZpbmVkIHx8IG4gPT09ICcnKSByZXR1cm4gJyc7DQogIGNvbnN0IHYgPSBOdW1iZXIoU3RyaW5nKG4pLnJlcGxhY2UoL1teMC05Ll0vZywgJycpKTsNCiAgaWYgKCFpc0Zpbml0ZSh2KSkgcmV0dXJuICcnOw0KICBjb25zdCBhYnMgPSBNYXRoLmFicyh2KTsNCiAgaWYgKGFicyA+PSAxZTEyKSByZXR1cm4gKHYvMWUxMikudG9GaXhlZCgyKS5yZXBsYWNlKC9cLjAwJC8sJycpICsgJ1QnOw0KICBpZiAoYWJzID49IDFlOSApIHJldHVybiAodi8xZTkgKS50b0ZpeGVkKDIpLnJlcGxhY2UoL1wuMDAkLywnJykgKyAnQic7DQogIGlmIChhYnMgPj0gMWU2ICkgcmV0dXJuICh2LzFlNiApLnRvRml4ZWQoMikucmVwbGFjZSgvXC4wMCQvLCcnKSArICdNJzsNCiAgaWYgKGFicyA+PSAxZTMgKSByZXR1cm4gKHYvMWUzICkudG9GaXhlZCgyKS5yZXBsYWNlKC9cLjAwJC8sJycpICsgJ0snOw0KICByZXR1cm4gdi50b1N0cmluZygpOw0KfQ0KDQovLyBGZXRjaCBjdXJyZW50IG1heCB0ZXJtIChkYXlzKSBmcm9tIFhFTiBhbmQgdXBkYXRlIHByZXZpZXcgKG5vIHdhbGxldCByZXF1aXJlZCkNCmFzeW5jIGZ1bmN0aW9uIHNldE1heFRlcm1Gcm9tWEVOKCl7DQogIHRyeXsNCiAgICBsZXQgcHJvdmlkZXIgPSBudWxsOw0KICAgIC8vIFByZWZlciB1c2VyIFJQQyBpZiBwcmVzZW50OyBmYWxsIGJhY2sgdG8gZGVmYXVsdCBwdWJsaWMgbWFpbm5ldCBSUEMNCiAgICB0cnkgew0KICAgICAgY29uc3QgcnBjRnJvbURvbSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tUlBDJyk/LnZhbHVlIHx8ICcnKS50cmltKCk7DQogICAgICBjb25zdCBycGNGcm9tTHMgID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21SUEMnKSB8fCAnJykudHJpbSgpOw0KICAgICAgY29uc3QgcnBjTGlzdCA9IChycGNGcm9tRG9tIHx8IHJwY0Zyb21McyB8fCBERUZBVUxUX1JQQ19SRUFEKQ0KICAgICAgICAuc3BsaXQoL1xyP1xuKy8pDQogICAgICAgIC5tYXAocyA9PiBzLnRyaW0oKSkNCiAgICAgICAgLmZpbHRlcihCb29sZWFuKTsNCiAgICAgIHByb3ZpZGVyID0gbmV3IFdlYjMocnBjTGlzdFswXSk7DQogICAgfSBjYXRjaCAoXykgew0KICAgICAgcHJvdmlkZXIgPSBuZXcgV2ViMyhERUZBVUxUX1JQQ19SRUFEKTsNCiAgICB9DQoNCiAgICBjb25zdCB4ZW4gPSBuZXcgcHJvdmlkZXIuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5BYmksIFhFTl9NQUlOKTsNCiAgICBjb25zdCBzZWNzID0gYXdhaXQgeGVuLm1ldGhvZHMuZ2V0Q3VycmVudE1heFRlcm0oKS5jYWxsKCk7DQogICAgY29uc3QgZGF5cyA9IE1hdGgubWF4KDEsIE1hdGgubWluKDk5OSwgTWF0aC5mbG9vcihOdW1iZXIoc2VjcykvODY0MDApKSk7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRUZXJtRGF5cycpLnZhbHVlID0gU3RyaW5nKGRheXMpOw0KICAgIHVwZGF0ZVRlcm1QcmV2aWV3KCk7DQogICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pbnRUZXJtRGF5cycsIFN0cmluZyhkYXlzKSk7IH0gY2F0Y2gge30NCiAgICBjb25zb2xlLmxvZyhgW01JTlRdIE1heCB0ZXJtIGZyb20gWEVOOiAke2RheXN9IGRheShzKS5gKTsNCiAgfWNhdGNoKGUpew0KICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGZldGNoIG1heCB0ZXJtIGZyb20gWEVOIChuZXR3b3JrL1JQQyBpc3N1ZT8pJywgZSk7DQogIH0NCn0NCg0KLy8gUmVhZCBzaGFyZWQgZm9ybSAocGxhdGZvcm0gKyBjb21tb24gKyBYRU5GVCBvcHRpb25zKQ0KZnVuY3Rpb24gcmVhZE1pbnRGb3JtKCl7DQogIGNvbnN0IHBsYXRmb3JtICA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludFBsYXRmb3JtJyk/LnZhbHVlIHx8ICdjb2ludG9vbCcpOyAvLyBjb2ludG9vbCB8IHhlbmZ0DQogIGNvbnN0IHZtdSAgICAgICA9IE1hdGgubWF4KDEsIHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW50Vm11cycpLnZhbHVlIHx8ICcxJywgMTApKTsNCiAgY29uc3QgdGVybURheXMgID0gTWF0aC5taW4oOTk5LCBNYXRoLm1heCgxLCBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludFRlcm1EYXlzJykudmFsdWUgfHwgJzEnLCAxMCkpKTsNCiAgY29uc3QgeGVuZnRLaW5kID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4ZW5mdEtpbmQnKT8udmFsdWUgfHwgJ3JlZ3VsYXInKTsgICAgIC8vIHJlZ3VsYXIgfCBhcGV4DQogIGNvbnN0IGJ1cm5SYXcgICA9IFN0cmluZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRCdXJuJyk/LnZhbHVlIHx8ICcnKS50cmltKCk7IC8vIFhFTiB0b2tlbnMgdG8gYnVybg0KICByZXR1cm4geyBwbGF0Zm9ybSwgdm11LCB0ZXJtRGF5cywgeGVuZnRLaW5kLCBidXJuUmF3IH07DQp9DQoNCg0KLy8gQnVpbGQgZGF0YSBoZXggKFB5dGhvbiBwYXJpdHkpIHdpdGggdGVybSBpbmplY3RlZA0KZnVuY3Rpb24gYnVpbGRDb2ludG9vbERhdGFIZXgodGVybURheXMpew0KICBjb25zdCB0ZXJtMyA9IE51bWJlcih0ZXJtRGF5cykudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCkucGFkU3RhcnQoMywgJzAnKTsNCiAgY29uc3QgdGVybTQgPSB0ZXJtMy5wYWRTdGFydCg0LCAnMCcpOw0KICBjb25zdCBiYXNlID0NCiAgICAiMHgiICsNCiAgICAiNTk2MzVmNmYiICsgLy8gc2VsZWN0b3INCiAgICAiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDY0NTBkZWU3ZmQyZmI4ZTM5MDYxNDM0YmFiY2ZjMDU1OTlhNmZiOCIgKyAvLyBYRU4NCiAgICAiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MCIgKw0KICAgICIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI0IiArDQogICAgIjlmZjA1NGRmIiArIC8vIGlubmVyIHNlbGVjdG9yDQogICAgIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIiArDQogICAgIjAwMDBYWFhYIiArIC8vIOKGkCB0ZXJtIHBsYWNlaG9sZGVyDQogICAgIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIjsNCiAgcmV0dXJuIGJhc2UucmVwbGFjZSgnWFhYWCcsIHRlcm00KTsNCn0NCg0KDQovLyA9PT0gWEVORlQgc3VwcG9ydCA9PT0NCmNvbnN0IEFQRVhfUFJFU0VUUyA9IHsNCiAgcmFyZTogNTAwMDAwMDAwLA0KICBlcGljOiAxMDAwMDAwMDAwLA0KICBsZWdlbmRhcnk6IDI1MDAwMDAwMDAsDQogIGV4b3RpYzogNTAwMDAwMDAwMCwNCiAgeHVuaWNvcm46IDEwMDAwMDAwMDAwLA0KfTsNCg0KDQpjb25zdCBYRU5GVF9UT1JSRU5UID0gJzB4MGEyNTI2NjNEQkNjMGIwNzMwNjNENjQyMGE0MDMxOWU0MzhDZmE1OSc7DQoNCmZ1bmN0aW9uIHByZXNldEJ1cm5Gb3JTZWxlY3Rpb24oKXsNCiAgY29uc3Qga2luZCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRLaW5kJyk/LnZhbHVlIHx8ICdyZWd1bGFyJyk7DQogIGNvbnN0IGJ1cm5FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4ZW5mdEJ1cm4nKTsNCiAgaWYgKCFidXJuRWwpIHJldHVybjsNCg0KICBpZiAoa2luZCA9PT0gJ2FwZXgnKSB7DQogICAgY29uc3QgdGllciA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBleFRpZXInKT8udmFsdWUgfHwgJ3JhcmUnKTsNCiAgICBidXJuRWwudmFsdWUgPSBTdHJpbmcoQVBFWF9QUkVTRVRTW3RpZXJdIHx8IEFQRVhfUFJFU0VUUy5yYXJlKTsNCiAgfQ0KDQogIGNvbnN0IGhyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0QnVybkh1bWFuJyk7DQogIGlmIChocikgaHIudGV4dENvbnRlbnQgPSBmb3JtYXRTaG9ydE51bWJlcihidXJuRWwudmFsdWUpOw0KfQ0KDQpmdW5jdGlvbiBwYXJzZUJ1cm5Ub1dlaShidXJuUmF3KXsNCiAgaWYgKCFidXJuUmF3KSByZXR1cm4gIjAiOw0KICByZXR1cm4gV2ViMy51dGlscy50b1dlaShTdHJpbmcoYnVyblJhdyksICdldGhlcicpOyAvLyBYRU4gaGFzIDE4IGRlY2ltYWxzDQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGVuc3VyZVhlbkFwcHJvdmFsSWZOZWVkZWQoc3BlbmRlciwgcmVxdWlyZWRXZWkpew0KICBjb25zdCB0b2tlbiA9IG5ldyB3ZWIzV2FsbGV0LmV0aC5Db250cmFjdCh3aW5kb3cueGVuQWJpLCBYRU5fTUFJTik7DQogIGNvbnN0IGN1cnJlbnQgPSBhd2FpdCB0b2tlbi5tZXRob2RzLmFsbG93YW5jZShjb25uZWN0ZWRBY2NvdW50LCBzcGVuZGVyKS5jYWxsKCk7DQogIGlmIChXZWIzLnV0aWxzLnRvQk4oY3VycmVudCkuZ3RlKFdlYjMudXRpbHMudG9CTihyZXF1aXJlZFdlaSkpKSByZXR1cm47DQogIGF3YWl0IHRva2VuLm1ldGhvZHMuYXBwcm92ZShzcGVuZGVyLCByZXF1aXJlZFdlaSkuc2VuZCh7IGZyb206IGNvbm5lY3RlZEFjY291bnQgfSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0Q29pbnRvb2xNaW50KHZtdSwgdGVybURheXMpew0KICBjb25zdCBjb250cmFjdCA9IG5ldyB3ZWIzV2FsbGV0LmV0aC5Db250cmFjdChjb2ludG9vbEFiaSwgQ09JTlRPT0xfTUFJTik7DQogIGNvbnN0IGRhdGFIZXggID0gYnVpbGRDb2ludG9vbERhdGFIZXgodGVybURheXMpOw0KICBjb25zdCBzYWx0SGV4ICA9ICIweDAxIjsNCiAgbGV0IGVzdCA9IGF3YWl0IGNvbnRyYWN0Lm1ldGhvZHMudCh2bXUsIGRhdGFIZXgsIHNhbHRIZXgpLmVzdGltYXRlR2FzKHsgZnJvbTogY29ubmVjdGVkQWNjb3VudCB9KTsNCiAgZXN0ID0gTWF0aC5jZWlsKGVzdCAqIDEuMik7DQogIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLnQodm11LCBkYXRhSGV4LCBzYWx0SGV4KS5zZW5kKHsgZnJvbTogY29ubmVjdGVkQWNjb3VudCwgZ2FzOiBlc3QgfSk7DQogIGNvbnNvbGUubG9nKGBbTUlOVC9DT0lOVE9PTF0gaHR0cHM6Ly9ldGhlcnNjYW4uaW8vdHgvJHtyZWNlaXB0Py50cmFuc2FjdGlvbkhhc2ggfHwgJyhwZW5kaW5nKSd9YCk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0WGVuZnRNaW50KHZtdSwgdGVybURheXMsIGtpbmQsIGJ1cm5SYXcpew0KICBjb25zdCB4ZW5mdCA9IG5ldyB3ZWIzV2FsbGV0LmV0aC5Db250cmFjdCh3aW5kb3cueGVuZnRBYmksIFhFTkZUX1RPUlJFTlQpOw0KICBpZiAoa2luZCA9PT0gJ2FwZXgnKSB7DQogICAgaWYgKHZtdSA8PSA5OSkgew0KICAgICAgYWxlcnQoIlhFTkZUIEFQRVggcmVxdWlyZXMgbWluLiAxMDAgVk1VcyAoY29udHJhY3QgcnVsZSkuIFBsZWFzZSBpbmNyZWFzZSBWTVVzLiIpOw0KICAgICAgdGhyb3cgbmV3IEVycm9yKCd2bXUtdG9vLWxvdycpOw0KICAgIH0NCiAgICBjb25zdCBidXJuV2VpID0gcGFyc2VCdXJuVG9XZWkoYnVyblJhdyk7DQogICAgaWYgKFdlYjMudXRpbHMudG9CTihidXJuV2VpKS5sdGUoV2ViMy51dGlscy50b0JOKCcwJykpKSB7IGFsZXJ0KCJFbnRlciBYRU4gYW1vdW50IHRvIGJ1cm4uIik7IHRocm93IG5ldyBFcnJvcignbm8tYnVybicpOyB9DQogICAgYXdhaXQgZW5zdXJlWGVuQXBwcm92YWxJZk5lZWRlZChYRU5GVF9UT1JSRU5ULCBidXJuV2VpKTsNCiAgICBsZXQgZXN0ID0gYXdhaXQgeGVuZnQubWV0aG9kcy5idWxrQ2xhaW1SYW5rTGltaXRlZCh2bXUsIHRlcm1EYXlzLCBidXJuV2VpKS5lc3RpbWF0ZUdhcyh7IGZyb206IGNvbm5lY3RlZEFjY291bnQgfSk7DQogICAgZXN0ID0gTWF0aC5jZWlsKGVzdCAqIDEuMik7DQogICAgY29uc3QgciA9IGF3YWl0IHhlbmZ0Lm1ldGhvZHMuYnVsa0NsYWltUmFua0xpbWl0ZWQodm11LCB0ZXJtRGF5cywgYnVybldlaSkuc2VuZCh7IGZyb206IGNvbm5lY3RlZEFjY291bnQsIGdhczogZXN0IH0pOw0KICAgIGNvbnNvbGUubG9nKGBbTUlOVC9YRU5GVC1BUEVYXSBodHRwczovL2V0aGVyc2Nhbi5pby90eC8ke3I/LnRyYW5zYWN0aW9uSGFzaCB8fCAnKHBlbmRpbmcpJ31gKTsNCiAgICByZXR1cm47DQogIH0NCiAgLy8gUmVndWxhciBYRU5GVA0KICBsZXQgZXN0ID0gYXdhaXQgeGVuZnQubWV0aG9kcy5idWxrQ2xhaW1SYW5rKHZtdSwgdGVybURheXMpLmVzdGltYXRlR2FzKHsgZnJvbTogY29ubmVjdGVkQWNjb3VudCB9KTsNCiAgZXN0ID0gTWF0aC5jZWlsKGVzdCAqIDEuMik7DQogIGNvbnN0IHIgPSBhd2FpdCB4ZW5mdC5tZXRob2RzLmJ1bGtDbGFpbVJhbmsodm11LCB0ZXJtRGF5cykuc2VuZCh7IGZyb206IGNvbm5lY3RlZEFjY291bnQsIGdhczogZXN0IH0pOw0KICBjb25zb2xlLmxvZyhgW01JTlQvWEVORlRdIGh0dHBzOi8vZXRoZXJzY2FuLmlvL3R4LyR7cj8udHJhbnNhY3Rpb25IYXNoIHx8ICcocGVuZGluZyknfWApOw0KfQ0KDQovLyAtLS0gU3Rha2luZyAtLS0NCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0U3Rha2VGbG93KCl7DQogIGlmICh0eXBlb2YgaXNQcml2YWN5QWNjZXB0ZWQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9wZW5Qcml2YWN5TW9kYWwgPT09ICdmdW5jdGlvbicpIHsNCiAgICBpZiAoIWlzUHJpdmFjeUFjY2VwdGVkKCkpIHsgb3BlblByaXZhY3lNb2RhbCgpOyByZXR1cm47IH0NCiAgfQ0KICAvLyBJZiB3YWxsZXQgbm90IGNvbm5lY3RlZCwgcHJvbXB0IHRvIGNvbm5lY3QgZmlyc3QNCiAgaWYgKCF3aW5kb3cud2ViM1dhbGxldCB8fCAhd2luZG93LmNvbm5lY3RlZEFjY291bnQpIHsNCiAgICBjb25zdCBwcm9jZWVkID0gd2luZG93LmNvbmZpcm0oJ1dhbGxldCBub3QgY29ubmVjdGVkLiBDb25uZWN0IHdhbGxldCBub3c/Jyk7DQogICAgaWYgKCFwcm9jZWVkKSByZXR1cm47DQogICAgdHJ5IHsgYXdhaXQgKHR5cGVvZiBjb25uZWN0V2FsbGV0ID09PSAnZnVuY3Rpb24nID8gY29ubmVjdFdhbGxldCgpIDogUHJvbWlzZS5yZXNvbHZlKCkpOyB9IGNhdGNoIHt9DQogICAgaWYgKCF3aW5kb3cud2ViM1dhbGxldCB8fCAhd2luZG93LmNvbm5lY3RlZEFjY291bnQpIHJldHVybjsNCiAgfQ0KICB0cnkgeyBhd2FpdCByZXF1aXJlV2FsbGV0TWFpbm5ldCgpOyB9IGNhdGNoIHsgcmV0dXJuOyB9DQogIGNvbnN0IGFtdFN0ciA9IFN0cmluZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VBbW91bnQnKT8udmFsdWUgfHwgJycpLnRyaW0oKTsNCiAgY29uc3QgdGVybURheXMgPSBNYXRoLm1heCgxLCBNYXRoLm1pbigxMDAwLCBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VUZXJtRGF5cycpPy52YWx1ZSB8fCAnMScsIDEwKSkpOw0KICBpZiAoIWFtdFN0ciB8fCBpc05hTihOdW1iZXIoYW10U3RyKSkgfHwgTnVtYmVyKGFtdFN0cikgPD0gMCkgeyBhbGVydCgnRW50ZXIgWEVOIGFtb3VudCB0byBzdGFrZS4nKTsgcmV0dXJuOyB9DQogIGxldCBhbW91bnRXZWk7DQogIHRyeSB7DQogICAgYW1vdW50V2VpID0gV2ViMy51dGlscy50b1dlaShhbXRTdHIsICdldGhlcicpOw0KICB9IGNhdGNoKF8pIHsgYWxlcnQoJ0ludmFsaWQgYW1vdW50LicpOyByZXR1cm47IH0NCg0KICB0cnkgew0KICAgIGNvbnN0IHhlbiA9IG5ldyB3ZWIzV2FsbGV0LmV0aC5Db250cmFjdCh3aW5kb3cueGVuQWJpLCBYRU5fTUFJTik7DQogICAgbGV0IGVzdCA9IGF3YWl0IHhlbi5tZXRob2RzLnN0YWtlKGFtb3VudFdlaSwgdGVybURheXMpLmVzdGltYXRlR2FzKHsgZnJvbTogY29ubmVjdGVkQWNjb3VudCB9KTsNCiAgICBlc3QgPSBNYXRoLmNlaWwoZXN0ICogMS4yKTsNCiAgICBjb25zdCB0eCA9IGF3YWl0IHhlbi5tZXRob2RzLnN0YWtlKGFtb3VudFdlaSwgdGVybURheXMpLnNlbmQoeyBmcm9tOiBjb25uZWN0ZWRBY2NvdW50LCBnYXM6IGVzdCB9KTsNCiAgICBpZiAodHlwZW9mIHNob3dUb2FzdCA9PT0gJ2Z1bmN0aW9uJykgc2hvd1RvYXN0KGBTdGFrZSBzdWJtaXR0ZWQ6ICR7dHgudHJhbnNhY3Rpb25IYXNofWAsICdzdWNjZXNzJyk7DQogICAgZWxzZSBhbGVydChgU3Rha2Ugc3VibWl0dGVkOiAke3R4LnRyYW5zYWN0aW9uSGFzaH1gKTsNCiAgICB0cnkgeyBpZiAodHlwZW9mIHdpbmRvdy5yZWZyZXNoVW5pZmllZCA9PT0gJ2Z1bmN0aW9uJykgYXdhaXQgd2luZG93LnJlZnJlc2hVbmlmaWVkKCk7IH0gY2F0Y2gge30NCiAgfSBjYXRjaCAoZXJyKSB7DQogICAgY29uc29sZS5lcnJvcignW1NUQUtFXSBmYWlsZWQnLCBlcnIpOw0KICAgIGFsZXJ0KGVycj8ubWVzc2FnZSB8fCAnU3Rha2UgZmFpbGVkLicpOw0KICB9DQp9DQoNCi8vIC0tLSBTdGFrZSBoZWxwZXJzOiBiYWxhbmNlICsgcGVyY2VudCBzaG9ydGN1dHMgLS0tDQp3aW5kb3cuX3N0YWtlWGVuQmFsYW5jZVdlaSA9IG51bGw7DQoNCmFzeW5jIGZ1bmN0aW9uIGZldGNoWGVuQmFsYW5jZVdlaSgpew0KICBpZiAoIXdpbmRvdy5jb25uZWN0ZWRBY2NvdW50KSByZXR1cm4gbnVsbDsNCiAgdHJ5IHsNCiAgICBjb25zdCBhY2N0ID0gd2luZG93LmNvbm5lY3RlZEFjY291bnQ7DQogICAgY29uc29sZS5kZWJ1ZygnW1NUQUtFXSBGZXRjaGluZyBYRU4gYmFsYW5jZSBmb3InLCBhY2N0KTsNCg0KICAgIGxldCBwcm92aWRlciA9IG51bGw7DQogICAgaWYgKHdpbmRvdy53ZWIzV2FsbGV0KSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBjaWQgPSBhd2FpdCB3aW5kb3cud2ViM1dhbGxldC5ldGguZ2V0Q2hhaW5JZCgpOw0KICAgICAgICBpZiAoTnVtYmVyKGNpZCkgPT09IDEpIHByb3ZpZGVyID0gd2luZG93LndlYjNXYWxsZXQ7IC8vIHVzZSB3YWxsZXQgaWYgb24gbWFpbm5ldA0KICAgICAgfSBjYXRjaCAoXykge30NCiAgICB9DQogICAgaWYgKCFwcm92aWRlcikgew0KICAgICAgLy8gRmFsbGJhY2sgdG8gcmVhZC1vbmx5IG1haW5uZXQgUlBDDQogICAgICBwcm92aWRlciA9IG5ldyBXZWIzKERFRkFVTFRfUlBDX1JFQUQpOw0KICAgIH0NCg0KICAgIGNvbnN0IHRva2VuID0gbmV3IHByb3ZpZGVyLmV0aC5Db250cmFjdCh3aW5kb3cueGVuQWJpLCBYRU5fTUFJTik7DQogICAgY29uc3QgYmFsID0gYXdhaXQgdG9rZW4ubWV0aG9kcy5iYWxhbmNlT2YoYWNjdCkuY2FsbCgpOw0KICAgIGNvbnNvbGUuZGVidWcoJ1tTVEFLRV0gWEVOIGJhbGFuY2UgKHdlaSk6JywgYmFsKTsNCiAgICByZXR1cm4gYmFsOyAvLyB3ZWkgc3RyaW5nDQogIH0gY2F0Y2ggKGUpIHsNCiAgICBjb25zb2xlLndhcm4oJ1tTVEFLRV0gRmFpbGVkIHRvIGZldGNoIFhFTiBiYWxhbmNlOicsIGU/Lm1lc3NhZ2UgfHwgZSk7DQogICAgcmV0dXJuIG51bGw7DQogIH0NCn0NCg0KZnVuY3Rpb24gdXBkYXRlU3Rha2VTdGFydEVuYWJsZWQoKXsNCiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0U3Rha2VCdG4nKTsNCiAgY29uc3QgYW10U3RyID0gU3RyaW5nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZUFtb3VudCcpPy52YWx1ZSB8fCAnJykudHJpbSgpOw0KICBjb25zdCBvayA9IGFtdFN0ciAhPT0gJycgJiYgTnVtYmVyKGFtdFN0cikgPiAwOw0KICBpZiAoYnRuKSBidG4uZGlzYWJsZWQgPSAhb2s7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHByZWZpbGxTdGFrZUFtb3VudEZyb21CYWxhbmNlKHNob3dBbGVydCl7DQogIGNvbnN0IGFtb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlQW1vdW50Jyk7DQogIGNvbnN0IHBjdFdyYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VQZXJjZW50T3B0aW9ucycpOw0KICBpZiAoIWFtb3VudEVsKSByZXR1cm47DQoNCiAgaWYgKCF3aW5kb3cud2ViM1dhbGxldCB8fCAhd2luZG93LmNvbm5lY3RlZEFjY291bnQpIHsNCiAgICBjb25zb2xlLmRlYnVnKCdbU1RBS0VdIEdldCBCYWxhbmNlIGNsaWNrZWQgYnV0IHdhbGxldCBub3QgY29ubmVjdGVkLicpOw0KICAgIGlmIChzaG93QWxlcnQpIGFsZXJ0KCdDb25uZWN0IHlvdXIgd2FsbGV0IHRvIHJldHJpZXZlIFhFTiBiYWxhbmNlLicpOw0KICAgIGlmIChwY3RXcmFwKSBwY3RXcmFwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgcmV0dXJuOw0KICB9DQoNCiAgY29uc3Qgd2VpID0gYXdhaXQgZmV0Y2hYZW5CYWxhbmNlV2VpKCk7DQogIHdpbmRvdy5fc3Rha2VYZW5CYWxhbmNlV2VpID0gd2VpOw0KICBpZiAod2VpICYmIFdlYjMudXRpbHMudG9CTih3ZWkpLmd0KFdlYjMudXRpbHMudG9CTignMCcpKSkgew0KICAgIC8vIE9ubHkgcHJlZmlsbCBpZiBlbXB0eSBvciB6ZXJvDQogICAgaWYgKCFhbW91bnRFbC52YWx1ZSB8fCBOdW1iZXIoYW1vdW50RWwudmFsdWUpIDw9IDApIHsNCiAgICAgIGNvbnN0IEJOID0gV2ViMy51dGlscy50b0JOOw0KICAgICAgY29uc3QgT05FID0gQk4oJzEwMDAwMDAwMDAwMDAwMDAwMDAnKTsNCiAgICAgIGNvbnN0IHJvdW5kZWQgPSBCTih3ZWkpLmRpdihPTkUpLnRvU3RyaW5nKCk7IC8vIHJvdW5kIGRvd24gdG8gd2hvbGUgdG9rZW4NCiAgICAgIGFtb3VudEVsLnZhbHVlID0gcm91bmRlZDsNCiAgICB9DQogICAgaWYgKHBjdFdyYXApIHBjdFdyYXAuc3R5bGUuZGlzcGxheSA9ICcnOw0KICB9IGVsc2Ugew0KICAgIGNvbnNvbGUuZGVidWcoJ1tTVEFLRV0gWmVybyBvciBtaXNzaW5nIFhFTiBiYWxhbmNlLicpOw0KICAgIGlmIChwY3RXcmFwKSBwY3RXcmFwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogIH0NCiAgdXBkYXRlU3Rha2VTdGFydEVuYWJsZWQoKTsNCn0NCg0KZnVuY3Rpb24gYXR0YWNoU3Rha2VQZXJjZW50SGFuZGxlcnMoKXsNCiAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZVBlcmNlbnRPcHRpb25zJyk7DQogIGlmICghd3JhcCkgcmV0dXJuOw0KICB3cmFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICBjb25zdCB0ID0gZS50YXJnZXQ7DQogICAgaWYgKCEodCAmJiB0Lm1hdGNoZXMgJiYgdC5tYXRjaGVzKCdidXR0b25bZGF0YS1wY3RdJykpKSByZXR1cm47DQogICAgY29uc3QgcGN0ID0gcGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGN0JyksIDEwKTsNCiAgICBpZiAoIXdpbmRvdy5fc3Rha2VYZW5CYWxhbmNlV2VpIHx8ICFOdW1iZXIuaXNGaW5pdGUocGN0KSkgcmV0dXJuOw0KICAgIGNvbnN0IEJOID0gV2ViMy51dGlscy50b0JOOw0KICAgIGNvbnN0IE9ORSA9IEJOKCcxMDAwMDAwMDAwMDAwMDAwMDAwJyk7DQogICAgY29uc3Qgd2VpID0gQk4od2luZG93Ll9zdGFrZVhlbkJhbGFuY2VXZWkpOw0KICAgIGNvbnN0IHZhbCA9IHdlaS5tdWwoQk4oU3RyaW5nKHBjdCkpKS5kaXYoQk4oJzEwMCcpKTsNCiAgICBjb25zdCByb3VuZGVkID0gdmFsLmRpdihPTkUpLnRvU3RyaW5nKCk7IC8vIHJvdW5kIGRvd24gdG8gd2hvbGUgdG9rZW4NCiAgICBjb25zdCBhbW91bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZUFtb3VudCcpOw0KICAgIGlmIChhbW91bnRFbCkgYW1vdW50RWwudmFsdWUgPSByb3VuZGVkOw0KICAgIGNvbnNvbGUuZGVidWcoJ1tTVEFLRV0gUGVyY2VudCBjbGljayBzZXQgYW1vdW50IHRvJywgcGN0ICsgJyUgPScsIHJvdW5kZWQsICdYRU4nKTsNCiAgICB1cGRhdGVTdGFrZVN0YXJ0RW5hYmxlZCgpOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gcm91bmRTdGFrZUFtb3VudEZpZWxkVG9XaG9sZSgpew0KICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZUFtb3VudCcpOw0KICBpZiAoIWVsKSByZXR1cm47DQogIGNvbnN0IHYgPSBTdHJpbmcoZWwudmFsdWUgfHwgJycpLnRyaW0oKTsNCiAgaWYgKCF2KSByZXR1cm47DQogIGNvbnN0IG4gPSBOdW1iZXIodik7DQogIGlmICghTnVtYmVyLmlzRmluaXRlKG4pKSByZXR1cm47DQogIGNvbnN0IHJvdW5kZWQgPSBNYXRoLmZsb29yKG4pOw0KICBlbC52YWx1ZSA9IFN0cmluZyhNYXRoLm1heCgwLCByb3VuZGVkKSk7DQp9DQoNCg0KDQoNCi8vIFN0YXJ0IG1pbnQgZmxvdzogcm91dGUgdG8gQ29pbnRvb2wgb3IgWEVORlQgKFJlZ3VsYXIvQVBFWCkNCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0TWludGluZ0Zsb3coKXsNCiAgaWYgKHR5cGVvZiBpc1ByaXZhY3lBY2NlcHRlZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb3BlblByaXZhY3lNb2RhbCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgIGlmICghaXNQcml2YWN5QWNjZXB0ZWQoKSkgeyBvcGVuUHJpdmFjeU1vZGFsKCk7IHJldHVybjsgfQ0KICB9DQogIC8vIElmIHdhbGxldCBub3QgY29ubmVjdGVkLCBwcm9tcHQgdG8gY29ubmVjdCBmaXJzdA0KICBpZiAoIXdpbmRvdy53ZWIzV2FsbGV0IHx8ICF3aW5kb3cuY29ubmVjdGVkQWNjb3VudCkgew0KICAgIGNvbnN0IHByb2NlZWQgPSB3aW5kb3cuY29uZmlybSgnV2FsbGV0IG5vdCBjb25uZWN0ZWQuIENvbm5lY3Qgd2FsbGV0IG5vdz8nKTsNCiAgICBpZiAoIXByb2NlZWQpIHJldHVybjsNCiAgICB0cnkgeyBhd2FpdCAodHlwZW9mIGNvbm5lY3RXYWxsZXQgPT09ICdmdW5jdGlvbicgPyBjb25uZWN0V2FsbGV0KCkgOiBQcm9taXNlLnJlc29sdmUoKSk7IH0gY2F0Y2gge30NCiAgICAvLyBJZiBzdGlsbCBub3QgY29ubmVjdGVkIGFmdGVyIGF0dGVtcHRpbmcsIHN0b3AgaGVyZQ0KICAgIGlmICghd2luZG93LndlYjNXYWxsZXQgfHwgIXdpbmRvdy5jb25uZWN0ZWRBY2NvdW50KSByZXR1cm47DQogIH0NCiAgdHJ5IHsgYXdhaXQgcmVxdWlyZVdhbGxldE1haW5uZXQoKTsgfSBjYXRjaCB7IHJldHVybjsgfQ0KICBjb25zdCB7IHBsYXRmb3JtLCB2bXUsIHRlcm1EYXlzLCB4ZW5mdEtpbmQsIGJ1cm5SYXcgfSA9IHJlYWRNaW50Rm9ybSgpOw0KDQogIHRyeSB7DQogICAgaWYgKHBsYXRmb3JtID09PSAneGVuZnQnKSB7DQogICAgICBhd2FpdCBzdGFydFhlbmZ0TWludCh2bXUsIHRlcm1EYXlzLCB4ZW5mdEtpbmQsIGJ1cm5SYXcpOw0KICAgIH0gZWxzZSB7DQogICAgICBhd2FpdCBzdGFydENvaW50b29sTWludCh2bXUsIHRlcm1EYXlzKTsNCiAgICB9DQogIH0gY2F0Y2ggKGVycikgew0KICAgIGNvbnNvbGUuZXJyb3IoIltNSU5UXSBFcnJvcjoiLCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTsNCiAgICBhbGVydChlcnI/Lm1lc3NhZ2UgfHwgU3RyaW5nKGVycikpOw0KICB9DQp9DQoNCg0KLy8gSW5pdA0KKGZ1bmN0aW9uIGluaXRNaW50VGFiKCl7DQogIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHsNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdE1pbnRUYWIpOw0KICAgIHJldHVybjsNCiAgfQ0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRNaW50QnRuJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnRNaW50aW5nRmxvdyk7DQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydFN0YWtlQnRuJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnRTdGFrZUZsb3cpOw0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuU2V0TWF4VGVybScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNldE1heFRlcm1Gcm9tWEVOKTsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRUZXJtRGF5cycpPy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZVRlcm1QcmV2aWV3KTsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blN0YWtlU2V0TWF4VGVybScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZVRlcm1EYXlzJyk7IGlmICghZWwpIHJldHVybjsNCiAgICBlbC52YWx1ZSA9ICcxMDAwJzsgdXBkYXRlU3Rha2VUZXJtUHJldmlldygpOw0KICB9KTsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlVGVybURheXMnKT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGVTdGFrZVRlcm1QcmV2aWV3KTsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlQW1vdW50Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlU3Rha2VTdGFydEVuYWJsZWQpOw0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VBbW91bnQnKT8uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHJvdW5kU3Rha2VBbW91bnRGaWVsZFRvV2hvbGUpOw0KICBhdHRhY2hTdGFrZVBlcmNlbnRIYW5kbGVycygpOw0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuU3Rha2VHZXRCYWxhbmNlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcHJlZmlsbFN0YWtlQW1vdW50RnJvbUJhbGFuY2UodHJ1ZSkpOw0KDQoNCi8vIE5FVzogdG9nZ2xlIFhFTkZUIFVJDQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW50UGxhdGZvcm0nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gew0KICAgIGNvbnN0IHNob3cgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRQbGF0Zm9ybScpLnZhbHVlID09PSAneGVuZnQnKTsNCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0T3B0aW9uc1JvdycpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRPcHRpb25zUm93Jykuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnJyA6ICdub25lJzsNCg0KICAgIGNvbnN0IGtpbmQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0S2luZCcpPy52YWx1ZSB8fCAncmVndWxhcicpOw0KICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRCdXJuV3JhcCcpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRCdXJuV3JhcCcpLnN0eWxlLmRpc3BsYXkgPSAoc2hvdyAmJiBraW5kID09PSAnYXBleCcpID8gJycgOiAnbm9uZSc7DQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcGV4VGllcldyYXAnKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwZXhUaWVyV3JhcCcpLnN0eWxlLmRpc3BsYXkgPSAoc2hvdyAmJiBraW5kID09PSAnYXBleCcpID8gJycgOiAnbm9uZSc7DQoNCiAgICBpZiAoc2hvdyAmJiBraW5kID09PSAnYXBleCcpIHByZXNldEJ1cm5Gb3JTZWxlY3Rpb24oKTsNCiAgfSk7DQoNCg0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRLaW5kJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHsNCiAgICBjb25zdCBraW5kID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4ZW5mdEtpbmQnKT8udmFsdWUgfHwgJ3JlZ3VsYXInKTsNCiAgICBjb25zdCBzaG93QnVybiA9IChraW5kID09PSAnYXBleCcpOw0KDQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4ZW5mdEJ1cm5XcmFwJykpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4ZW5mdEJ1cm5XcmFwJykuc3R5bGUuZGlzcGxheSA9IHNob3dCdXJuID8gJycgOiAnbm9uZSc7DQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcGV4VGllcldyYXAnKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwZXhUaWVyV3JhcCcpLnN0eWxlLmRpc3BsYXkgPSAoa2luZCA9PT0gJ2FwZXgnKSA/ICcnIDogJ25vbmUnOw0KDQogICAgaWYgKHNob3dCdXJuKSBwcmVzZXRCdXJuRm9yU2VsZWN0aW9uKCk7DQogIH0pOw0KDQoNCg0KICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBleFRpZXInKT8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gew0KICAgIHByZXNldEJ1cm5Gb3JTZWxlY3Rpb24oKTsNCiAgfSk7DQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4ZW5mdEJ1cm4nKT8uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7DQogICAgY29uc3QgaHIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRCdXJuSHVtYW4nKTsNCiAgICBpZiAoaHIpIGhyLnRleHRDb250ZW50ID0gZm9ybWF0U2hvcnROdW1iZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0QnVybicpLnZhbHVlKTsNCiAgfSk7DQoNCiAgLy8gSW5saW5lIGhpbnQgZm9yIHdhbGxldCBjb25uZWN0aW9uIG5lYXIgU3RhcnQgTWludGluZyBidXR0b24NCiAgd2luZG93LnVwZGF0ZU1pbnRDb25uZWN0SGludCA9IGZ1bmN0aW9uKCl7DQogICAgY29uc3QgaGludCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW50Q29ubmVjdEhpbnQnKTsNCiAgICBpZiAoIWhpbnQpIHJldHVybjsNCiAgICBjb25zdCBjb25uZWN0ZWQgPSAhIXdpbmRvdy5jb25uZWN0ZWRBY2NvdW50Ow0KICAgIGhpbnQuc3R5bGUuZGlzcGxheSA9IGNvbm5lY3RlZCA/ICdub25lJyA6ICcnOw0KICB9Ow0KICB3aW5kb3cudXBkYXRlTWludENvbm5lY3RIaW50KCk7DQoNCiAgLy8gSW5saW5lIGhpbnQgZm9yIHdhbGxldCBjb25uZWN0aW9uIG5lYXIgU3RhcnQgU3Rha2luZyBidXR0b24NCiAgd2luZG93LnVwZGF0ZVN0YWtlQ29ubmVjdEhpbnQgPSBmdW5jdGlvbigpew0KICAgIGNvbnN0IGhpbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VDb25uZWN0SGludCcpOw0KICAgIGlmICghaGludCkgcmV0dXJuOw0KICAgIGNvbnN0IGNvbm5lY3RlZCA9ICEhd2luZG93LmNvbm5lY3RlZEFjY291bnQ7DQogICAgaGludC5zdHlsZS5kaXNwbGF5ID0gY29ubmVjdGVkID8gJ25vbmUnIDogJyc7DQogIH07DQogIHdpbmRvdy51cGRhdGVTdGFrZUNvbm5lY3RIaW50KCk7DQoNCi8vIGZpcnN0IHJlbmRlcjogbG9hZCBzYXZlZCB0ZXJtIG9yIGZldGNoIGN1cnJlbnQgbWF4IG9uIGZpcnN0IGxvYWQNCiAgKGZ1bmN0aW9uKCl7DQogICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludFRlcm1EYXlzJyk7DQogICAgaWYgKCFlbCkgcmV0dXJuOw0KICAgIGNvbnN0IHNhdmVkID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaW50VGVybURheXMnKSB8fCAnJykudHJpbSgpOw0KICAgIGlmIChzYXZlZCkgew0KICAgICAgZWwudmFsdWUgPSBzYXZlZDsNCiAgICAgIHVwZGF0ZVRlcm1QcmV2aWV3KCk7DQogICAgfSBlbHNlIHsNCiAgICAgIC8vIHRyeSB0byBmZXRjaCBmcm9tIFhFTjsgaWYgaXQgZmFpbHMsIHN0aWxsIHNob3cgcHJldmlldyBmb3IgZGVmYXVsdCB2YWx1ZQ0KICAgICAgc2V0TWF4VGVybUZyb21YRU4oKS5jYXRjaCgoKSA9PiB1cGRhdGVUZXJtUHJldmlldygpKTsNCiAgICB9DQogIH0pKCk7DQoNCiAgLy8gRGVmYXVsdCBzdGFrZSBwcmV2aWV3DQogIChmdW5jdGlvbigpew0KICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlVGVybURheXMnKTsNCiAgICBpZiAoIWVsKSByZXR1cm47DQogICAgZWwudmFsdWUgPSAnMTAwMCc7DQogICAgdXBkYXRlU3Rha2VUZXJtUHJldmlldygpOw0KICB9KSgpOw0KICAvLyBERUxFVEVEOiB1cGRhdGVNaW50R2FzQmFkZ2UoKTsNCiAgLy8gREVMRVRFRDogc2V0SW50ZXJ2YWwodXBkYXRlTWludEdhc0JhZGdlLCA1MDAwKTsNCi8vIGluaXRpYWwgdG9nZ2xlIHN0YXRlDQogIChmdW5jdGlvbigpew0KICAgIGNvbnN0IHNob3cgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRQbGF0Zm9ybScpPy52YWx1ZSA9PT0gJ3hlbmZ0Jyk7DQogICAgY29uc3Qga2luZCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRLaW5kJyk/LnZhbHVlIHx8ICdyZWd1bGFyJyk7DQogICAgY29uc3Qgc2hvd0J1cm4gPSAoa2luZCA9PT0gJ2FwZXgnKTsNCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0T3B0aW9uc1JvdycpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRPcHRpb25zUm93Jykuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnJyA6ICdub25lJzsNCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0QnVybldyYXAnKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0QnVybldyYXAnKS5zdHlsZS5kaXNwbGF5ID0gc2hvd0J1cm4gPyAnJyA6ICdub25lJzsNCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwZXhUaWVyV3JhcCcpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBleFRpZXJXcmFwJykuc3R5bGUuZGlzcGxheSA9IChraW5kID09PSAnYXBleCcpID8gJycgOiAnbm9uZSc7DQogICAgaWYgKHNob3cgJiYgc2hvd0J1cm4pIHByZXNldEJ1cm5Gb3JTZWxlY3Rpb24oKTsNCiAgfSkoKTsNCg0KICAvLyBBY3Rpb24gdG9nZ2xlIChNaW50IHZzIFN0YWtlKQ0KICAoZnVuY3Rpb24oKXsNCiAgICBjb25zdCBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludEFjdGlvbicpOw0KICAgIGNvbnN0IG9uQ2hhbmdlID0gKCkgPT4gew0KICAgICAgY29uc3QgbW9kZSA9IHNlbD8udmFsdWUgfHwgJ21pbnQnOw0KICAgICAgY29uc3Qgc2hvd1N0YWtlID0gKG1vZGUgPT09ICdzdGFrZScpOw0KICAgICAgLy8gSGlkZS9zaG93IG1pbnRpbmcgY29udHJvbHMvYWN0aW9ucyAobm90IHRoZSBhY3Rpb24gc2VsZWN0b3Igcm93KQ0KICAgICAgY29uc3QgbWludEN0cmxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRDb250cm9scycpOw0KICAgICAgaWYgKG1pbnRDdHJscykgbWludEN0cmxzLnN0eWxlLmRpc3BsYXkgPSBzaG93U3Rha2UgPyAnbm9uZScgOiAnJzsNCiAgICAgIGNvbnN0IG1pbnRBY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRBY3Rpb25zJyk7DQogICAgICBpZiAobWludEFjdHMpIG1pbnRBY3RzLnN0eWxlLmRpc3BsYXkgPSBzaG93U3Rha2UgPyAnbm9uZScgOiAnJzsNCiAgICAgIC8vIFNob3cvaGlkZSBzdGFrZSBjb250cm9scy9hY3Rpb25zDQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VDb250cm9scycpLnN0eWxlLmRpc3BsYXkgPSBzaG93U3Rha2UgPyAnJyA6ICdub25lJzsNCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZUFjdGlvbnMnKS5zdHlsZS5kaXNwbGF5ID0gc2hvd1N0YWtlID8gJycgOiAnbm9uZSc7DQogICAgICBpZiAoc2hvd1N0YWtlKSBwcmVmaWxsU3Rha2VBbW91bnRGcm9tQmFsYW5jZSgpOw0KICAgIH07DQogICAgaWYgKHNlbCkgeyBzZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgb25DaGFuZ2UpOyBvbkNoYW5nZSgpOyB9DQogIH0pKCk7DQoNCiAgLy8gRXhwb3NlIGhlbHBlcnMgc28gd2FsbGV0IGNvbm5lY3QgZmxvdyBjYW4gdHJpZ2dlciBwcmVmaWxsDQogIHdpbmRvdy5wcmVmaWxsU3Rha2VBbW91bnRGcm9tQmFsYW5jZSA9IHByZWZpbGxTdGFrZUFtb3VudEZyb21CYWxhbmNlOw0KICB3aW5kb3cudXBkYXRlU3Rha2VTdGFydEVuYWJsZWQgPSB1cGRhdGVTdGFrZVN0YXJ0RW5hYmxlZDsNCn0pKCk7DQo=',
        'js/app.js': 'DQovLyAtLS0gTW9iaWxlIFRvb2x0aXAgSGVscGVycyAtLS0NCg0KLy8gQSBzaW5nbGUsIHNoYXJlZCB0aW1lciBmb3IgdGhlIGxvbmctcHJlc3MgZGV0ZWN0aW9uDQpsZXQgbG9uZ1ByZXNzVGltZXI7DQoNCi8qKg0KICogQXR0YWNoZXMgYSBsb25nLXByZXNzIGxpc3RlbmVyIHRvIGFuIGVsZW1lbnQgdG8gc2hvdyBhIG1vYmlsZS1mcmllbmRseSB0b29sdGlwLg0KICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgY2VsbCBlbGVtZW50IHRvIGF0dGFjaCB0aGUgbGlzdGVuZXIgdG8uDQogKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCBjb250ZW50IGZvciB0aGUgdG9vbHRpcC4NCiAqLw0KZnVuY3Rpb24gYWRkTG9uZ1ByZXNzVG9vbHRpcChlbGVtZW50LCB0ZXh0KSB7DQogIGlmICghdGV4dCkgcmV0dXJuOyAvLyBEb24ndCBhdHRhY2ggbGlzdGVuZXJzIGlmIHRoZXJlJ3Mgbm8gdG9vbHRpcCB0ZXh0DQoNCiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKGUpID0+IHsNCiAgICBsb25nUHJlc3NUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgc2hvd01vYmlsZVRvb2x0aXAoZS50YXJnZXQsIHRleHQpOw0KICAgIH0sIDUwMCk7IC8vIDUwMG1zIGZvciBhIGxvbmcgcHJlc3MNCiAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pOw0KDQogIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoKSA9PiB7DQogICAgY2xlYXJUaW1lb3V0KGxvbmdQcmVzc1RpbWVyKTsNCiAgfSk7DQoNCiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoKSA9PiB7DQogICAgY2xlYXJUaW1lb3V0KGxvbmdQcmVzc1RpbWVyKTsNCiAgfSk7DQp9DQoNCi8qKg0KICogRGlzcGxheXMgYW5kIHBvc2l0aW9ucyB0aGUgY3VzdG9tIG1vYmlsZSB0b29sdGlwLg0KICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0RWwgVGhlIGVsZW1lbnQgdGhhdCB3YXMgbG9uZy1wcmVzc2VkLg0KICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gZGlzcGxheS4NCiAqLw0KZnVuY3Rpb24gc2hvd01vYmlsZVRvb2x0aXAodGFyZ2V0RWwsIHRleHQpIHsNCiAgY29uc3QgdG9vbHRpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2JpbGUtdG9vbHRpcCcpOw0KICBpZiAoIXRvb2x0aXApIHJldHVybjsNCg0KICB0b29sdGlwLnRleHRDb250ZW50ID0gdGV4dDsNCiAgdG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCg0KICBjb25zdCByZWN0ID0gdGFyZ2V0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQoNCiAgLy8gUG9zaXRpb24gdG9vbHRpcCBhYm92ZSB0aGUgZWxlbWVudA0KICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHtyZWN0LmxlZnQgKyAocmVjdC53aWR0aCAvIDIpIC0gKHRvb2x0aXAub2Zmc2V0V2lkdGggLyAyKX1weGA7DQogIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7cmVjdC50b3AgLSB0b29sdGlwLm9mZnNldEhlaWdodCAtIDV9cHhgOw0KDQogIC8vIEhpZGUgdGhlIHRvb2x0aXAgYWZ0ZXIgYSBmZXcgc2Vjb25kcyBvciBvbiB0aGUgbmV4dCB0b3VjaA0KICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogIH0sIDMwMDApOyAvLyBIaWRlIGFmdGVyIDMgc2Vjb25kcw0KDQogIGNvbnN0IGhpZGVPbk5leHRUb3VjaCA9ICgpID0+IHsNCiAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhpZGVPbk5leHRUb3VjaCk7DQogIH07DQogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoaWRlT25OZXh0VG91Y2gpOw0KfQ0KDQovLyAtLS0gVEhFTUUgTUFOQUdFTUVOVCAtLS0NCmZ1bmN0aW9uIGdldFN0b3JlZFRoZW1lKCl7DQogIHRyeSB7DQogICAgY29uc3QgdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpOw0KICAgIC8vIEJhY2stY29tcGF0OiB0cmVhdCBsZWdhY3kgJ3N5c3RlbScgYXMgZGFyayBieSBkZWZhdWx0DQogICAgaWYgKHQgPT09ICdzeXN0ZW0nIHx8ICF0KSByZXR1cm4gJ2RhcmsnOw0KICAgIHJldHVybiAodCA9PT0gJ2xpZ2h0JyB8fCB0ID09PSAnZGFyaycgfHwgdCA9PT0gJ3JldHJvJyB8fCB0ID09PSAnbWF0cml4JykgPyB0IDogJ2RhcmsnOw0KICB9IGNhdGNoIHsgcmV0dXJuICdkYXJrJzsgfQ0KfQ0KDQpmdW5jdGlvbiBzdG9yZVRoZW1lKHYpew0KICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCAodiA9PT0gJ2xpZ2h0JyB8fCB2ID09PSAncmV0cm8nIHx8IHYgPT09ICdtYXRyaXgnKSA/IHYgOiAnZGFyaycpOyB9IGNhdGNoIHt9DQp9DQoNCmZ1bmN0aW9uIGlzU3lzdGVtRGFyaygpew0KICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzOw0KfQ0KDQpmdW5jdGlvbiBlZmZlY3RpdmVUaGVtZShtb2RlKXsNCiAgLy8gTm8gbW9yZSAnc3lzdGVtJyBpbiBVSTsga2VlcCBmYWxsYmFjayBqdXN0IGluIGNhc2UgaW1wb3J0cyBjb250YWluIGl0DQogIGlmIChtb2RlID09PSAnc3lzdGVtJykgcmV0dXJuIGlzU3lzdGVtRGFyaygpID8gJ2RhcmsnIDogJ2xpZ2h0JzsNCiAgaWYgKG1vZGUgPT09ICdyZXRybycpIHJldHVybiAncmV0cm8nOw0KICBpZiAobW9kZSA9PT0gJ21hdHJpeCcpIHJldHVybiAnbWF0cml4JzsNCiAgcmV0dXJuIChtb2RlID09PSAnZGFyaycpID8gJ2RhcmsnIDogJ2xpZ2h0JzsNCn0NCg0KZnVuY3Rpb24gYXBwbHlUaGVtZShtb2RlKXsNCiAgY29uc3QgZWZmID0gZWZmZWN0aXZlVGhlbWUobW9kZSk7DQogIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbGlnaHQtbW9kZScsICdkYXJrLW1vZGUnLCAncmV0cm8tbW9kZScsICdtYXRyaXgtbW9kZScpOw0KICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoZWZmICsgJy1tb2RlJyk7DQogIC8vIFRvZ2dsZSBUYWJ1bGF0b3IgZGFyayBDU1MNCiAgdHJ5IHsNCiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYnVsYXRvck1pZG5pZ2h0Q3NzJyk7DQogICAgaWYgKGxpbmspIGxpbmsuZGlzYWJsZWQgPSAhKGVmZiA9PT0gJ2RhcmsnIHx8IGVmZiA9PT0gJ3JldHJvJyB8fCBlZmYgPT09ICdtYXRyaXgnKTsNCiAgfSBjYXRjaCB7fQ0KICAvLyBUb2dnbGUgRmxhdHBpY2tyIGRhcmsgQ1NTDQogIHRyeSB7DQogICAgY29uc3QgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbGF0cGlja3JEYXJrQ3NzJyk7DQogICAgaWYgKGxpbmspIGxpbmsuZGlzYWJsZWQgPSAhKGVmZiA9PT0gJ2RhcmsnIHx8IGVmZiA9PT0gJ3JldHJvJyB8fCBlZmYgPT09ICdtYXRyaXgnKTsNCiAgfSBjYXRjaCB7fQ0KICAvLyBSZS1zdHlsZSBFQ2hhcnRzIGNoYXJ0DQogIHRyeSB7IGlmICh0eXBlb2YgdXBkYXRlVm11Q2hhcnQgPT09ICdmdW5jdGlvbicpIHVwZGF0ZVZtdUNoYXJ0KCk7IH0gY2F0Y2gge30NCiAgLy8gVXBkYXRlIGhlYWRlciBtZW51IFVJIChjdXJyZW50IHRoZW1lIGluZGljYXRvciwgcmFkaW8gc3RhdGUpDQogIHRyeSB7IGlmICh0eXBlb2YgdXBkYXRlVGhlbWVNZW51VUkgPT09ICdmdW5jdGlvbicpIHVwZGF0ZVRoZW1lTWVudVVJKCk7IH0gY2F0Y2gge30NCn0NCg0KLy8gSW5pdGlhbGl6ZSB0aGVtZSBvbiBsb2FkIChyZXNwZWN0IHN0b3JlZCBvciBzeXN0ZW0pDQooZnVuY3Rpb24oKXsNCiAgY29uc3QgbW9kZSA9IGdldFN0b3JlZFRoZW1lKCk7DQogIGFwcGx5VGhlbWUobW9kZSk7DQp9KSgpOw0KDQovLyBLZWVwIGhlYWRlciB0aGVtZSBtZW51IFVJIGluIHN5bmMgd2l0aCBjdXJyZW50IHNldHRpbmcNCmZ1bmN0aW9uIHVwZGF0ZVRoZW1lTWVudVVJKCl7DQogIGNvbnN0IGN1ciA9IGdldFN0b3JlZFRoZW1lKCk7DQogIGNvbnN0IHR4dCA9IChjdXIgPT09ICdsaWdodCcpID8gJ0xpZ2h0JyA6IChjdXIgPT09ICdyZXRybycpID8gJ1JldHJvJyA6IChjdXIgPT09ICdtYXRyaXgnKSA/ICdNYXRyaXgnIDogJ0RhcmsnOw0KICBjb25zdCBjdXJFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZU1lbnVDdXJyZW50Jyk7DQogIGlmIChjdXJFbCkgY3VyRWwudGV4dENvbnRlbnQgPSB0eHQ7DQogIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2hlYWRlck1lbnUgLm1lbnUtaXRlbVtkYXRhLXRoZW1lXScpOw0KICBpdGVtcy5mb3JFYWNoKGJ0biA9PiB7DQogICAgY29uc3Qgb24gPSAoYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScpID09PSBjdXIpOw0KICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsIG9uID8gJ3RydWUnIDogJ2ZhbHNlJyk7DQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBidWlsZEVzdFhlblRvb2x0aXAocm93LCBlc3ROdW1iZXIpew0KICBjb25zdCBPTkVfRVRIRVIgPSAxXzAwMF8wMDBfMDAwXzAwMF8wMDBfMDAwbjsNCiAgY29uc3QgaGFzUHJpY2UgPSBOdW1iZXIuaXNGaW5pdGUoeGVuVXNkUHJpY2UpOw0KICBjb25zdCB1c2RTdHIgPSAobikgPT4gaGFzUHJpY2UgPyBgICgke2Zvcm1hdFVTRChuICogeGVuVXNkUHJpY2UpfSlgIDogIiI7DQoNCiAgLy8gU3Rha2UgLyBTdGFrZSBYRU5GVCBicmVha2Rvd24gd2l0aCAkIHZhbHVlcw0KICBpZiAocm93Py5Tb3VyY2VUeXBlID09PSAiU3Rha2UiIHx8IHJvdz8uU291cmNlVHlwZSA9PT0gIlN0YWtlIFhFTkZUIikgew0KICAgIGNvbnN0IGIgPSBzdGFrZUVzdEJyZWFrZG93bihyb3cpOw0KICAgIGlmIChiKSB7DQogICAgICBjb25zdCB0b1RvayA9ICh4KSA9PiBOdW1iZXIoeCAvIGIuT05FX0VUSEVSKTsNCiAgICAgIGNvbnN0IGZtdFRvayA9IChuKSA9PiBuLnRvTG9jYWxlU3RyaW5nKCk7DQogICAgICBjb25zdCBmbXRVc2QgPSAobikgPT4NCiAgICAgICAgKHR5cGVvZiB4ZW5Vc2RQcmljZSA9PT0gJ251bWJlcicgJiYgeGVuVXNkUHJpY2UgPiAwKQ0KICAgICAgICAgID8gYCAoJHtmb3JtYXRVU0QobiAqIHhlblVzZFByaWNlKX0pYA0KICAgICAgICAgIDogJyc7DQoNCiAgICAgIGNvbnN0IHByaW5jaXBhbFRvayA9IHRvVG9rKGIuYW1vdW50KTsNCiAgICAgIGNvbnN0IHJld2FyZFRvayAgICA9IHRvVG9rKGIucmV3YXJkKTsNCiAgICAgIGNvbnN0IHRvdGFsVG9rICAgICA9IHRvVG9rKGIudG90YWwpOw0KDQogICAgICByZXR1cm4gYCR7cm93LlNvdXJjZVR5cGV9DQpQcmluY2lwYWw6ICR7Zm10VG9rKHByaW5jaXBhbFRvayl9JHtmbXRVc2QocHJpbmNpcGFsVG9rKX0NCkFQWTogJHtiLmFweX0lLCBUZXJtOiAke2IudGVybURheXN9ZA0KUmV3YXJkOiAke2ZtdFRvayhyZXdhcmRUb2spfSR7Zm10VXNkKHJld2FyZFRvayl9DQpUb3RhbDogJHtmbXRUb2sodG90YWxUb2spfSR7Zm10VXNkKHRvdGFsVG9rKX1gOw0KICAgIH0NCiAgICAvLyBObyBicmVha2Rvd24g4oaSIGp1c3QgdHlwZQ0KICAgIHJldHVybiByb3cuU291cmNlVHlwZSB8fCAiIjsNCiAgfQ0KDQogIC8vIENvaW50b29sIC8gWEVORlQgc2ltcGxlIHJld2FyZCB0b29sdGlwIHdpdGggJCB2YWx1ZXMNCiAgY29uc3QgZXN0ID0gTnVtYmVyKGVzdE51bWJlciB8fCAwKTsNCiAgY29uc3QgbGFiZWwgPSAocm93Py5Tb3VyY2VUeXBlID09PSAiWEVORlQiKSA/ICJYRU5GVCIgOiAiQ29pbnRvb2wiOw0KICByZXR1cm4gYCR7bGFiZWx9DQpNaW50IFJld2FyZDogJHtlc3QudG9Mb2NhbGVTdHJpbmcoKX0ke3VzZFN0cihlc3QpfWA7DQp9DQoNCg0KLyogLS0tIE5FVzogc2ltcGxlIHRhYiBzd2l0Y2hlciAoRGFzaGJvYXJkIC8gU2V0dGluZ3MpIC0tLSAqLw0KKGZ1bmN0aW9uIGluaXRUYWJzKCl7DQogIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJ1dHRvbicpOw0KICBjb25zdCBwYW5lbHMgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1wYW5lbCcpOw0KICBpZiAoIWJ1dHRvbnMubGVuZ3RoIHx8ICFwYW5lbHMubGVuZ3RoKSByZXR1cm47DQoNCiAgZnVuY3Rpb24gc2V0QXJpYUZvckJ1dHRvbnMoYWN0aXZlSWQpew0KICAgIHRyeSB7DQogICAgICBidXR0b25zLmZvckVhY2goYnRuID0+IHsNCiAgICAgICAgY29uc3Qgb24gPSAoYnRuLmRhdGFzZXQudGFyZ2V0ID09PSBhY3RpdmVJZCk7DQogICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBvbiA/ICd0cnVlJyA6ICdmYWxzZScpOw0KICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgb24pOw0KICAgICAgfSk7DQogICAgfSBjYXRjaCB7fQ0KICB9DQoNCiAgZnVuY3Rpb24gc2V0QXJpYUZvclBhbmVscyhhY3RpdmVJZCl7DQogICAgdHJ5IHsNCiAgICAgIHBhbmVscy5mb3JFYWNoKHAgPT4gew0KICAgICAgICBjb25zdCBvbiA9IChwLmlkID09PSBhY3RpdmVJZCk7DQogICAgICAgIHAuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgb24pOw0KICAgICAgICAvLyBPcHRpb25hbDogaGlkZSBpbmFjdGl2ZSBwYW5lbHMgZnJvbSBBVHMgd2l0aG91dCByZW1vdmluZyBmcm9tIHRhYiBvcmRlcg0KICAgICAgICBwLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCBvbiA/ICdmYWxzZScgOiAndHJ1ZScpOw0KICAgICAgfSk7DQogICAgfSBjYXRjaCB7fQ0KICB9DQoNCiAgZnVuY3Rpb24gcGVyc2lzdEFjdGl2ZVRhYihpZCl7DQogICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVRhYklkJywgaWQpOyB9IGNhdGNoIHt9DQogIH0NCg0KICBmdW5jdGlvbiBnZXRTdG9yZWRBY3RpdmVUYWIoKXsNCiAgICB0cnkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVRhYklkJykgfHwgJ3RhYi1kYXNoYm9hcmQnOyB9IGNhdGNoIHsgcmV0dXJuICd0YWItZGFzaGJvYXJkJzsgfQ0KICB9DQoNCiAgZnVuY3Rpb24gc2hvdyhpZCl7DQogICAgc2V0QXJpYUZvclBhbmVscyhpZCk7DQogICAgc2V0QXJpYUZvckJ1dHRvbnMoaWQpOw0KICAgIHBlcnNpc3RBY3RpdmVUYWIoaWQpOw0KICAgIHRyeSB7IGVuc3VyZVByaXZhY3lDb25zZW50T25TZXR0aW5ncyhpZCk7IH0gY2F0Y2gge30NCiAgICB0cnkgeyBpZiAoaWQgPT09ICd0YWItYWJvdXQnKSBlbnN1cmVBYm91dExvYWRlZCgpOyB9IGNhdGNoIHt9DQogICAgLy8gSWYgdXNlciBuYXZpZ2F0ZWQgdG8gRGFzaGJvYXJkLCBlbnN1cmUgY2hhcnQgaXMgaW5pdGlhbGl6ZWQgYW5kIHNpemVkDQogICAgaWYgKGlkID09PSAndGFiLWRhc2hib2FyZCcpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHdhbnRPcGVuID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2bXVDaGFydEV4cGFuZGVkJykgfHwgJzAnKSA9PT0gJzEnOw0KICAgICAgICAvLyBJZiB3ZSBkZWZlcnJlZCBjaGFydCBpbml0IGVhcmxpZXIsIGF0dGVtcHQgaXQgbm93DQogICAgICAgIGlmIChfdm11Q2hhcnRJbml0UGVuZGluZyAmJiB3YW50T3Blbikgew0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0cnkgeyBzZXRWbXVDaGFydEV4cGFuZGVkU3RhdGUodHJ1ZSk7IF92bXVDaGFydEluaXRQZW5kaW5nID0gZmFsc2U7IH0gY2F0Y2gge30gfSwgMCk7DQogICAgICAgIH0NCiAgICAgICAgLy8gUmVzaXplL3VwZGF0ZSBldmVuIGlmIGFscmVhZHkgaW5pdGlhbGl6ZWQgKGZpeGVzIDBweCBjYW52YXMgYWZ0ZXIgaGlkZGVuIGxheW91dCkNCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsNCiAgICAgICAgICB0cnkgeyBpZiAodm11Q2hhcnQpIHsgdm11Q2hhcnQucmVzaXplKCk7IHVwZGF0ZVZtdUNoYXJ0KCk7IH0gfSBjYXRjaCB7fQ0KICAgICAgICB9KTsNCiAgICAgIH0gY2F0Y2gge30NCiAgICB9DQogIH0NCg0KICAvLyBFeHBvc2UgYSBwcm9ncmFtbWF0aWMgQVBJIGZvciByZXN0b3JpbmcgdmlhIGltcG9ydHMvc2V0dGluZ3MNCiAgd2luZG93LnNldEFjdGl2ZVRhYiA9IGZ1bmN0aW9uKGlkKXsNCiAgICBjb25zdCBwYW5lbEV4aXN0cyA9ICEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KICAgIHNob3cocGFuZWxFeGlzdHMgPyBpZCA6ICd0YWItZGFzaGJvYXJkJyk7DQogIH07DQoNCiAgYnV0dG9ucy5mb3JFYWNoKGIgPT4gYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3coYi5kYXRhc2V0LnRhcmdldCkpKTsNCg0KICAvLyBPbiBmaXJzdCBsb2FkLCByZXN0b3JlIHByZXZpb3VzbHkgYWN0aXZlIHRhYiBpZiBwcmVzZW50DQogIGNvbnN0IGluaXRpYWwgPSBnZXRTdG9yZWRBY3RpdmVUYWIoKTsNCiAgd2luZG93LnNldEFjdGl2ZVRhYihpbml0aWFsKTsNCn0pKCk7DQoNCi8vIC0tLSBQcml2YWN5IG1vZGFsICsgU2V0dGluZ3MgZ3VhcmQgLS0tDQpmdW5jdGlvbiBpc1ByaXZhY3lBY2NlcHRlZCgpew0KICB0cnkgeyByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ByaXZhY3lBY2NlcHRlZCcpID09PSAnMSc7IH0gY2F0Y2ggeyByZXR1cm4gZmFsc2U7IH0NCn0NCg0KZnVuY3Rpb24gc2V0U2V0dGluZ3NUZXh0SW5wdXRzRW5hYmxlZChlbmFibGVkKXsNCiAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWItc2V0dGluZ3MnKTsNCiAgaWYgKCFyb290KSByZXR1cm47DQogIGNvbnN0IHNlbCA9ICcjdGFiLXNldHRpbmdzIGlucHV0W3R5cGU9InRleHQiXSwgI3RhYi1zZXR0aW5ncyBpbnB1dFt0eXBlPSJudW1iZXIiXSwgI3RhYi1zZXR0aW5ncyB0ZXh0YXJlYSwgI3RhYi1zZXR0aW5ncyBzZWxlY3QnOw0KICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbCkuZm9yRWFjaChlbCA9PiB7DQogICAgdHJ5IHsgZWwuZGlzYWJsZWQgPSAhZW5hYmxlZDsgfSBjYXRjaCB7fQ0KICB9KTsNCn0NCg0KZnVuY3Rpb24gb3BlblByaXZhY3lNb2RhbCgpew0KICBjb25zdCBtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaXZhY3lNb2RhbCcpOw0KICBpZiAoIW0pIHJldHVybjsNCiAgbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsNCiAgbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7DQp9DQoNCmZ1bmN0aW9uIGNsb3NlUHJpdmFjeU1vZGFsKCl7DQogIGNvbnN0IG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpdmFjeU1vZGFsJyk7DQogIGlmICghbSkgcmV0dXJuOw0KICBtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOw0KICBtLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpOw0KfQ0KDQpmdW5jdGlvbiBhY2NlcHRQcml2YWN5KCl7DQogIHRyeSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcml2YWN5QWNjZXB0ZWQnLCAnMScpOyB9IGNhdGNoIHt9DQogIHNldFNldHRpbmdzVGV4dElucHV0c0VuYWJsZWQodHJ1ZSk7DQogIGNsb3NlUHJpdmFjeU1vZGFsKCk7DQp9DQoNCmZ1bmN0aW9uIGRlY2xpbmVQcml2YWN5KCl7DQogIC8vIENsZWFyIGNvbnNlbnQgYW5kIHJlLWRpc2FibGUgaW50ZXJhY3RpdmUgc2V0dGluZ3MNCiAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByaXZhY3lBY2NlcHRlZCcsICcwJyk7IH0gY2F0Y2gge30NCiAgc2V0U2V0dGluZ3NUZXh0SW5wdXRzRW5hYmxlZChmYWxzZSk7DQogIGNsb3NlUHJpdmFjeU1vZGFsKCk7DQp9DQoNCmZ1bmN0aW9uIGVuc3VyZVByaXZhY3lDb25zZW50T25TZXR0aW5ncyhjdXJyZW50VGFiSWQpew0KICBpZiAoY3VycmVudFRhYklkICE9PSAndGFiLXNldHRpbmdzJykgcmV0dXJuOw0KICBpZiAoIWlzUHJpdmFjeUFjY2VwdGVkKCkpIHsNCiAgICBzZXRTZXR0aW5nc1RleHRJbnB1dHNFbmFibGVkKGZhbHNlKTsNCiAgICBvcGVuUHJpdmFjeU1vZGFsKCk7DQogIH0gZWxzZSB7DQogICAgc2V0U2V0dGluZ3NUZXh0SW5wdXRzRW5hYmxlZCh0cnVlKTsNCiAgfQ0KfQ0KDQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gew0KICAvLyBGb290ZXIgeWVhcg0KICB0cnkgeyBjb25zdCB5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvcHlyaWdodFllYXInKTsgaWYgKHkpIHkudGV4dENvbnRlbnQgPSBTdHJpbmcobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpKTsgfSBjYXRjaCB7fQ0KICAvLyBGb290ZXIgcHJpdmFjeSBsaW5rDQogIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpdmFjeUxpbmsnKTsNCiAgaWYgKGxpbmspIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IG9wZW5Qcml2YWN5TW9kYWwoKTsgfSk7DQogIC8vIE1vZGFsIGJ1dHRvbnMNCiAgY29uc3QgYWNjZXB0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaXZhY3lBY2NlcHRCdG4nKTsNCiAgaWYgKGFjY2VwdEJ0bikgYWNjZXB0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWNjZXB0UHJpdmFjeSk7DQogIGNvbnN0IGRlY2xpbmVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpdmFjeURlY2xpbmVCdG4nKTsNCiAgaWYgKGRlY2xpbmVCdG4pIGRlY2xpbmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWNsaW5lUHJpdmFjeSk7DQogIC8vIERlZmVuc2l2ZTogaWYgdXNlciBmb2N1c2VzIGEgc2V0dGluZ3MgZmllbGQgd2l0aG91dCBjb25zZW50LCBibG9jayBhbmQgc2hvdyBtb2RhbA0KICBjb25zdCBzZXR0aW5nc1Jvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFiLXNldHRpbmdzJyk7DQogIGlmIChzZXR0aW5nc1Jvb3QpIHsNCiAgICBzZXR0aW5nc1Jvb3QuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIChlKSA9PiB7DQogICAgICBpZiAoIWlzUHJpdmFjeUFjY2VwdGVkKCkpIHsNCiAgICAgICAgY29uc3QgdCA9IGUudGFyZ2V0Ow0KICAgICAgICBpZiAodCAmJiAodC5tYXRjaGVzKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpKSkgew0KICAgICAgICAgIHRyeSB7IHQuYmx1cigpOyB9IGNhdGNoIHt9DQogICAgICAgICAgc2V0U2V0dGluZ3NUZXh0SW5wdXRzRW5hYmxlZChmYWxzZSk7DQogICAgICAgICAgb3BlblByaXZhY3lNb2RhbCgpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH0NCg0KICAvLyBHbG9iYWwgZ3VhcmQ6IGJsb2NrIGNsaWNrcyBvbiBidXR0b25zL2ludGVyYWN0aXZlIGNvbnRyb2xzIHVudGlsIHByaXZhY3kgYWNjZXB0ZWQNCiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXsNCiAgICB0cnkgew0KICAgICAgaWYgKGlzUHJpdmFjeUFjY2VwdGVkKCkpIHJldHVybjsgLy8gb2sNCiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0Ow0KICAgICAgLy8gQWxsb3cgaW50ZXJhY3Rpb25zIGluc2lkZSB0aGUgcHJpdmFjeSBtb2RhbCBpdHNlbGYNCiAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaXZhY3lNb2RhbCcpOw0KICAgICAgaWYgKG1vZGFsICYmIG1vZGFsLmNvbnRhaW5zKHRhcmdldCkpIHJldHVybjsNCiAgICAgIC8vIEFsbG93IGV4cGxpY2l0IHByaXZhY3kgbGluayB0byBvcGVuIHRoZSBtb2RhbCAod2Ugb3BlbiBpdCBiZWxvdyBhbnl3YXkpDQogICAgICBpZiAodGFyZ2V0ICYmICh0YXJnZXQuaWQgPT09ICdwcml2YWN5TGluaycgfHwgdGFyZ2V0LmNsb3Nlc3QoJyNwcml2YWN5TGluaycpKSkgcmV0dXJuOw0KDQogICAgICBjb25zdCBidXR0b25pc2hTZWwgPSAnYnV0dG9uLCBpbnB1dFt0eXBlPSJidXR0b24iXSwgaW5wdXRbdHlwZT0ic3VibWl0Il0sIC5idG4sIC5idG4tc2Vjb25kYXJ5LCAuYnRuLW1pbnQsIC5idXR0b24tbGlrZSwgLmNoaXAsIC5jbGFpbS1idXR0b24sIC50YWItYnV0dG9uLCAuc3BsaXQtY2FyZXQsIC5jb2xsYXBzaWJsZS10b2dnbGUsIC50b2dnbGUsIFtyb2xlPSJidXR0b24iXSc7DQogICAgICBjb25zdCBmb3JtaXNoU2VsID0gJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0JzsNCiAgICAgIGNvbnN0IGlzQnV0dG9uaXNoID0gISEodGFyZ2V0LmNsb3Nlc3QgJiYgdGFyZ2V0LmNsb3Nlc3QoYnV0dG9uaXNoU2VsKSk7DQogICAgICBjb25zdCBpc0Zvcm1pc2ggPSAhISh0YXJnZXQuY2xvc2VzdCAmJiB0YXJnZXQuY2xvc2VzdChmb3JtaXNoU2VsKSk7DQogICAgICBpZiAoaXNCdXR0b25pc2ggfHwgaXNGb3JtaXNoKSB7DQogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsNCiAgICAgICAgb3BlblByaXZhY3lNb2RhbCgpOw0KICAgICAgfQ0KICAgIH0gY2F0Y2gge30NCiAgfSwgdHJ1ZSk7DQoNCiAgLy8gSWYgQWJvdXQgdGFiIGlzIGFjdGl2ZSBieSBkZWZhdWx0ICh1bmxpa2VseSksIGVuc3VyZSBsb2FkDQogIHRyeSB7DQogICAgY29uc3QgaXNBYm91dEFjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWItYWJvdXQnKT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTsNCiAgICBpZiAoaXNBYm91dEFjdGl2ZSkgZW5zdXJlQWJvdXRMb2FkZWQoKTsNCiAgfSBjYXRjaCB7fQ0KDQogIC8vIEhlYWRlciBtZW51IHdpcmluZyAoVGhlbWUgTGlnaHQvRGFyaykNCiAgdHJ5IHsNCiAgICBjb25zdCB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyTWVudVRvZ2dsZScpOw0KICAgIGNvbnN0IHBhbmVsICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXJNZW51Jyk7DQogICAgZnVuY3Rpb24gY2xvc2VNZW51KCl7DQogICAgICBpZiAoIXBhbmVsKSByZXR1cm47DQogICAgICBwYW5lbC5oaWRkZW4gPSB0cnVlOw0KICAgICAgaWYgKHRvZ2dsZSkgdG9nZ2xlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvcGVuTWVudSgpew0KICAgICAgaWYgKCFwYW5lbCkgcmV0dXJuOw0KICAgICAgcGFuZWwuaGlkZGVuID0gZmFsc2U7DQogICAgICBpZiAodG9nZ2xlKSB0b2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTsNCiAgICAgIHRyeSB7IHVwZGF0ZVRoZW1lTWVudVVJKCk7IH0gY2F0Y2gge30NCiAgICB9DQogICAgZnVuY3Rpb24gdG9nZ2xlTWVudSgpeyBwYW5lbCAmJiAocGFuZWwuaGlkZGVuID8gb3Blbk1lbnUoKSA6IGNsb3NlTWVudSgpKTsgfQ0KICAgIGlmICh0b2dnbGUgJiYgcGFuZWwpIHsNCiAgICAgIHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHRvZ2dsZU1lbnUoKTsgfSk7DQogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7DQogICAgICAgIGlmICghcGFuZWwgfHwgcGFuZWwuaGlkZGVuKSByZXR1cm47DQogICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyTWVudVJvb3QnKTsNCiAgICAgICAgaWYgKHJvb3QgJiYgcm9vdC5jb250YWlucyhlLnRhcmdldCkpIHJldHVybjsgLy8gaW5zaWRlIGNsaWNrDQogICAgICAgIGNsb3NlTWVudSgpOw0KICAgICAgfSk7DQogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsNCiAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgY2xvc2VNZW51KCk7DQogICAgICB9KTsNCiAgICAgIHBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICAgICAgY29uc3QgYnRuID0gZS50YXJnZXQuY2xvc2VzdCAmJiBlLnRhcmdldC5jbG9zZXN0KCcubWVudS1pdGVtJyk7DQogICAgICAgIGlmICghYnRuKSByZXR1cm47DQogICAgICAgIGNvbnN0IHQgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJyk7DQogICAgICAgIGlmICghdCkgcmV0dXJuOw0KICAgICAgICBzdG9yZVRoZW1lKHQpOw0KICAgICAgICBhcHBseVRoZW1lKHQpOw0KICAgICAgICBjbG9zZU1lbnUoKTsNCiAgICAgIH0pOw0KICAgICAgLy8gSW5pdGlhbCBzeW5jDQogICAgICB1cGRhdGVUaGVtZU1lbnVVSSgpOw0KICAgIH0NCiAgfSBjYXRjaCB7fQ0KfSk7DQoNCi8vIC0tLSBBYm91dCB0YWIgbG9hZGVyIC0tLQ0KbGV0IF9hYm91dExvYWRlZCA9IGZhbHNlOw0KYXN5bmMgZnVuY3Rpb24gZW5zdXJlQWJvdXRMb2FkZWQoKXsNCiAgaWYgKF9hYm91dExvYWRlZCkgcmV0dXJuOw0KICBjb25zdCBtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhYm91dE1hcmtkb3duJyk7DQogIGlmICghbW91bnQpIHJldHVybjsNCiAgdHJ5IHsNCiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKCdSRUFETUUubWQnLCBkb2N1bWVudC5iYXNlVVJJKS50b1N0cmluZygpOw0KICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBjYWNoZTogJ25vLXN0b3JlJyB9KTsNCiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdIVFRQICcgKyByZXMuc3RhdHVzKTsNCiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKTsNCiAgICBpZiAod2luZG93Lm1hcmtlZCAmJiB0eXBlb2Ygd2luZG93Lm1hcmtlZC5wYXJzZSA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgbW91bnQuaW5uZXJIVE1MID0gd2luZG93Lm1hcmtlZC5wYXJzZSh0ZXh0KTsNCiAgICB9IGVsc2Ugew0KICAgICAgLy8gRmFsbGJhY2s6IHNob3cgYXMgcHJlZm9ybWF0dGVkIHRleHQNCiAgICAgIG1vdW50LnRleHRDb250ZW50ID0gdGV4dDsNCiAgICB9DQogICAgX2Fib3V0TG9hZGVkID0gdHJ1ZTsNCiAgfSBjYXRjaCAoZSkgew0KICAgIG1vdW50LmlubmVySFRNTCA9ICc8cCBjbGFzcz0ibXV0ZWQiPkZhaWxlZCB0byBsb2FkIFJFQURNRS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci48L3A+JzsNCiAgfQ0KfQ0KDQoNCi8vID09PT09IFJQQyBJbXBvcnRlciAoRXRoZXJldW0gbWFpbm5ldCkgPT09PT0NCg0KLy8gUHVibGljIGxpc3Qgc291cmNlIChDT1JTLWZyaWVuZGx5KS4gQ2hhaW5saXN0IHByb3ZpZGVzIGEgbWFpbnRhaW5lZCBKU09OIG9mIEVWTSBjaGFpbnMuDQpjb25zdCBDSEFJTkxJU1RfSlNPTiA9ICJodHRwczovL2NoYWluaWQubmV0d29yay9jaGFpbnMuanNvbiI7DQoNCi8vIEV4dHJhY3QgaHR0cHMgUlBDcyBmb3IgY2hhaW5JZCAxLCBkcm9wIHBsYWNlaG9sZGVycy9rZXlzLCBwcmVmZXIgcHVibGljIGVuZHBvaW50cw0KZnVuY3Rpb24gZXh0cmFjdE1haW5uZXRSUENzKGpzb24pIHsNCiAgdHJ5IHsNCiAgICBjb25zdCBtYWlubmV0ID0gKGpzb24gfHwgW10pLmZpbmQoYyA9PiBjPy5jaGFpbklkID09PSAxKTsNCiAgICBpZiAoIW1haW5uZXQgfHwgIUFycmF5LmlzQXJyYXkobWFpbm5ldC5ycGMpKSByZXR1cm4gW107DQogICAgcmV0dXJuIG1haW5uZXQucnBjDQogICAgICAuZmlsdGVyKHUgPT4gdHlwZW9mIHUgPT09ICJzdHJpbmciKQ0KICAgICAgLm1hcCh1ID0+IHUudHJpbSgpKQ0KICAgICAgLmZpbHRlcih1ID0+IHUuc3RhcnRzV2l0aCgiaHR0cCIpKSAgICAvLyBvbmx5IGh0dHAvaHR0cHMgKG5vIHdzKQ0KICAgICAgLmZpbHRlcih1ID0+ICF1LmluY2x1ZGVzKCIkeyIpICYmICF1LmluY2x1ZGVzKCJZT1VSLSIpICYmICF1LmluY2x1ZGVzKCJ7SU5GVVJBIikgJiYgIXUuaW5jbHVkZXMoIntBTENIRU1ZIikpDQogICAgICAuZmlsdGVyKHUgPT4gIS9hcGlcLmluZnVyYXxhbGNoZW15YXBpfHF1aWNrbm9kZXxwb2t0XC5uZXR3b3JrL2kudGVzdCh1KSk7IC8vIGF2b2lkIGtleXMvcGFpZCB0ZW1wbGF0ZXMNCiAgfSBjYXRjaCB7DQogICAgcmV0dXJuIFtdOw0KICB9DQp9DQoNCi8vIE1lYXN1cmUgbGF0ZW5jeSBieSBtYWtpbmcgYSBtaW5pbWFsIEpTT04tUlBDIGNhbGwgd2l0aCBhIHNob3J0IHRpbWVvdXQNCmFzeW5jIGZ1bmN0aW9uIHBpbmdScGNMYXRlbmN5KHVybCwgdGltZW91dE1zID0gNDAwMCkgew0KICBjb25zdCBjdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpOw0KICBjb25zdCB0byA9IHNldFRpbWVvdXQoKCkgPT4gY3RybC5hYm9ydCgidGltZW91dCIpLCB0aW1lb3V0TXMpOw0KICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICB0cnkgew0KICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgew0KICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICBoZWFkZXJzOiB7ICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIgfSwNCiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsganNvbnJwYzogIjIuMCIsIGlkOiAxLCBtZXRob2Q6ICJldGhfYmxvY2tOdW1iZXIiLCBwYXJhbXM6IFtdIH0pLA0KICAgICAgc2lnbmFsOiBjdHJsLnNpZ25hbCwNCiAgICAgIG1vZGU6ICJjb3JzIiwNCiAgICB9KTsNCiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCJIVFRQICIgKyByZXMuc3RhdHVzKTsNCiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTsNCiAgICBpZiAoIWRhdGEgfHwgKGRhdGEuZXJyb3IgJiYgIWRhdGEucmVzdWx0KSkgdGhyb3cgbmV3IEVycm9yKGRhdGE/LmVycm9yPy5tZXNzYWdlIHx8ICJiYWQganNvbnJwYyIpOw0KICAgIGNvbnN0IG1zID0gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSAtIHQwKSk7DQogICAgcmV0dXJuIHsgdXJsLCBvazogdHJ1ZSwgbXMgfTsNCiAgfSBjYXRjaCAoZSkgew0KICAgIHJldHVybiB7IHVybCwgb2s6IGZhbHNlLCBtczogSW5maW5pdHksIGVycjogZT8ubWVzc2FnZSB8fCBTdHJpbmcoZSkgfTsNCiAgfSBmaW5hbGx5IHsNCiAgICBjbGVhclRpbWVvdXQodG8pOw0KICB9DQp9DQoNCmZ1bmN0aW9uIHVuaXF1ZVVybHMoYXJyKSB7DQogIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7DQogIGNvbnN0IG91dCA9IFtdOw0KICBmb3IgKGNvbnN0IHJhdyBvZiBhcnIpIHsNCiAgICBpZiAoIXJhdykgY29udGludWU7DQogICAgY29uc3QgdSA9IFN0cmluZyhyYXcpLnRyaW0oKS5yZXBsYWNlKC9cLyskLywiIik7DQogICAgaWYgKCF1KSBjb250aW51ZTsNCiAgICBpZiAoIXNlZW4uaGFzKHUpKSB7IHNlZW4uYWRkKHUpOyBvdXQucHVzaCh1KTsgfQ0KICB9DQogIHJldHVybiBvdXQ7DQp9DQoNCmZ1bmN0aW9uIHNob3dJbXBvcnRTdGF0dXMobXNnLCBraW5kID0gImluZm8iKSB7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFJwY1N0YXR1cyIpOw0KICBpZiAoIWVsKSByZXR1cm47DQogIGVsLnRleHRDb250ZW50ID0gbXNnOw0KICBlbC5jbGFzc0xpc3QudG9nZ2xlKCJlcnJvciIsIGtpbmQgPT09ICJlcnJvciIpOw0KICBlbC5jbGFzc0xpc3QudG9nZ2xlKCJzdWNjZXNzIiwga2luZCA9PT0gInN1Y2Nlc3MiKTsNCn0NCg0KZnVuY3Rpb24gZW5zdXJlSW1wb3J0UHJvZ3Jlc3NVSSgpIHsNCiAgY29uc3QgZmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmllbGQtY3VzdG9tUlBDIik7DQogIGlmICghZmllbGQpIHJldHVybiBudWxsOw0KICBsZXQgd3JhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRScGNQcm9ncmVzcyIpOw0KICBpZiAoIXdyYXApIHsNCiAgICB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgd3JhcC5pZCA9ICJpbXBvcnRScGNQcm9ncmVzcyI7DQogICAgd3JhcC5zdHlsZS5tYXJnaW5Ub3AgPSAiNnB4IjsNCiAgICB3cmFwLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgd3JhcC5pbm5lckhUTUwgPSBgDQogICAgICA8ZGl2IGlkPSJpbXBvcnRScGNQcm9ncmVzc0JhcldyYXAiIHN0eWxlPSJiYWNrZ3JvdW5kOiNlNWU3ZWI7Ym9yZGVyLXJhZGl1czo2cHg7aGVpZ2h0OjhweDttYXgtd2lkdGg6NDgwcHg7b3ZlcmZsb3c6aGlkZGVuOyI+DQogICAgICAgIDxkaXYgaWQ9ImltcG9ydFJwY1Byb2dyZXNzQmFyIiBzdHlsZT0iYmFja2dyb3VuZDojM2I4MmY2O2hlaWdodDoxMDAlO3dpZHRoOjAlO3RyYW5zaXRpb246d2lkdGggLjJzIGVhc2U7Ij48L2Rpdj4NCiAgICAgIDwvZGl2Pg0KICAgICAgPGRpdiBpZD0iaW1wb3J0UnBjUHJvZ3Jlc3NUZXh0IiBjbGFzcz0ic2V0dGluZ3Mtc3RhdHVzIiBzdHlsZT0ibWFyZ2luLXRvcDo0cHg7Ij48L2Rpdj4NCiAgICAgIDxkaXYgaWQ9ImltcG9ydFJwY0FjdGl2ZUxpc3QiIGNsYXNzPSJzZXR0aW5ncy1zdGF0dXMiIHN0eWxlPSJmb250LXNpemU6LjhyZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzOyI+PC9kaXY+DQogICAgYDsNCiAgICAvLyBJbnNlcnQgYWZ0ZXIgc3RhdHVzIGxpbmUNCiAgICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0UnBjU3RhdHVzIik7DQogICAgaWYgKHN0YXR1cyAmJiBzdGF0dXMucGFyZW50Tm9kZSkgew0KICAgICAgc3RhdHVzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXAsIHN0YXR1cy5uZXh0U2libGluZyk7DQogICAgfSBlbHNlIHsNCiAgICAgIGZpZWxkLmFwcGVuZENoaWxkKHdyYXApOw0KICAgIH0NCiAgfQ0KICByZXR1cm4gd3JhcDsNCn0NCg0KZnVuY3Rpb24gc2hvd0ltcG9ydFByb2dyZXNzKCl7DQogIGNvbnN0IHdyYXAgPSBlbnN1cmVJbXBvcnRQcm9ncmVzc1VJKCk7DQogIGlmICghd3JhcCkgcmV0dXJuOw0KICB0cnkgew0KICAgIGNvbnN0IGJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRScGNQcm9ncmVzc0JhciIpOw0KICAgIGlmIChiYXIpIGJhci5zdHlsZS53aWR0aCA9ICIwJSI7DQogICAgY29uc3QgdHh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFJwY1Byb2dyZXNzVGV4dCIpOw0KICAgIGlmICh0eHQpIHR4dC50ZXh0Q29udGVudCA9ICIiOw0KICAgIGNvbnN0IGFjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRScGNBY3RpdmVMaXN0Iik7DQogICAgaWYgKGFjdCkgYWN0LnRleHRDb250ZW50ID0gIiI7DQogICAgd3JhcC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCiAgfSBjYXRjaCB7fQ0KfQ0KDQpmdW5jdGlvbiBoaWRlSW1wb3J0UHJvZ3Jlc3MoKXsNCiAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRScGNQcm9ncmVzcyIpOw0KICBpZiAoIXdyYXApIHJldHVybjsNCiAgdHJ5IHsgd3JhcC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyB9IGNhdGNoIHt9DQp9DQoNCmZ1bmN0aW9uIHVwZGF0ZUltcG9ydFByb2dyZXNzKHsgdG90YWwsIGRvbmUsIGFjdGl2ZSA9IFtdLCBmYWlsZWQgPSAwIH0pIHsNCiAgY29uc3QgYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFJwY1Byb2dyZXNzQmFyIik7DQogIGNvbnN0IHR4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRScGNQcm9ncmVzc1RleHQiKTsNCiAgY29uc3QgYWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFJwY0FjdGl2ZUxpc3QiKTsNCiAgaWYgKGJhcikgew0KICAgIGNvbnN0IHBjdCA9IHRvdGFsID4gMCA/IE1hdGgucm91bmQoKGRvbmUgLyB0b3RhbCkgKiAxMDApIDogMDsNCiAgICBiYXIuc3R5bGUud2lkdGggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHBjdCkpICsgIiUiOw0KICB9DQogIGlmICh0eHQpIHsNCiAgICBjb25zdCBwY3QgPSB0b3RhbCA+IDAgPyBNYXRoLnJvdW5kKChkb25lIC8gdG90YWwpICogMTAwKSA6IDA7DQogICAgdHh0LnRleHRDb250ZW50ID0gYFNjYW5uaW5nIFJQQ3M6ICR7ZG9uZX0vJHt0b3RhbH0gKCR7cGN0fSUpIOKAlCAke2ZhaWxlZH0gZmFpbGVkYDsNCiAgfQ0KICBpZiAoYWN0KSB7DQogICAgY29uc3QgaG9zdHMgPSBhY3RpdmUubWFwKHUgPT4geyB0cnkgeyByZXR1cm4gbmV3IFVSTCh1KS5ob3N0bmFtZTsgfSBjYXRjaCB7IHJldHVybiB1OyB9IH0pOw0KICAgIGFjdC50ZXh0Q29udGVudCA9IGFjdGl2ZS5sZW5ndGggPyBgVGVzdGluZzogJHtob3N0cy5qb2luKCcsICcpfWAgOiAnJzsNCiAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBpbXBvcnRBbmRSYW5rUlBDcygpIHsNCiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFJwY0J0biIpOw0KICBjb25zdCB0YSAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIik7DQogIGlmICghYnRuIHx8ICF0YSkgcmV0dXJuOw0KDQogIGJ0bi5kaXNhYmxlZCA9IHRydWU7DQogIHRyeSB7IGJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtYnVzeScsICd0cnVlJyk7IH0gY2F0Y2gge30NCiAgc2hvd0ltcG9ydFByb2dyZXNzKCk7DQogIHNob3dJbXBvcnRTdGF0dXMoIkZldGNoaW5nIHB1YmxpYyBSUEMgbGlzdOKApiIpOw0KDQogIC8vIDEpIEZldGNoIHB1YmxpYyBSUENzIChDaGFpbmxpc3QpLiBGYWxsYmFjayB0byBhIHNtYWxsIGtub3duIHNldCBpZiBuZWVkZWQuDQogIGxldCBjYW5kaWRhdGVzID0gW107DQogIHRyeSB7DQogICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goQ0hBSU5MSVNUX0pTT04sIHsgbW9kZTogImNvcnMiIH0pOw0KICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpOw0KICAgIGNhbmRpZGF0ZXMgPSBleHRyYWN0TWFpbm5ldFJQQ3MoanNvbik7DQogIH0gY2F0Y2gge30NCiAgaWYgKCFjYW5kaWRhdGVzLmxlbmd0aCkgew0KICAgIGNhbmRpZGF0ZXMgPSBbDQogICAgICAiaHR0cHM6Ly9jbG91ZGZsYXJlLWV0aC5jb20iLA0KICAgICAgImh0dHBzOi8vcnBjLmFua3IuY29tL2V0aCIsDQogICAgICAiaHR0cHM6Ly9ldGhlcmV1bS5wdWJsaWNub2RlLmNvbSINCiAgICBdOw0KICB9DQoNCiAgLy8gMikgTWVyZ2Ugd2l0aCB1c2VyLXByb3ZpZGVkIGxpc3QNCiAgY29uc3QgdXNlckxpc3QgPSB0YS52YWx1ZS5zcGxpdCgiXG4iKS5tYXAocyA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pOw0KICBsZXQgbWVyZ2VkID0gdW5pcXVlVXJscyhbLi4udXNlckxpc3QsIC4uLmNhbmRpZGF0ZXNdKTsNCg0KICAvLyAzKSBQcm9iZSBlYWNoIFJQQyBjb25jdXJyZW50bHkgKGNhcCBjb25jdXJyZW5jeSkgd2l0aCBsaXZlIHByb2dyZXNzDQogIHNob3dJbXBvcnRTdGF0dXMoYFBpbmdpbmcgJHttZXJnZWQubGVuZ3RofSBSUENzIGZvciBsYXRlbmN5ICh0aGlzIHVzZXMgeW91ciBsb2NhbCBuZXR3b3JrKeKApmApOw0KICBjb25zdCByZXN1bHRzID0gW107DQogIGNvbnN0IENPTkNVUlJFTkNZID0gNjsNCiAgbGV0IGluZGV4ID0gMDsNCiAgbGV0IGRvbmUgPSAwOw0KICBsZXQgZmFpbGVkID0gMDsNCiAgY29uc3QgYWN0aXZlID0gbmV3IFNldCgpOw0KICB1cGRhdGVJbXBvcnRQcm9ncmVzcyh7IHRvdGFsOiBtZXJnZWQubGVuZ3RoLCBkb25lLCBhY3RpdmU6IEFycmF5LmZyb20oYWN0aXZlKSwgZmFpbGVkIH0pOw0KICBhc3luYyBmdW5jdGlvbiB3b3JrZXIoKSB7DQogICAgY29uc3QgbXlJZHggPSBpbmRleCsrOw0KICAgIGlmIChteUlkeCA+PSBtZXJnZWQubGVuZ3RoKSByZXR1cm47DQogICAgY29uc3QgdXJsID0gbWVyZ2VkW215SWR4XTsNCiAgICBhY3RpdmUuYWRkKHVybCk7DQogICAgdXBkYXRlSW1wb3J0UHJvZ3Jlc3MoeyB0b3RhbDogbWVyZ2VkLmxlbmd0aCwgZG9uZSwgYWN0aXZlOiBBcnJheS5mcm9tKGFjdGl2ZSksIGZhaWxlZCB9KTsNCiAgICBjb25zdCByID0gYXdhaXQgcGluZ1JwY0xhdGVuY3kodXJsKTsNCiAgICBhY3RpdmUuZGVsZXRlKHVybCk7DQogICAgcmVzdWx0cy5wdXNoKHIpOw0KICAgIGRvbmUgKz0gMTsNCiAgICBpZiAoIXIub2spIGZhaWxlZCArPSAxOw0KICAgIHVwZGF0ZUltcG9ydFByb2dyZXNzKHsgdG90YWw6IG1lcmdlZC5sZW5ndGgsIGRvbmUsIGFjdGl2ZTogQXJyYXkuZnJvbShhY3RpdmUpLCBmYWlsZWQgfSk7DQogICAgLy8ga2VlcCBwdWxsaW5nIG1vcmUgdW50aWwgd2UndmUgY29uc3VtZWQgYWxsDQogICAgaWYgKGluZGV4IDwgbWVyZ2VkLmxlbmd0aCkgYXdhaXQgd29ya2VyKCk7DQogIH0NCiAgYXdhaXQgUHJvbWlzZS5hbGwoQXJyYXkuZnJvbSh7IGxlbmd0aDogTWF0aC5taW4oQ09OQ1VSUkVOQ1ksIG1lcmdlZC5sZW5ndGgpIH0sIHdvcmtlcikpOw0KDQogIC8vIDQpIEtlZXAgb25seSByZWFjaGFibGUsIHNvcnQgYnkgbGF0ZW5jeSBhc2MNCiAgY29uc3QgcmVhY2hhYmxlID0gcmVzdWx0cy5maWx0ZXIociA9PiByLm9rKS5zb3J0KChhLGIpID0+IGEubXMgLSBiLm1zKTsNCg0KICBpZiAoIXJlYWNoYWJsZS5sZW5ndGgpIHsNCiAgICBzaG93SW1wb3J0U3RhdHVzKCJObyByZWFjaGFibGUgUlBDcyBmb3VuZC4gVHJ5IGFnYWluIG9yIGNoZWNrIHlvdXIgY29ubmVjdGlvbi4iLCAiZXJyb3IiKTsNCiAgICBoaWRlSW1wb3J0UHJvZ3Jlc3MoKTsNCiAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTsNCiAgICByZXR1cm47DQogIH0NCg0KICAvLyA1KSBXcml0ZSBiYWNrIHRvIHRleHRhcmVhIChmYXN0ZXN0IC0+IHNsb3dlc3QpLCBwZXJzaXN0LCB1cGRhdGUgVUkNCiAgY29uc3Qgc29ydGVkID0gcmVhY2hhYmxlLm1hcChyID0+IHIudXJsKTsNCiAgdGEudmFsdWUgPSBzb3J0ZWQuam9pbigiXG4iKTsNCiAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1c3RvbVJQQyIsIHRhLnZhbHVlKTsgfSBjYXRjaCB7fQ0KICBzaG93SW1wb3J0U3RhdHVzKGBJbXBvcnRlZCAke3NvcnRlZC5sZW5ndGh9IFJQQ3MuIEZhc3Rlc3QgaXMgfiR7cmVhY2hhYmxlWzBdLm1zfSBtcy5gLCAic3VjY2VzcyIpOw0KDQogIC8vIFJlLXZhbGlkYXRlIHRoZSByZXF1aXJlZCBmaWVsZCAmIGFueSBmZWF0dXJlIGRlcGVuZGluZyBvbiBSUEMgbGlzdA0KICBpZiAodHlwZW9mIG1hcmtWYWxpZGl0eSA9PT0gImZ1bmN0aW9uIikgew0KICAgIG1hcmtWYWxpZGl0eSgiZmllbGQtY3VzdG9tUlBDIiwgISFzb3J0ZWQubGVuZ3RoKTsNCiAgfQ0KICBpZiAodHlwZW9mIHZhbGlkYXRlSW5wdXRzID09PSAiZnVuY3Rpb24iKSB7DQogICAgdHJ5IHsgdmFsaWRhdGVJbnB1dHMoKTsgfSBjYXRjaCB7fQ0KICB9DQoNCiAgLy8gQ29tcGxldGUgcHJvZ3Jlc3MNCiAgdXBkYXRlSW1wb3J0UHJvZ3Jlc3MoeyB0b3RhbDogMSwgZG9uZTogMSwgYWN0aXZlOiBbXSwgZmFpbGVkOiAwIH0pOw0KICBoaWRlSW1wb3J0UHJvZ3Jlc3MoKTsNCiAgdHJ5IHsgYnRuLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1idXN5Jyk7IH0gY2F0Y2gge30NCiAgYnRuLmRpc2FibGVkID0gZmFsc2U7DQp9DQoNCi8vIENoZWNrIGlmIHdlIHNob3VsZCBhdXRvLXJ1biBSUEMgaW1wb3J0IG9uIHBhZ2UgbG9hZA0KZnVuY3Rpb24gY2hlY2tBdXRvSW1wb3J0UlBDcygpIHsNCiAgY29uc3QgdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIik7DQogIGlmICghdGEpIHJldHVybjsNCiAgDQogIC8vIEdldCB0aGUgY3VycmVudCBSUEMgbGlzdA0KICBjb25zdCBycGNMaXN0ID0gdGEudmFsdWUuc3BsaXQoIlxuIikubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTsNCiAgDQogIC8vIE9ubHkgYXV0by1ydW4gaWYgdGhlcmUncyBleGFjdGx5IG9uZSBSUEMNCiAgaWYgKHJwY0xpc3QubGVuZ3RoID09PSAxKSB7DQogICAgLy8gU21hbGwgZGVsYXkgdG8gZW5zdXJlIHBhZ2UgaXMgZnVsbHkgbG9hZGVkDQogICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICBpbXBvcnRBbmRSYW5rUlBDcygpOw0KICAgIH0sIDUwMCk7DQogIH0NCn0NCg0KLy8gV2lyZSB1cCB0aGUgYnV0dG9uDQp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsICgpID0+IHsNCiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFJwY0J0biIpOw0KICBpZiAoYnRuKSBidG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBpbXBvcnRBbmRSYW5rUlBDcyk7DQp9KTsNCg0KDQovLyAtLS0gQ29pblRvb2wgKyBYRU4gKEVUSCBtYWlubmV0KSBjb25zdGFudHMgdXNlZCBieSB0aGUgUHl0aG9uIHNjcmlwdCAtLS0NCmxldCBFVEhFUlNDQU5fQ0hBSU5fSUQgPSAxOyAvLyBkZWZhdWx0IHRvIG1haW5uZXQ7IHdlIG92ZXJ3cml0ZSBhdCBzY2FuIHN0YXJ0DQpjb25zdCBDT0lOVE9PTF9NQUlOID0gJzB4MGRlOGJmOTNkYTJmN2VlY2IzZDkxNjk0MjI0MTNhOWJlZjRlZjYyOCc7IC8vIHlvdSBhbHJlYWR5IHVzZSB0aGlzIGFzIENPTlRSQUNUX0FERFJFU1MNCmNvbnN0IFhFTl9FVEggICAgICAgPSAnMHgwNjQ1MGRFZTdGRDJGYjhFMzkwNjE0MzRCQWJDRkMwNTU5OWE2RmI4JzsNCmNvbnN0IHNlbGVjdGVkUm93cyA9IG5ldyBTZXQoKTsNCi8vIFRoaXMgYWRkcmVzcyBpcyBoYXJkLWNvZGVkIGluIHRoZSBQeXRob24gcmVtaW50IHBhdGgNCmNvbnN0IFJFTUlOVF9IRUxQRVIgPSAnMHhjN2JhOTQxMjM0NjQxMDVhNDJmMGY2YzQwOTNmMGIxNmE1Y2U1Yzk4JzsNCi8vIFNhZmV0eSBjYXA6IENvaW5Ub29sIGNhbiBoYW5kbGUgdXAgdG8gdGhpcyBtYW55IFZNVXMgcGVyIHR4DQpjb25zdCBNQVhfVk1VX1BFUl9UWCA9IDEyODsNCmNvbnN0IGJsb2NrVHNDYWNoZSA9IG5ldyBNYXAoKTsNCi8vIFNtYWxsIGRhdGUgZm9ybWF0dGVyIGZvciByZW1pbnQgZGlhbG9nDQpmdW5jdGlvbiBfZm9ybWF0UmVtaW50RGF0ZSh0ZXJtRGF5cyl7DQogIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7DQogIGNvbnN0IG1zICA9IE1hdGgubWF4KDAsIE51bWJlcih0ZXJtRGF5cykgfHwgMCkgKiAyNCAqIDYwICogNjAgKiAxMDAwOw0KICBjb25zdCBkdCAgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgbXMpOw0KICByZXR1cm4gZHQudG9Mb2NhbGVEYXRlU3RyaW5nKHVuZGVmaW5lZCwgeyB3ZWVrZGF5OiAnc2hvcnQnLCB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnc2hvcnQnLCBkYXk6ICdudW1lcmljJyB9KTsNCn0NCg0KLy8gUmVhZC1vbmx5IGNhbGwgdG8gWEVOLmdldEN1cnJlbnRNYXhUZXJtKCkg4oaSIGRheXMNCmFzeW5jIGZ1bmN0aW9uIGZldGNoQ3VycmVudE1heFRlcm1EYXlzKCl7DQogIHRyeSB7DQogICAgY29uc3QgcnBjcyA9ICh0eXBlb2YgZ2V0UnBjTGlzdCA9PT0gJ2Z1bmN0aW9uJykgPyBnZXRScGNMaXN0KCkgOiBbREVGQVVMVF9SUENdOw0KICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IFdlYjMocnBjc1swXSB8fCBERUZBVUxUX1JQQyk7DQogICAgY29uc3QgeGVuID0gbmV3IHByb3ZpZGVyLmV0aC5Db250cmFjdCh3aW5kb3cueGVuQWJpLCBYRU5fRVRIKTsNCiAgICBjb25zdCBzZWNzID0gYXdhaXQgeGVuLm1ldGhvZHMuZ2V0Q3VycmVudE1heFRlcm0oKS5jYWxsKCk7DQogICAgY29uc3QgZGF5cyA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoTnVtYmVyKHNlY3MpIC8gODY0MDApKTsNCiAgICByZXR1cm4gZGF5czsNCiAgfSBjYXRjaCAoXykgew0KICAgIHJldHVybiBudWxsOw0KICB9DQp9DQoNCi8vIE1vZGFsIGRpYWxvZyB0byBwaWNrIHJlbWludCB0ZXJtIHdpdGggbGl2ZSBkYXRlIHByZXZpZXcgYW5kIE1heCBUZXJtIGZldGNoDQpmdW5jdGlvbiBvcGVuUmVtaW50VGVybURpYWxvZygpew0KICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICBjb25zdCBleGlzdGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1pbnRNb2RhbCcpOw0KICAgIGlmIChleGlzdGluZykgZXhpc3RpbmcucmVtb3ZlKCk7DQoNCiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgIG1vZGFsLmlkID0gJ3JlbWludE1vZGFsJzsNCiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwnOw0KICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgncm9sZScsICdkaWFsb2cnKTsNCiAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsICdyZW1pbnRNb2RhbFRpdGxlJyk7DQogICAgbW9kYWwuaW5uZXJIVE1MID0gYA0KICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+DQogICAgICAgIDxoMyBpZD0icmVtaW50TW9kYWxUaXRsZSIgc3R5bGU9Im1hcmdpbjowIDAgOHB4IDA7Ij5SZW1pbnQgVGVybTwvaDM+DQogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBnYXA6MTBweDsgbWFyZ2luLWJvdHRvbTo2cHg7Ij4NCiAgICAgICAgICA8aW5wdXQgaWQ9InJlbWludFRlcm1JbnB1dCIgdHlwZT0ibnVtYmVyIiBtaW49IjEiIHN0ZXA9IjEiIHN0eWxlPSJ3aWR0aDoxMDBweDsgcGFkZGluZzo2cHggOHB4OyIgLz4NCiAgICAgICAgICA8YnV0dG9uIGlkPSJyZW1pbnRTZXRNYXhCdG4iIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0bi1zZWNvbmRhcnkiPlNldCBNYXggVGVybTwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBpZD0icmVtaW50RGF0ZVByZXZpZXciIGNsYXNzPSJtdXRlZCIgYXJpYS1saXZlPSJwb2xpdGUiPjwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4OyI+DQogICAgICAgICAgPGJ1dHRvbiBpZD0icmVtaW50T2tCdG4iIHR5cGU9ImJ1dHRvbiI+T0s8L2J1dHRvbj4NCiAgICAgICAgICA8YnV0dG9uIGlkPSJyZW1pbnRDYW5jZWxCdG4iIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InNlY29uZGFyeSI+Q2FuY2VsPC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+YDsNCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsNCg0KICAgIGNvbnN0IGlucHV0ID0gbW9kYWwucXVlcnlTZWxlY3RvcignI3JlbWludFRlcm1JbnB1dCcpOw0KICAgIGNvbnN0IGJ0bk1heCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNyZW1pbnRTZXRNYXhCdG4nKTsNCiAgICBjb25zdCBwcmV2ID0gbW9kYWwucXVlcnlTZWxlY3RvcignI3JlbWludERhdGVQcmV2aWV3Jyk7DQogICAgY29uc3Qgb2sgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjcmVtaW50T2tCdG4nKTsNCiAgICBjb25zdCBjYW5jZWwgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjcmVtaW50Q2FuY2VsQnRuJyk7DQoNCiAgICAvLyBEZWZhdWx0IGZyb20gTWludCB0YWIgb3Igc2F2ZWQgdmFsdWUNCiAgICBjb25zdCBtaW50VmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnRUZXJtRGF5cycpPy52YWx1ZSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWludFRlcm1EYXlzJykgfHwgJzEwMCc7DQogICAgaW5wdXQudmFsdWUgPSBTdHJpbmcoTWF0aC5tYXgoMSwgcGFyc2VJbnQobWludFZhbCwgMTApIHx8IDEwMCkpOw0KDQogICAgbGV0IG1heERheXMgPSBudWxsOyAvLyB1bmtub3duIHVudGlsIHVzZXIgY2xpY2tzIFNldCBUZXJtDQogICAgY29uc3QgdXBkYXRlUHJldmlldyA9ICgpID0+IHsgcHJldi50ZXh0Q29udGVudCA9IF9mb3JtYXRSZW1pbnREYXRlKHBhcnNlSW50KGlucHV0LnZhbHVlLCAxMCkgfHwgMCk7IH07DQogICAgY29uc3QgY2xhbXAgPSAoKSA9PiB7DQogICAgICBsZXQgdiA9IE1hdGgubWF4KDEsIHBhcnNlSW50KGlucHV0LnZhbHVlLCAxMCkgfHwgMSk7DQogICAgICBpZiAobWF4RGF5cyAhPSBudWxsKSB2ID0gTWF0aC5taW4odiwgbWF4RGF5cyk7DQogICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyh2KTsNCiAgICAgIHVwZGF0ZVByZXZpZXcoKTsNCiAgICB9Ow0KICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgY2xhbXApOw0KICAgIHVwZGF0ZVByZXZpZXcoKTsNCg0KICAgIGJ0bk1heC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHsNCiAgICAgIGJ0bk1heC5kaXNhYmxlZCA9IHRydWU7DQogICAgICBjb25zdCBkYXlzID0gYXdhaXQgZmV0Y2hDdXJyZW50TWF4VGVybURheXMoKTsNCiAgICAgIGJ0bk1heC5kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgaWYgKGRheXMgJiYgTnVtYmVyLmlzRmluaXRlKGRheXMpKSB7DQogICAgICAgIG1heERheXMgPSBkYXlzOw0KICAgICAgICBpbnB1dC52YWx1ZSA9IFN0cmluZyhkYXlzKTsNCiAgICAgICAgdXBkYXRlUHJldmlldygpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCByZXRyaWV2ZSBtYXggdGVybS4gQ2hlY2sgUlBDIHNldHRpbmdzLicpOw0KICAgICAgfQ0KICAgIH0pOw0KDQogICAgZnVuY3Rpb24gZG9uZSh2YWwpew0KICAgICAgbW9kYWwucmVtb3ZlKCk7DQogICAgICByZXNvbHZlKHZhbCk7DQogICAgfQ0KICAgIGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGRvbmUobnVsbCkpOw0KICAgIG9rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4gew0KICAgICAgbGV0IHYgPSBNYXRoLm1heCgxLCBwYXJzZUludChpbnB1dC52YWx1ZSwgMTApIHx8IDEpOw0KICAgICAgLy8gRW5zdXJlIHdlIGRvIG5vdCBleGNlZWQgY3VycmVudCBtYXg7IGZldGNoIGlmIHVua25vd24NCiAgICAgIGlmIChtYXhEYXlzID09IG51bGwpIHsNCiAgICAgICAgdHJ5IHsgbWF4RGF5cyA9IGF3YWl0IGZldGNoQ3VycmVudE1heFRlcm1EYXlzKCk7IH0gY2F0Y2gge30NCiAgICAgIH0NCiAgICAgIGlmIChtYXhEYXlzICE9IG51bGwgJiYgdiA+IG1heERheXMpIHYgPSBtYXhEYXlzOw0KICAgICAgZG9uZSh2KTsNCiAgICB9KTsNCiAgfSk7DQp9DQoNCi8vIFNlbmQgQ29pblRvb2wgdHJhbnNhY3Rpb24ocykgZm9yIGdpdmVuIGlkcywgcmVzcGVjdGluZyBwZXItdHggVk1VIGNhcA0KYXN5bmMgZnVuY3Rpb24gc2VuZENvaW50b29sVHgoeyBpZHMsIGRhdGFIZXgsIHNhbHQsIHczLCBtaW50RGF0YSwgYWN0aW9uIH0pIHsNCiAgaWYgKCFBcnJheS5pc0FycmF5KGlkcykgfHwgaWRzLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKCdObyBWTVUgaWRzJyk7DQogIGlmICghdzMgfHwgIWNvbm5lY3RlZEFjY291bnQpIHRocm93IG5ldyBFcnJvcignV2FsbGV0IG5vdCBjb25uZWN0ZWQnKTsNCg0KICBjb25zdCBjID0gbmV3IHczLmV0aC5Db250cmFjdChjb2ludG9vbEFiaSwgQ09JTlRPT0xfTUFJTik7DQogIGNvbnN0IHVuaXEgPSBBcnJheS5mcm9tKG5ldyBTZXQoaWRzKSkuc29ydCgoYSxiKT0+YS1iKTsNCg0KICAvLyBJZiBleGNlZWRzIGNhcCwgYWxlcnQgb25jZSB3aXRoIHBsYW5uZWQgdHggY291bnQNCiAgaWYgKHVuaXEubGVuZ3RoID4gTUFYX1ZNVV9QRVJfVFgpIHsNCiAgICBjb25zdCB0eENvdW50ID0gTWF0aC5jZWlsKHVuaXEubGVuZ3RoIC8gTUFYX1ZNVV9QRVJfVFgpOw0KICAgIGFsZXJ0KGBUaGlzIG1pbnQgaGFzICR7dW5pcS5sZW5ndGh9IFZNVXMuIFRoZSBjb250cmFjdCBhbGxvd3MgdXAgdG8gJHtNQVhfVk1VX1BFUl9UWH0gVk1VcyBwZXIgdHJhbnNhY3Rpb24uIFlvdXIgcmVxdWVzdCB3aWxsIGJlIHNlbnQgaW4gJHt0eENvdW50fSB0cmFuc2FjdGlvbihzKS5gKTsNCiAgfQ0KDQogIGZvciAobGV0IGkgPSAwOyBpIDwgdW5pcS5sZW5ndGg7IGkgKz0gTUFYX1ZNVV9QRVJfVFgpIHsNCiAgICBjb25zdCBjaHVuayA9IHVuaXEuc2xpY2UoaSwgaSArIE1BWF9WTVVfUEVSX1RYKTsNCiAgICB0cnkgew0KICAgICAgY29uc3QgdHggPSBhd2FpdCBjLm1ldGhvZHMuZihjaHVuaywgZGF0YUhleCwgc2FsdCkuc2VuZCh7IGZyb206IGNvbm5lY3RlZEFjY291bnQgfSk7DQogICAgICBjb25zdCBtc2cgPSBgJHthY3Rpb24gfHwgJ2NsYWltJ30gJHtjaHVuay5sZW5ndGh9IFZNVXM6ICR7dHgudHJhbnNhY3Rpb25IYXNofWA7DQogICAgICBpZiAodHlwZW9mIHNob3dUb2FzdCA9PT0gJ2Z1bmN0aW9uJykgc2hvd1RvYXN0KG1zZywgJ3N1Y2Nlc3MnKTsgZWxzZSBhbGVydChtc2cpOw0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgY29uc29sZS5lcnJvcihlcnIpOw0KICAgICAgYWxlcnQoZXJyPy5tZXNzYWdlIHx8IGBDb2luVG9vbCAke2FjdGlvbiB8fCAnY2xhaW0nfSBmYWlsZWQuYCk7DQogICAgICAvLyBzdG9wIG9uIGZpcnN0IGZhaWx1cmUNCiAgICAgIGJyZWFrOw0KICAgIH0NCiAgfQ0KfQ0KDQoNCi8vID09PSBjUmFuayAoZ2xvYmFsUmFuaykgZmV0Y2gsIG5vIHdlYjMgcmVxdWlyZWQgPT09DQp3aW5kb3cuX194ZW5HbG9iYWxSYW5rID0gbnVsbDsNCmxldCBfX2NyYW5rTGFzdCA9IHsgb2s6ZmFsc2UsIHZhbHVlOm51bGwsIHRzOjAsIGVycjpudWxsIH07DQoNCmNvbnN0IEdMT0JBTF9SQU5LX1NFTEVDVE9SID0gIjB4MWMyNDQwODIiOyAvLyBnbG9iYWxSYW5rKCkNCg0KZnVuY3Rpb24gZ2V0UnBjTGlzdCgpIHsNCiAgLy8gUHJlZmVyIFNldHRpbmdzIHRleHRhcmVhOyBmYWxsIGJhY2sgdG8gbG9jYWxTdG9yYWdlIG9yIERFRkFVTFRfUlBDDQogIGNvbnN0IHRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVJQQyIpOw0KICBjb25zdCByYXcgPSAodGEgJiYgdGEudmFsdWUudHJpbSgpKQ0KICAgIHx8IChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VzdG9tUlBDIikgfHwgREVGQVVMVF9SUEMpOw0KICByZXR1cm4gU3RyaW5nKHJhdykuc3BsaXQoIlxuIikubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTsNCn0NCg0KZnVuY3Rpb24gdXBkYXRlQ3JhbmtTdGF0dXMoKXsNCiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3JhbmtTdGF0dXMiKTsNCiAgaWYgKCFlbCkgcmV0dXJuOw0KICBpZiAoIV9fY3JhbmtMYXN0LnRzKSB7IGVsLnRleHRDb250ZW50ID0gIk5vdCBmZXRjaGVkIHlldC4iOyByZXR1cm47IH0NCiAgY29uc3QgdCA9IG5ldyBEYXRlKF9fY3JhbmtMYXN0LnRzKS50b0xvY2FsZVRpbWVTdHJpbmcoKTsNCiAgZWwudGV4dENvbnRlbnQgPSBfX2NyYW5rTGFzdC5vaw0KICAgID8gYGdsb2JhbFJhbmsgPSAkeyhfX2NyYW5rTGFzdC52YWx1ZXx8MCkudG9Mb2NhbGVTdHJpbmcoKX0gKHVwZGF0ZWQgJHt0fSlgDQogICAgOiBgRmFpbGVkIHRvIGZldGNoIChsYXN0IGF0dGVtcHQgJHt0fSkke19fY3JhbmtMYXN0LmVyciA/IGAg4oCUICR7X19jcmFua0xhc3QuZXJyfWAgOiAiIn1gOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBmZXRjaFhlbkdsb2JhbFJhbmsoKXsNCiAgY29uc3QgcnBjcyA9IGdldFJwY0xpc3QoKTsNCiAgbGV0IGxhc3RFcnIgPSBudWxsOw0KDQogIGZvciAoY29uc3QgcnBjIG9mIHJwY3MpIHsNCiAgICB0cnkgew0KICAgICAgY29uc3QgYm9keSA9IHsNCiAgICAgICAganNvbnJwYzogIjIuMCIsDQogICAgICAgIGlkOiBEYXRlLm5vdygpLA0KICAgICAgICBtZXRob2Q6ICJldGhfY2FsbCIsDQogICAgICAgIHBhcmFtczogW3sgdG86IFhFTl9DUllQVE9fQUREUkVTUywgZGF0YTogR0xPQkFMX1JBTktfU0VMRUNUT1IgfSwgImxhdGVzdCJdDQogICAgICB9Ow0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2gocnBjLCB7DQogICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICBoZWFkZXJzOiB7ICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIgfSwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkNCiAgICAgIH0pOw0KICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7DQogICAgICBpZiAoanNvbj8ucmVzdWx0KSB7DQogICAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KGpzb24ucmVzdWx0LCAxNik7DQogICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobnVtKSkgew0KICAgICAgICAgIHdpbmRvdy5fX3hlbkdsb2JhbFJhbmsgPSBudW07DQogICAgICAgICAgX19jcmFua0xhc3QgPSB7IG9rOnRydWUsIHZhbHVlOm51bSwgdHM6RGF0ZS5ub3coKSwgZXJyOm51bGwgfTsNCiAgICAgICAgICB1cGRhdGVDcmFua1N0YXR1cygpOw0KICAgICAgICAgIC8vIHJlLXJlbmRlciB0YWJsZSBlc3RpbWF0ZXMNCiAgICAgICAgICB0cnkgeyB3aW5kb3cuY29pbnRvb2xUYWJsZT8ucmVkcmF3Py4odHJ1ZSk7IH0gY2F0Y2gge30NCiAgICAgICAgICB0cnkgeyB1cGRhdGVYRU5Ub3RhbEJhZGdlKCk7IH0gY2F0Y2gge30NCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRocm93IG5ldyBFcnJvcihqc29uPy5lcnJvcj8ubWVzc2FnZSB8fCAiQmFkIFJQQyByZXNwb25zZSIpOw0KICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgIGxhc3RFcnIgPSBlOw0KICAgICAgLy8gdHJ5IG5leHQgUlBDDQogICAgfQ0KICB9DQogIF9fY3JhbmtMYXN0ID0geyBvazpmYWxzZSwgdmFsdWU6bnVsbCwgdHM6RGF0ZS5ub3coKSwgZXJyOmxhc3RFcnI/Lm1lc3NhZ2UgfHwgImFsbCBSUENzIGZhaWxlZCIgfTsNCiAgdXBkYXRlQ3JhbmtTdGF0dXMoKTsNCn0NCg0KDQovLyAtLS0gdGlueSB1dGlscyAtLS0NCmNvbnN0IG5vMHggPSAocykgPT4gU3RyaW5nKHMpLnJlcGxhY2UoL14weC9pLCAnJyk7DQpjb25zdCBpc0hleCA9IChzKSA9PiAvXjB4WzAtOWEtZkEtRl0qJC8udGVzdChzKTsNCmNvbnN0IGVuc3VyZUJ5dGVzID0gKHMpID0+IChpc0hleChzKSA/IHMgOiAoJzB4JyArIEJ1ZmZlci5mcm9tKFN0cmluZyhzKSwgJ3V0ZjgnKS50b1N0cmluZygnaGV4JykpKTsNCg0KY29uc3QgREVGQVVMVF9SUEMgPSBgaHR0cHM6Ly9ldGhlcmV1bS1ycGMucHVibGljbm9kZS5jb21gOw0KY29uc3QgQ09OVFJBQ1RfQUREUkVTUyA9ICIweDBkRThiZjkzZEEyZjdlZWNiM2Q5MTY5NDIyNDEzQTliZWY0ZWY2MjgiOw0KY29uc3QgRVZFTlRfVE9QSUMgPSAiMHhlOTE0OWUxYjUwNTkyMzhiYWVkMDJmYTY1OWRiZjRiZDkzMmZiY2Y3NjBhNDMxMzMwZGY0ZDkzNGJjOTQyZjM3IjsNCmNvbnN0IFNBTFRfQllURVNfVE9fUVVFUlkgPSAnMHgwMSc7DQpjb25zdCBSRU1JTlRfU0VMRUNUT1IgPSAnMHhjMjU4MDgwNCc7DQpjb25zdCBYRU5fQ1JZUFRPX0FERFJFU1MgPSAnMHgwNjQ1MGRlZTdmZDJmYjhlMzkwNjE0MzRiYWJjZmMwNTU5OWE2ZmI4JzsNCg0KDQoNCi8vIFhFTiA9IFZNVXMgKiAoIFRlcm0gKiBsb2cyKGNSYW5rRGVsdGEgKiBUZXJtKSAqIEFNUCApDQovLyA9PT0gRXN0LiBYRU4gaGVscGVycyAmIHRvdGFsIGJhZGdlID09PQ0KY29uc3QgT0NUOF8yMDIyX1VUQ19NUyA9IERhdGUuVVRDKDIwMjIsIDksIDgsIDAsIDAsIDAsIDApOyAvLyBPY3QgOCwgMjAyMg0KZnVuY3Rpb24gX2RheXNTaW5jZU9jdDhfMjAyMigpew0KICByZXR1cm4gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIE9DVDhfMjAyMl9VVENfTVMpIC8gODZfNDAwXzAwMCk7DQp9DQoNCg0KZnVuY3Rpb24gX2N1cnJlbnRBTVAoKXsNCiAgY29uc3QgYW1wID0gMzAwMCAtIF9kYXlzU2luY2VPY3Q4XzIwMjIoKTsNCiAgcmV0dXJuIGFtcCA+IDAgPyBhbXAgOiAwOw0KfQ0KDQoNCi8vIFB1bGwgQU1QIGFuZCBFQUEgZnJvbSB0aGUgcm93IHdoZW4gYXZhaWxhYmxlOyBmYWxsIGJhY2sgZGVmZW5zaXZlbHkuDQpmdW5jdGlvbiBfcm93QW1wKHJvdyl7DQogIGNvbnN0IGFtcCA9IE51bWJlcihyb3c/LmFtcCA/PyByb3c/LkFNUCk7DQogIGlmIChOdW1iZXIuaXNGaW5pdGUoYW1wKSAmJiBhbXAgPiAwKSByZXR1cm4gYW1wOw0KICAvLyBmYWxsYmFjayBmb3IgbGVnYWN5IHJvd3MNCiAgcmV0dXJuIF9jdXJyZW50QU1QKCk7DQp9DQoNCmZ1bmN0aW9uIF9yb3dFYWFSYXRlKHJvdyl7DQogIC8vIHJvdy5lYWEgaXMgdXN1YWxseSBhbiBpbnRlZ2VyIHJhdGUgKDAuLjEwMCk7IHNvbWV0aW1lcyAiRUFBICglKSIgYXMgc3RyaW5nDQogIGNvbnN0IGVhYSA9IE51bWJlcihyb3c/LmVhYSA/PyByb3c/LlsiRUFBICglKSJdKTsNCiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShlYWEpICYmIGVhYSA+PSAwID8gZWFhIDogMDsNCn0NCg0KZnVuY3Rpb24gX3BhcnNlU3RhcnRDUmFuayhyb3cpew0KICAvLyBQcmVmZXIgZXhhY3Qgc3RhcnRpbmcgcmFuayBmaWVsZCBpZiBwcmVzZW50DQogIGNvbnN0IGRpcmVjdCA9IE51bWJlcihyb3c/LnJhbmsgPz8gcm93Py5jUmFuayA/PyByb3c/LlJhbmsgPz8gcm93Py5TdGFydFJhbmspOw0KICBpZiAoTnVtYmVyLmlzRmluaXRlKGRpcmVjdCkgJiYgZGlyZWN0ID4gMCkgcmV0dXJuIGRpcmVjdDsNCg0KICAvLyBGYWxsYmFjazogcGFyc2UgIlJhbmtfUmFuZ2UiIGxpa2UgIjM5MDY1NDYzIC0gMzkwNjY0NjIiDQogIGNvbnN0IHJyID0gU3RyaW5nKHJvdz8uUmFua19SYW5nZSB8fCAiIikudHJpbSgpOw0KICBjb25zdCBtICA9IHJyLm1hdGNoKC9eKFxkKykvKTsNCiAgaWYgKG0pIHJldHVybiBwYXJzZUludChtWzFdLCAxMCk7DQoNCiAgcmV0dXJuIE5hTjsNCn0NCg0KZnVuY3Rpb24gc3Rha2VFc3RCcmVha2Rvd24ocm93KSB7DQogIGNvbnN0IE9ORV9FVEhFUiA9IDFfMDAwXzAwMF8wMDBfMDAwXzAwMF8wMDBuOw0KICBjb25zdCBhbW91bnQgPSBfc3Rha2VBbW91bnRXZWkocm93KTsgICAgICAgICAgICAvLyB3ZWkgKHVzZXMgYW1vdW50V2VpIGlmIHByZXNlbnQpDQogIGNvbnN0IGFweSA9IE51bWJlcihyb3cuYXB5IHx8IDApOw0KICBjb25zdCB0ZXJtRGF5cyA9IE51bWJlcihyb3cuVGVybSB8fCByb3cudGVybSB8fCAwKTsNCiAgaWYgKGFtb3VudCA9PT0gMG4gfHwgYXB5IDw9IDAgfHwgdGVybURheXMgPD0gMCkgcmV0dXJuIG51bGw7DQoNCiAgLy8gcmV3YXJkID0gZmxvb3IoYW1vdW50ICogQVBZICogdGVybURheXMgLyAoMTAwICogMzY1KSkNCiAgY29uc3QgcmV3YXJkID0gKGFtb3VudCAqIEJpZ0ludChNYXRoLmZsb29yKGFweSAqIDEwMCkpICogQmlnSW50KHRlcm1EYXlzKSkgLyBCaWdJbnQoMTAwICogMzY1ICogMTAwKTsNCiAgY29uc3QgdG90YWwgID0gYW1vdW50ICsgcmV3YXJkOyAgICAgICAgICAgICAgICAgLy8gd2VpDQoNCiAgcmV0dXJuIHsgYW1vdW50LCByZXdhcmQsIHRvdGFsLCBhcHksIHRlcm1EYXlzLCBPTkVfRVRIRVIgfTsNCn0NCg0KZnVuY3Rpb24gZXN0aW1hdGVYRU5Gb3JSb3cocm93KXsNCg0KICBpZiAocm93Py5Tb3VyY2VUeXBlID09PSAnU3Rha2UnIHx8IHJvdz8uU291cmNlVHlwZSA9PT0gJ1N0YWtlIFhFTkZUJykgew0KICAgIGNvbnN0IGIgPSBzdGFrZUVzdEJyZWFrZG93bihyb3cpOw0KICAgIHJldHVybiBiID8gTnVtYmVyKGIudG90YWwgLyBiLk9ORV9FVEhFUikgOiAwOyAgIC8vIHJldHVybiBUT0tFTlMNCg0KICB9DQoNCiAgLy8gLS0tIEV4aXN0aW5nIGxvZ2ljIGZvciBDb2ludG9vbCBhbmQgcmVndWxhciBYRU5GVHMgLS0tDQogIGNvbnN0IHRlcm0gPSBOdW1iZXIocm93Py5UZXJtID8/IHJvdz8udGVybSkgfHwgMDsNCiAgY29uc3Qgdm11cyA9IE51bWJlcihyb3c/LlZNVXMgPz8gcm93Py52bXVzKSB8fCAwOw0KICBpZiAodGVybSA8PSAwIHx8IHZtdXMgPD0gMCkgcmV0dXJuIDA7DQoNCiAgY29uc3QgYW1wID0gX3Jvd0FtcChyb3cpOyAgICAgICAgICAgICAgICAgIC8vIDwtLSB1c2Ugc3RvcmVkIEFNUA0KICBpZiAoYW1wIDw9IDApIHJldHVybiAwOw0KDQogIGNvbnN0IGVhYVJhdGUgPSBfcm93RWFhUmF0ZShyb3cpOw0KICBjb25zdCBlYWFGYWN0b3IgPSAoMTAwMCArIGVhYVJhdGUpIC8gMTAwMDsgLy8gPSAxIHdoZW4gZWFhUmF0ZSA9IDANCg0KICBjb25zdCBzdGFydCA9IF9wYXJzZVN0YXJ0Q1Jhbmsocm93KTsNCiAgY29uc3QgZ3IgICAgPSBOdW1iZXIod2luZG93Ll9feGVuR2xvYmFsUmFuayB8fCBOYU4pOw0KICBpZiAoIU51bWJlci5pc0Zpbml0ZShzdGFydCkgfHwgIU51bWJlci5pc0Zpbml0ZShncikpIHJldHVybiAwOw0KDQogIGNvbnN0IHJhbmtEZWx0YSA9IE1hdGgubWF4KGdyIC0gc3RhcnQsIDIpOw0KICBjb25zdCBwZXJWTVUgPSBNYXRoLmxvZzIocmFua0RlbHRhKSAqIGFtcCAqIHRlcm0gKiBlYWFGYWN0b3I7DQoNCiAgY29uc3QgdmFsID0gdm11cyAqIHBlclZNVTsNCiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2YWwpICYmIHZhbCA+IDAgPyBNYXRoLmZsb29yKHZhbCkgOiAwOw0KfQ0KDQoNCg0KDQoNCmZ1bmN0aW9uIHVwZGF0ZVhFTlRvdGFsQmFkZ2UoKSB7DQogIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVzdFhlblRvdGFsIik7DQogIGlmICghYmFkZ2UgfHwgdHlwZW9mIGNvaW50b29sVGFibGUgPT09ICd1bmRlZmluZWQnIHx8ICFjb2ludG9vbFRhYmxlKSByZXR1cm47DQoNCiAgY29uc3QgYWN0aXZlRGF0YSA9IGNvaW50b29sVGFibGUuZ2V0RGF0YSgiYWN0aXZlIik7DQogIGxldCB0b3RhbCA9IDBuOw0KICBhY3RpdmVEYXRhLmZvckVhY2gocm93RGF0YSA9PiB7DQogICAgY29uc3QgeGVuVmFsdWUgPSBlc3RpbWF0ZVhFTkZvclJvdyhyb3dEYXRhKTsNCiAgICB0b3RhbCArPSBCaWdJbnQoeGVuVmFsdWUpOw0KICB9KTsNCg0KICBiYWRnZS50ZXh0Q29udGVudCA9IHRvdGFsLnRvTG9jYWxlU3RyaW5nKCk7DQogIHJlbmRlclhlblVzZEVzdGltYXRlKHRvdGFsKTsgICAvLyDihpAgTkVXOiBzaG93IOKAnCgkMjI2LjQ1KeKAnSBzdHlsZSBVU0QgbmV4dCB0byB0aGUgdG90YWwNCn0NCg0KDQoNCi8vIC0tLSBSUEMgJiBXRUIzIE1BTkFHRU1FTlQgLS0tDQpsZXQgd2ViMzsNCmxldCBycGNFbmRwb2ludHMgPSBbXTsNCmxldCBjdXJyZW50UnBjSW5kZXggPSAwOw0KbGV0IGNvbnRyYWN0Ow0KbGV0IGRiSW5zdGFuY2U7DQpjb25zdCByZW1pbnRDYWNoZSA9IHt9Ow0KLy8gLS0tIFdBTExFVCBJTlRFUkFDVElPTiBWQVJJQUJMRVMgLS0tDQpsZXQgd2ViM1dhbGxldDsNCmxldCBjb25uZWN0ZWRBY2NvdW50Ow0KDQpmdW5jdGlvbiBjaGFpbklkVG9OYW1lKGNoYWluSWRIZXhPck51bSl7DQogIGNvbnN0IGlkID0gdHlwZW9mIGNoYWluSWRIZXhPck51bSA9PT0gJ3N0cmluZycgJiYgY2hhaW5JZEhleE9yTnVtLnN0YXJ0c1dpdGgoJzB4JykNCiAgICA/IHBhcnNlSW50KGNoYWluSWRIZXhPck51bSwgMTYpDQogICAgOiBOdW1iZXIoY2hhaW5JZEhleE9yTnVtKTsNCiAgc3dpdGNoIChpZCkgew0KICAgIGNhc2UgMTogICByZXR1cm4gJ0V0aGVyZXVtIE1haW5uZXQnOw0KICAgIGNhc2UgMTExNTUxMTE6IHJldHVybiAnU2Vwb2xpYSc7DQogICAgY2FzZSA4NDUzOiByZXR1cm4gJ0Jhc2UnOw0KICAgIGNhc2UgMTA6ICByZXR1cm4gJ09wdGltaXNtJzsNCiAgICBjYXNlIDQyMTYxOiByZXR1cm4gJ0FyYml0cnVtIE9uZSc7DQogICAgZGVmYXVsdDogIHJldHVybiBgQ2hhaW4gJHtpZH1gOw0KICB9DQp9DQoNCi8vIC0tLSBYRU4gcHJpY2UgKFVTRCk6IERleHNjcmVlbmVyIHByaW1hcnksIENvaW5HZWNrbyBmYWxsYmFjayAtLS0NCmxldCB4ZW5Vc2RQcmljZSA9IG51bGw7DQpsZXQgeGVuUHJpY2VMYXN0ID0geyBvazogZmFsc2UsIHByaWNlOiBudWxsLCB0czogbnVsbCwgc291cmNlOiBudWxsIH07DQoNCmZ1bmN0aW9uIHVwZGF0ZVhlblByaWNlU3RhdHVzKCl7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlblByaWNlU3RhdHVzJyk7DQogIGlmICghZWwpIHJldHVybjsNCiAgaWYgKCF4ZW5QcmljZUxhc3Q/LnRzKSB7DQogICAgZWwudGV4dENvbnRlbnQgPSAnTm8gcmVmcmVzaCB5ZXQuJzsNCiAgICByZXR1cm47DQogIH0NCiAgaWYgKCF4ZW5QcmljZUxhc3Qub2spIHsNCiAgICBlbC50ZXh0Q29udGVudCA9IGBMYXN0IHJlZnJlc2ggZmFpbGVkIGF0ICR7bmV3IERhdGUoeGVuUHJpY2VMYXN0LnRzKS50b0xvY2FsZVN0cmluZygnZW4tQ0EnLCB7IHRpbWVab25lOiAnQW1lcmljYS9Ub3JvbnRvJyB9KX1gOw0KICAgIHJldHVybjsNCiAgfQ0KICBjb25zdCBwcmljZVRleHQgPSBOdW1iZXIuaXNGaW5pdGUoeGVuUHJpY2VMYXN0LnByaWNlKQ0KICAgID8gYCQke3hlblByaWNlTGFzdC5wcmljZS50b0ZpeGVkKDEwKX1gDQogICAgOiAnVW5hdmFpbGFibGUnOw0KICBlbC50ZXh0Q29udGVudCA9IGBMYXN0IHJlZnJlc2ggKCR7eGVuUHJpY2VMYXN0LnNvdXJjZSB8fCAn4oCUJ30pOiAke3ByaWNlVGV4dH0gYXQgJHtuZXcgRGF0ZSh4ZW5QcmljZUxhc3QudHMpLnRvTG9jYWxlU3RyaW5nKCdlbi1DQScsIHsgdGltZVpvbmU6ICdBbWVyaWNhL1Rvcm9udG8nIH0pfWA7DQp9DQoNCi8vIFByaW1hcnk6IERleHNjcmVlbmVyIHRva2VuIGVuZHBvaW50DQphc3luYyBmdW5jdGlvbiBmZXRjaEZyb21EZXhzY3JlZW5lcih0b2tlbkFkZHJlc3Mpew0KICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkuZGV4c2NyZWVuZXIuY29tL2xhdGVzdC9kZXgvdG9rZW5zLyR7dG9rZW5BZGRyZXNzfWA7DQogIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBjYWNoZTogJ25vLXN0b3JlJyB9KTsNCiAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihgRGV4c2NyZWVuZXIgSFRUUCAke3Jlcy5zdGF0dXN9YCk7DQogIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpOw0KDQogIC8vIERleHNjcmVlbmVyIHJldHVybnMgYW4gYXJyYXkgb2YgcGFpcnMgZm9yIHRoZSB0b2tlbiDigJQgcGljayBhbiBFdGhlcmV1bSBvbmUgaWYgcHJlc2VudA0KICBjb25zdCBwYWlycyA9IEFycmF5LmlzQXJyYXkoZGF0YT8ucGFpcnMpID8gZGF0YS5wYWlycyA6IFtdOw0KICBpZiAoIXBhaXJzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdEZXhzY3JlZW5lcjogbm8gcGFpcnMnKTsNCg0KICBjb25zdCBwcmVmZXJyZWQgPSBwYWlycy5maW5kKHAgPT4gKHAuY2hhaW5JZCB8fCBwLmNoYWluIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdldGgnKSkgfHwgcGFpcnNbMF07DQogIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChwcmVmZXJyZWQ/LnByaWNlVXNkID8/IHByZWZlcnJlZD8ucHJpY2U/LnVzZCA/PyBwcmVmZXJyZWQ/LnByaWNlVXNkKTsNCiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocHJpY2UpKSB0aHJvdyBuZXcgRXJyb3IoJ0RleHNjcmVlbmVyOiBubyBwcmljZVVzZCcpOw0KDQogIGNvbnN0IGRleE5hbWUgPSBwcmVmZXJyZWQ/LmRleElkIHx8IHByZWZlcnJlZD8udXJsIHx8ICdEZXgnOw0KICByZXR1cm4geyBwcmljZSwgc291cmNlOiBgJHtkZXhOYW1lfSBEZXhzY3JlZW5lcmAgfTsNCn0NCg0KLy8gRmFsbGJhY2s6IENvaW5HZWNrbyBzaW1wbGUgcHJpY2UNCmFzeW5jIGZ1bmN0aW9uIGZldGNoRnJvbUNvaW5HZWNrbygpew0KICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuY29pbmdlY2tvLmNvbS9hcGkvdjMvc2ltcGxlL3ByaWNlP2lkcz14ZW4tY3J5cHRvJnZzX2N1cnJlbmNpZXM9dXNkJzsNCiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IGNhY2hlOiAnbm8tc3RvcmUnIH0pOw0KICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBDb2luR2Vja28gSFRUUCAke3Jlcy5zdGF0dXN9YCk7DQogIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpOw0KICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQoZGF0YT8uWyd4ZW4tY3J5cHRvJ10/LnVzZCk7DQogIGlmICghTnVtYmVyLmlzRmluaXRlKHByaWNlKSkgdGhyb3cgbmV3IEVycm9yKCdDb2luR2Vja286IG5vIHByaWNlJyk7DQogIHJldHVybiB7IHByaWNlLCBzb3VyY2U6ICdDb2luR2Vja28nIH07DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGZldGNoWGVuVXNkUHJpY2UoKXsNCiAgdHJ5IHsNCiAgICAvLyBYRU5fRVRIIGlzIGFscmVhZHkgZGVmaW5lZCBhYm92ZSBpbiB5b3VyIGZpbGUgKDB4MDY0NS4uLjZGYjggb24gRVRIKQ0KICAgIGNvbnN0IHByaW1hcnkgPSBhd2FpdCBmZXRjaEZyb21EZXhzY3JlZW5lcihYRU5fRVRIKTsNCiAgICB4ZW5Vc2RQcmljZSAgPSBwcmltYXJ5LnByaWNlOw0KICAgIHhlblByaWNlTGFzdCA9IHsgb2s6IHRydWUsIHByaWNlOiB4ZW5Vc2RQcmljZSwgdHM6IERhdGUubm93KCksIHNvdXJjZTogcHJpbWFyeS5zb3VyY2UgfTsNCiAgfSBjYXRjaCAoZTEpIHsNCiAgICB0cnkgew0KICAgICAgY29uc3QgZmIgPSBhd2FpdCBmZXRjaEZyb21Db2luR2Vja28oKTsNCiAgICAgIHhlblVzZFByaWNlICA9IGZiLnByaWNlOw0KICAgICAgeGVuUHJpY2VMYXN0ID0geyBvazogdHJ1ZSwgcHJpY2U6IHhlblVzZFByaWNlLCB0czogRGF0ZS5ub3coKSwgc291cmNlOiBmYi5zb3VyY2UgfTsNCiAgICB9IGNhdGNoIChlMikgew0KICAgICAgeGVuVXNkUHJpY2UgID0gbnVsbDsNCiAgICAgIHhlblByaWNlTGFzdCA9IHsgb2s6IGZhbHNlLCBwcmljZTogbnVsbCwgdHM6IERhdGUubm93KCksIHNvdXJjZTogJ0RleHNjcmVlbmVyL0NvaW5HZWNrbycgfTsNCiAgICB9DQogIH0NCiAgdXBkYXRlWEVOVG90YWxCYWRnZSgpOw0KICB1cGRhdGVYZW5QcmljZVN0YXR1cygpOw0KICB0cnkgeyB1cGRhdGVWbXVDaGFydCgpOyB9IGNhdGNoIHt9DQp9DQoNCg0KDQpmdW5jdGlvbiBmb3JtYXRVU0Qobil7DQogIGlmICghTnVtYmVyLmlzRmluaXRlKG4pKSByZXR1cm4gJyc7DQogIGNvbnN0IGFicyA9IE1hdGguYWJzKG4pOw0KICAvLyBJZiB0d28tZGVjaW1hbCByb3VuZGluZyB3b3VsZCBkaXNwbGF5IGFzICQwLjAwLCBzaG93IGZvdXIgZGVjaW1hbHMgdG8gcmV2ZWFsIHRpbnkgdmFsdWVzDQogIGlmIChhYnMgPCAwLjAwNSAmJiBhYnMgPiAwKSB7DQogICAgcmV0dXJuIG4udG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7DQogICAgICBzdHlsZTogJ2N1cnJlbmN5JywNCiAgICAgIGN1cnJlbmN5OiAnVVNEJywNCiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogNCwNCiAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogNCwNCiAgICB9KTsNCiAgfQ0KICByZXR1cm4gbi50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsNCiAgICBzdHlsZTogJ2N1cnJlbmN5JywNCiAgICBjdXJyZW5jeTogJ1VTRCcsDQogICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyLA0KICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiwNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIHJlbmRlclhlblVzZEVzdGltYXRlKHRvdGFsQmlnSW50KXsNCiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXN0WGVuVXNkJyk7DQogIGlmICghZWwpIHJldHVybjsNCiAgaWYgKHhlblVzZFByaWNlID09IG51bGwpIHsgZWwudGV4dENvbnRlbnQgPSAnJzsgcmV0dXJuOyB9DQoNCiAgLy8gVG90YWxzIGFyZSBpbiB0aGUgYmlsbGlvbnMg4oeSIHNhZmUgdG8gY2FzdCBmb3IgbXVsdGlwbGljYXRpb24NCiAgY29uc3QgdG90YWxOdW0gPSBOdW1iZXIodG90YWxCaWdJbnQpOw0KICBjb25zdCB1c2QgPSB0b3RhbE51bSAqIHhlblVzZFByaWNlOw0KICBlbC50ZXh0Q29udGVudCA9IGAoJHtmb3JtYXRVU0QodXNkKX0pYDsNCn0NCg0KDQphc3luYyBmdW5jdGlvbiB1cGRhdGVOZXR3b3JrQmFkZ2UoKXsNCiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV0d29ya05hbWUnKTsNCiAgaWYgKCFlbCkgcmV0dXJuOw0KICB0cnkgew0KICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0/LnJlcXVlc3Q/Lih7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTsNCiAgICBlbC50ZXh0Q29udGVudCA9IGNoYWluSWQgPyBjaGFpbklkVG9OYW1lKGNoYWluSWQpIDogJ05vdCBDb25uZWN0ZWQnOw0KICB9IGNhdGNoIHsNCiAgICBlbC50ZXh0Q29udGVudCA9ICdOb3QgQ29ubmVjdGVkJzsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBlczJ1cmwocXVlcnlTdHJpbmcpIHsNCiAgLy8gcXVlcnlTdHJpbmcgc2hvdWxkIE5PVCBzdGFydCB3aXRoICI/IiAoanVzdCAibW9kdWxlPS4uLiZhY3Rpb249Li4uJi4uLiIpDQogIHJldHVybiBgaHR0cHM6Ly9hcGkuZXRoZXJzY2FuLmlvL3YyL2FwaT9jaGFpbmlkPSR7RVRIRVJTQ0FOX0NIQUlOX0lEfSYke3F1ZXJ5U3RyaW5nfWA7DQp9DQoNCmZ1bmN0aW9uIGVuc3VyZUJ1bGtCYXIoKXsNCiAgbGV0IGJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrQmFyJyk7DQogIGlmICghYmFyKSB7DQogICAgYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgYmFyLmlkID0gJ2J1bGtCYXInOw0KICAgIC8vIFByZWZlciB0byBwbGFjZSBhZnRlciB0aGUgZmlsdGVyIGNoaXBzIGJsb2NrIGlmIHByZXNlbnQNCiAgICBjb25zdCBjaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXItY2hpcHMnKTsNCiAgICBpZiAoY2hpcHMgJiYgdHlwZW9mIGNoaXBzLmluc2VydEFkamFjZW50RWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgY2hpcHMuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGJhcik7DQogICAgfSBlbHNlIHsNCiAgICAgIGNvbnN0IHRhYmxlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29pbnRvb2wtdGFibGUnKTsNCiAgICAgIHRhYmxlRWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYmFyLCB0YWJsZUVsKTsgLy8gc2hvdyBhYm92ZSB0YWJsZQ0KICAgIH0NCiAgfQ0KDQogIC8vIE5vcm1hbGl6ZSBsYXlvdXQgc3R5bGVzIGV2ZXJ5IGNhbGwgaW4gY2FzZSBDU1MgY2hhbmdlZA0KICBiYXIuc3R5bGUubWFyZ2luID0gJzhweCAwJzsNCiAgYmFyLnN0eWxlLmdhcCA9ICc4cHgnOw0KICBiYXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInOw0KICBiYXIuc3R5bGUuZmxleFdyYXAgPSAnd3JhcCc7DQogIGJhci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdmbGV4LXN0YXJ0JzsNCiAgaWYgKCFTdHJpbmcoYmFyLmNsYXNzTmFtZSB8fCAnJykuaW5jbHVkZXMoJ3RhYmxlLXRvb2xiYXInKSkgew0KICAgIGJhci5jbGFzc05hbWUgPSAoKGJhci5jbGFzc05hbWUgfHwgJycpICsgJyB0YWJsZS10b29sYmFyJykudHJpbSgpOw0KICB9DQoNCiAgLy8gRW5zdXJlIGJvdGggYnV0dG9ucyBleGlzdDsgaWYgbm90LCAocmUpYnVpbGQgY29udGVudHMgYW5kIGxpc3RlbmVycw0KICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrQ2xhaW1CdG4nKSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1bGtSZW1pbnRCdG4nKSkgew0KICAgIGJhci5pbm5lckhUTUwgPSBgDQogICAgICA8YnV0dG9uIGlkPSJidWxrQ2xhaW1CdG4iIGNsYXNzPSJidG4iPkNsYWltPC9idXR0b24+DQogICAgICA8YnV0dG9uIGlkPSJidWxrUmVtaW50QnRuIiBjbGFzcz0iYnRuIj5SZW1pbnQ8L2J1dHRvbj4NCiAgICAgIDxzcGFuIGlkPSJidWxrQ291bnQiIGNsYXNzPSJidWxrLWNvdW50Ij48L3NwYW4+DQogICAgYDsNCiAgICBjb25zdCBjbGFpbUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrQ2xhaW1CdG4nKTsNCiAgICBjb25zdCByZW1pbnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVsa1JlbWludEJ0bicpOw0KICAgIGlmIChjbGFpbUJ0bikgY2xhaW1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBoYW5kbGVCdWxrQWN0aW9uKCdjbGFpbScpKTsNCiAgICBpZiAocmVtaW50QnRuKSByZW1pbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBoYW5kbGVCdWxrQWN0aW9uKCdyZW1pbnQnKSk7DQogIH0NCg0KICByZXR1cm4gYmFyOw0KfQ0KDQpmdW5jdGlvbiByZWZyZXNoQnVsa1VJKCl7DQogIGNvbnN0IGJhciA9IGVuc3VyZUJ1bGtCYXIoKTsNCiAgY29uc3QgaWRzID0gQXJyYXkuZnJvbShzZWxlY3RlZFJvd3MpOw0KICBjb25zdCBjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrQ291bnQnKTsNCiAgY29uc3QgY2xhaW1CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVsa0NsYWltQnRuJyk7DQogIGNvbnN0IHJlbWludEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrUmVtaW50QnRuJyk7DQoNCiAgbGV0IGFueUNsYWltYWJsZSA9IGZhbHNlOw0KICBsZXQgYW55Q29pbnRvb2xDbGFpbWFibGUgPSBmYWxzZTsNCiAgbGV0IGN0TWludENvdW50ID0gMDsNCiAgbGV0IGN0Vk1VcyA9IDA7DQogIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7DQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IHJvd09iaiA9IGNvaW50b29sVGFibGUuZ2V0Um93KGlkKTsNCiAgICAgIGNvbnN0IGRhdGEgPSByb3dPYmo/LmdldERhdGE/LigpOw0KICAgICAgaWYgKCFkYXRhKSBjb250aW51ZTsNCiAgICAgIGlmIChjb21wdXRlTGl2ZVN0YXR1cyhkYXRhKSA9PT0gJ0NsYWltYWJsZScpIHsNCiAgICAgICAgYW55Q2xhaW1hYmxlID0gdHJ1ZTsNCiAgICAgICAgaWYgKFN0cmluZyhkYXRhLlNvdXJjZVR5cGUpICE9PSAnWEVORlQnKSBhbnlDb2ludG9vbENsYWltYWJsZSA9IHRydWU7DQogICAgICB9DQogICAgICBpZiAoU3RyaW5nKGRhdGEuU291cmNlVHlwZSkgIT09ICdYRU5GVCcpIHsNCiAgICAgICAgY3RNaW50Q291bnQgKz0gMTsNCiAgICAgICAgdHJ5IHsgY3RWTVVzICs9IGdldElkc0ZvclJvdyhkYXRhKS5sZW5ndGg7IH0gY2F0Y2gge30NCiAgICAgIH0NCiAgICB9IGNhdGNoIHt9DQogIH0NCg0KICBjb25zdCBzaG93ID0gaWRzLmxlbmd0aCA+IDAgJiYgYW55Q2xhaW1hYmxlOw0KICBiYXIuc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnZmxleCcgOiAnbm9uZSc7DQogIGlmIChjdCkgew0KICAgIGlmIChjdE1pbnRDb3VudCA+IDApIHsNCiAgICAgIGNvbnN0IHZtdXNUZXh0ID0gY3RWTVVzLnRvTG9jYWxlU3RyaW5nKCk7DQogICAgICBjdC50ZXh0Q29udGVudCA9IGAoJHtjdE1pbnRDb3VudH0gbWludHMsICR7dm11c1RleHR9IFZNVXMgc2VsZWN0ZWQpYDsNCiAgICB9IGVsc2Ugew0KICAgICAgY3QudGV4dENvbnRlbnQgPSBpZHMubGVuZ3RoID8gYCgke2lkcy5sZW5ndGh9IHNlbGVjdGVkKWAgOiAnJzsNCiAgICB9DQogIH0NCiAgaWYgKGNsYWltQnRuKSBjbGFpbUJ0bi5kaXNhYmxlZCA9ICFzaG93Ow0KICBpZiAocmVtaW50QnRuKSByZW1pbnRCdG4uc3R5bGUuZGlzcGxheSA9IGFueUNvaW50b29sQ2xhaW1hYmxlID8gJycgOiAnbm9uZSc7DQp9DQoNCmZ1bmN0aW9uIGdldElkc0ZvclJvdyhyb3dEYXRhKXsNCiAgY29uc3Qgc3RhcnRJZCAgPSBOdW1iZXIocm93RGF0YS5NaW50X2lkX1N0YXJ0KTsNCiAgY29uc3Qgdm11Q291bnQgPSBOdW1iZXIocm93RGF0YS5WTVVzIHx8IDEpOw0KICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogdm11Q291bnQgfSwgKF8sIGkpID0+IHN0YXJ0SWQgKyBpKTsNCn0NCg0KZnVuY3Rpb24gYnVpbGRDbGFpbURhdGEobWludGVyLCB4ZW4gPSBYRU5fRVRIKSB7DQogIGNvbnN0IHhlbk5vID0gbm8weCh4ZW4pOw0KICBjb25zdCBtaW50ZXJObyA9IG5vMHgobWludGVyKTsNCg0KICAvLyBmaXhlZCBwaWVjZXMgY29waWVkIGZyb20gdGhlIFB5dGhvbiBjb2RlDQogIGNvbnN0IGhlYWQgPSAnMHg1OTYzNWY2ZicgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gc2VsZWN0b3INCiAgICArICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnICsgeGVuTm8gICAgICAgICAgIC8vIGFkZHJlc3MgYXJnIChwYWRkZWQgdG8gMzIpDQogICAgKyAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MCcgLy8gb2Zmc2V0DQogICAgKyAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0NCcgLy8gYnl0ZXMgbGVuDQogICAgKyAnMWM1NjAzMDUnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbm5lciBzZWxlY3Rvcg0KICAgICsgJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcgKyBtaW50ZXJObyAgICAgICAgLy8gbWludGVyIGFkZHJlc3MNCiAgICArICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDY0JyAvLyAxMDAgKDB4NjQpDQogICAgKyAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnOyAgICAgICAgLy8gcGFkZGluZw0KICByZXR1cm4gaGVhZDsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaGFuZGxlQnVsa0FjdGlvbihtb2RlKXsNCiAgaWYgKCF3ZWIzV2FsbGV0IHx8ICFjb25uZWN0ZWRBY2NvdW50KSB7DQogICAgYWxlcnQoIlBsZWFzZSBjb25uZWN0IHRoZSB3YWxsZXQgdGhhdCBvd25zIHRoZXNlIG1pbnRzLiIpOw0KICAgIHJldHVybjsNCiAgfQ0KICB0cnkgew0KICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTsNCiAgICBpZiAocGFyc2VJbnQoY2hhaW5JZCwgMTYpICE9PSAxKSB7DQogICAgICBhbGVydCgiUGxlYXNlIHN3aXRjaCB5b3VyIHdhbGxldCB0byBFdGhlcmV1bSBNYWlubmV0IHRvIGNsYWltL3JlbWludC4iKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogIH0gY2F0Y2ggew0KICAgIGFsZXJ0KCJDb3VsZCBub3QgcmVhZCBjdXJyZW50IG5ldHdvcmsuIFBsZWFzZSBzd2l0Y2ggdG8gRXRoZXJldW0gTWFpbm5ldC4iKTsNCiAgICByZXR1cm47DQogIH0NCg0KICAvLyBDb2xsZWN0IHNlbGVjdGVkIHJvd3MNCiAgY29uc3Qgcm93cyA9IEFycmF5LmZyb20oc2VsZWN0ZWRSb3dzKQ0KICAgIC5tYXAoaWQgPT4gew0KICAgICAgY29uc3QgciA9IGNvaW50b29sVGFibGUuZ2V0Um93KGlkKTsNCiAgICAgIHJldHVybiByID8gci5nZXREYXRhKCkgOiBudWxsOw0KICAgIH0pDQogICAgLmZpbHRlcihCb29sZWFuKTsNCg0KICBpZiAocm93cy5sZW5ndGggPT09IDApIHsNCiAgICBhbGVydCgiTm8gY2xhaW1hYmxlIG1pbnRzIHNlbGVjdGVkLiIpOw0KICAgIHJldHVybjsNCiAgfQ0KDQogIC8vIFNwbGl0IGJ5IHR5cGUNCiAgY29uc3QgeGZSb3dzID0gcm93cy5maWx0ZXIociA9PiBTdHJpbmcoci5Tb3VyY2VUeXBlKSA9PT0gJ1hFTkZUJyk7DQogIGNvbnN0IGN0Um93cyA9IHJvd3MuZmlsdGVyKHIgPT4gU3RyaW5nKHIuU291cmNlVHlwZSkgIT09ICdYRU5GVCcpOw0KDQogIC8vIC0tLSBYRU5GVHM6IG9ubHkgc3VwcG9ydCAiY2xhaW0iIC0tLQ0KICBpZiAoeGZSb3dzLmxlbmd0aCkgew0KICAgIGlmIChtb2RlICE9PSAnY2xhaW0nKSB7DQogICAgICBhbGVydCgiUmVtaW50IGRvZXMgbm90IGFwcGx5IHRvIFhFTkZUcy4gWEVORlQgcm93cyB3aWxsIGJlIGlnbm9yZWQgZm9yIHJlbWludC4iKTsNCiAgICB9IGVsc2Ugew0KICAgICAgY29uc3QgVE9SUkVOVF9BRERSID0NCiAgICAgICAgKHR5cGVvZiBYRU5GVF9UT1JSRU5UID09PSAnc3RyaW5nJyAmJiBYRU5GVF9UT1JSRU5UKSB8fA0KICAgICAgICAod2luZG93LnhlbmZ0ICYmIHdpbmRvdy54ZW5mdC5DT05UUkFDVF9BRERSRVNTKSB8fA0KICAgICAgICAnMHgwYTI1MjY2M0RCQ2MwYjA3MzA2M0Q2NDIwYTQwMzE5ZTQzOENmYTU5JzsNCg0KICAgICAgY29uc3QgdG9yID0gbmV3IHdlYjNXYWxsZXQuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5mdEFiaSwgVE9SUkVOVF9BRERSKTsNCiAgICAgIGZvciAoY29uc3QgciBvZiB4ZlJvd3MpIHsNCiAgICAgICAgY29uc3QgdG9rZW5JZCA9IE51bWJlcihyLlhlbmZ0X2lkIHx8IHIuTWludF9pZF9TdGFydCB8fCByLnRva2VuSWQpOw0KICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0b2tlbklkKSkgeyBhbGVydCgiQmFkIFhFTkZUIHRva2VuSWQgaW4gc2VsZWN0aW9uLiIpOyBjb250aW51ZTsgfQ0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IHR4ID0gYXdhaXQgdG9yLm1ldGhvZHMuYnVsa0NsYWltTWludFJld2FyZCh0b2tlbklkLCBjb25uZWN0ZWRBY2NvdW50KQ0KICAgICAgICAgICAgLnNlbmQoeyBmcm9tOiBjb25uZWN0ZWRBY2NvdW50IH0pOw0KICAgICAgICAgIGlmICh0eXBlb2Ygc2hvd1RvYXN0ID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgICBzaG93VG9hc3QoYFhFTkZUICMke3Rva2VuSWR9IGNsYWltIHN1Ym1pdHRlZDogJHt0eC50cmFuc2FjdGlvbkhhc2h9YCwgInN1Y2Nlc3MiKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQoYFhFTkZUICMke3Rva2VuSWR9IGNsYWltIHN1Ym1pdHRlZDogJHt0eC50cmFuc2FjdGlvbkhhc2h9YCk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7DQogICAgICAgICAgYWxlcnQoZXJyPy5tZXNzYWdlIHx8IGBYRU5GVCAjJHt0b2tlbklkfSBjbGFpbSBmYWlsZWQuYCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICAvLyAtLS0gQ29pblRvb2wgcGF0aCAoYmF0Y2hlZCB0byBNQVhfVk1VX1BFUl9UWCkgLS0tDQogIGlmIChjdFJvd3MubGVuZ3RoKSB7DQogICAgLy8gb3B0aW9uYWw6IHNpbmdsZSBwcm9tcHQgZm9yIHJlbWludCB0ZXJtDQogICAgbGV0IHRlcm0gPSBudWxsOw0KICAgIGlmIChtb2RlID09PSAncmVtaW50Jykgew0KICAgICAgdGVybSA9IGF3YWl0IG9wZW5SZW1pbnRUZXJtRGlhbG9nKCk7DQogICAgICBpZiAodGVybSA9PSBudWxsKSB7IHJldHVybjsgfQ0KICAgIH0gZWxzZSB7DQogICAgICAvLyBjbGFpbSBwYXRoIGRvZXNuJ3QgcmVxdWlyZSB0ZXJtOyBidWlsZENsYWltRGF0YSBpZ25vcmVzIHRlcm0NCiAgICAgIHRlcm0gPSAwOw0KICAgIH0NCg0KICAgIC8vIEJ1aWxkIENvaW5Ub29sIGRhdGEgb25jZQ0KICAgIGNvbnN0IG1pbnRlciA9IGNvbm5lY3RlZEFjY291bnQ7DQogICAgY29uc3QgZGF0YUhleCA9IChtb2RlID09PSAnY2xhaW0nKSA/IGJ1aWxkQ2xhaW1EYXRhKG1pbnRlciwgWEVOX0VUSCkgOiBidWlsZFJlbWludERhdGEobWludGVyLCB0ZXJtKTsNCg0KICAgIC8vIEdyb3VwIGJ5IHNhbHQgZm9yIENvaW5Ub29sDQogICAgY29uc3QgYnlTYWx0ID0ge307DQogICAgZm9yIChjb25zdCByIG9mIGN0Um93cykgew0KICAgICAgY29uc3Qga2V5ID0gKGVuc3VyZUJ5dGVzKHIuU2FsdCkgfHwgJycpLnRvTG93ZXJDYXNlKCk7DQogICAgICBpZiAoIWJ5U2FsdFtrZXldKSBieVNhbHRba2V5XSA9IHsgc2FsdDogZW5zdXJlQnl0ZXMoci5TYWx0KSwgaWRzOiBbXSB9Ow0KICAgICAgYnlTYWx0W2tleV0uaWRzLnB1c2goLi4uZ2V0SWRzRm9yUm93KHIpKTsNCiAgICB9DQoNCiAgICBjb25zdCBjID0gbmV3IHdlYjNXYWxsZXQuZXRoLkNvbnRyYWN0KGNvaW50b29sQWJpLCBDT0lOVE9PTF9NQUlOKTsNCg0KICAgIC8vIFByZWZsaWdodDogY29tcHV0ZSB0b3RhbCBzZWxlY3RlZCBWTVVzIGFuZCBleGFjdCB0eCBjb3VudA0KICAgIGxldCB0b3RhbFZNVXMgPSAwOw0KICAgIGxldCB0b3RhbFR4Q291bnQgPSAwOw0KICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJ5U2FsdCkpIHsNCiAgICAgIGNvbnN0IHVuaXEgPSBBcnJheS5mcm9tKG5ldyBTZXQoYnlTYWx0W2tleV0uaWRzKSk7DQogICAgICB0b3RhbFZNVXMgKz0gdW5pcS5sZW5ndGg7DQogICAgICB0b3RhbFR4Q291bnQgKz0gTWF0aC5jZWlsKHVuaXEubGVuZ3RoIC8gTUFYX1ZNVV9QRVJfVFgpOw0KICAgIH0NCiAgICBpZiAodG90YWxWTVVzID4gTUFYX1ZNVV9QRVJfVFgpIHsNCiAgICAgIGFsZXJ0KGBZb3Ugc2VsZWN0ZWQgJHt0b3RhbFZNVXN9IFZNVXMgYWNyb3NzIENvaW5Ub29sIG1pbnRzLiBUaGUgY29udHJhY3QgYWxsb3dzIHVwIHRvICR7TUFYX1ZNVV9QRVJfVFh9IFZNVXMgcGVyIHRyYW5zYWN0aW9uLiBZb3VyIHJlcXVlc3Qgd2lsbCBiZSBzZW50IGluICR7dG90YWxUeENvdW50fSB0cmFuc2FjdGlvbihzKS5gKTsNCiAgICB9DQoNCiAgICAvLyBTZW5kIHBlci1zYWx0IGluIGNodW5rcyBvZiBNQVhfVk1VX1BFUl9UWA0KICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGJ5U2FsdCkpIHsNCiAgICAgIGNvbnN0IGdycCA9IGJ5U2FsdFtrZXldOw0KICAgICAgY29uc3QgdW5pcSA9IEFycmF5LmZyb20obmV3IFNldChncnAuaWRzKSkuc29ydCgoYSxiKT0+YS1iKTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5pcS5sZW5ndGg7IGkgKz0gTUFYX1ZNVV9QRVJfVFgpIHsNCiAgICAgICAgY29uc3QgY2h1bmsgPSB1bmlxLnNsaWNlKGksIGkgKyBNQVhfVk1VX1BFUl9UWCk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgY29uc3QgdHggPSBhd2FpdCBjLm1ldGhvZHMuZihjaHVuaywgZGF0YUhleCwgZ3JwLnNhbHQpLnNlbmQoeyBmcm9tOiBjb25uZWN0ZWRBY2NvdW50IH0pOw0KICAgICAgICAgIGlmICh0eXBlb2Ygc2hvd1RvYXN0ID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgICBzaG93VG9hc3QoYFN1Ym1pdHRlZCAke21vZGV9ICgke2NodW5rLmxlbmd0aH0gVk1Vcyk6ICR7dHgudHJhbnNhY3Rpb25IYXNofWAsICJzdWNjZXNzIik7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGFsZXJ0KGBTdWJtaXR0ZWQgJHttb2RlfSAoJHtjaHVuay5sZW5ndGh9IFZNVXMpOiAke3R4LnRyYW5zYWN0aW9uSGFzaH1gKTsNCiAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsNCiAgICAgICAgICBhbGVydChlcnI/Lm1lc3NhZ2UgfHwgYEJ1bGsgJHttb2RlfSBmYWlsZWQgZm9yIHNhbHQgJHtncnAuc2FsdH1gKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIC8vIEZpbmlzaCB1cA0KICBzZWxlY3RlZFJvd3MuY2xlYXIoKTsNCiAgcmVmcmVzaEJ1bGtVSSgpOw0KICBpZiAodHlwZW9mIHdpbmRvdy5yZWZyZXNoVW5pZmllZCA9PT0gJ2Z1bmN0aW9uJykgeyB0cnkgeyBhd2FpdCB3aW5kb3cucmVmcmVzaFVuaWZpZWQoKTsgfSBjYXRjaCB7fSB9DQp9DQoNCg0KLy8gUkVNSU5UICjigJxyZW1pbnQgbW9kZeKAnSBpbiB0aGUgc2NyaXB0KToNCi8vICAweGM0MDQ5M2RjDQovLyAgKyAzMiBieXRlcyAoYWRkcmVzcyBSRU1JTlRfSEVMUEVSKQ0KLy8gICsgb2Zmc2V0IDB4NDANCi8vICArIGxlbmd0aCAweDQ0DQovLyAgKyAweDY4MTU0MzQzDQovLyAgKyAzMiBieXRlcyAobWludGVyIGFkZHJlc3MpDQovLyAgKyAzMiBieXRlcyAobWFudWFsX21heF90ZXJtIGFzIDMtaGV4LWRpZ2l0LCBlLmcuIDB4MDY0KSBpbiB0aGUgbG93IGJpdHMNCi8vICArIHBhZGRpbmcNCmZ1bmN0aW9uIGJ1aWxkUmVtaW50RGF0YShtaW50ZXIsIG1hbnVhbERheXMgLyogaW50ZWdlciAxLi45OTkgKi8pIHsNCiAgY29uc3QgaGVscGVyTm8gPSBubzB4KFJFTUlOVF9IRUxQRVIpOw0KICBjb25zdCBtaW50ZXJObyA9IG5vMHgobWludGVyKTsNCg0KICAvLyAzLWRpZ2l0IGhleCAobG93ZXJjYXNlKSwgbGlrZSB0aGUgUHl0aG9uIGNvZGUgKGUuZy4sIDEwMCAtPiAiMDY0IikNCiAgY29uc3QgdGVybUhleDMgPSBtYW51YWxEYXlzLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgzLCAnMCcpLnRvTG93ZXJDYXNlKCk7DQogIGNvbnN0IHRhaWxUZXJtID0gJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnDQogICAgKyB0ZXJtSGV4Mw0KICAgICsgJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJzsNCg0KICBjb25zdCBoZWFkID0gJzB4YzQwNDkzZGMnDQogICAgKyAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyArIGhlbHBlck5vDQogICAgKyAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MCcNCiAgICArICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0Jw0KICAgICsgJzY4MTU0MzQzJw0KICAgICsgJzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcgKyBtaW50ZXJObw0KICAgICsgdGFpbFRlcm07DQoNCiAgcmV0dXJuIGhlYWQ7DQp9DQoNCmZ1bmN0aW9uIG9wZW5EQigpIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAvLyBidW1wIHRvIHYzIHRvIGFkZCBhY3Rpb25zQ2FjaGUNCiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oIkRCX0NvaW50b29sIiwgMyk7DQoNCiAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IGV2ZW50ID0+IHsNCiAgICAgIGNvbnN0IGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDsNCg0KICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCJtaW50cyIpKSB7DQogICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCJtaW50cyIsIHsga2V5UGF0aDogIklEIiB9KTsNCiAgICAgIH0NCiAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygic2NhblN0YXRlIikpIHsNCiAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoInNjYW5TdGF0ZSIsIHsga2V5UGF0aDogImFkZHJlc3MiIH0pOw0KICAgICAgfQ0KICAgICAgLy8gTkVXOiBwZXJzaXN0IHBvc3QtbWludCBhY3Rpb25zIHBlciBhZGRyZXNzDQogICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoImFjdGlvbnNDYWNoZSIpKSB7DQogICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCJhY3Rpb25zQ2FjaGUiLCB7IGtleVBhdGg6ICJhZGRyZXNzIiB9KTsNCiAgICAgIH0NCiAgICB9Ow0KDQogICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpOw0KICAgIHJlcXVlc3Qub25lcnJvciA9IGV2ZW50ID0+IHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpOw0KICB9KTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aW9uc0NhY2hlKGRiLCBhZGRyZXNzKSB7DQogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oImFjdGlvbnNDYWNoZSIsICJyZWFkb25seSIpOw0KICAgICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZSgiYWN0aW9uc0NhY2hlIik7DQogICAgICBjb25zdCByZXEgPSBzdG9yZS5nZXQoY2xlYW5IZXhBZGRyKGFkZHJlc3MpKTsNCiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBlID0+IHsNCiAgICAgICAgY29uc3Qgcm93ID0gZS50YXJnZXQucmVzdWx0Ow0KICAgICAgICByZXNvbHZlKChyb3cgJiYgcm93LmFjdGlvbnMpID8gcm93LmFjdGlvbnMgOiB7fSk7DQogICAgICB9Ow0KICAgICAgcmVxLm9uZXJyb3IgPSBlID0+IHJlamVjdChlKTsNCiAgICB9IGNhdGNoIChlKSB7IHJlc29sdmUoe30pOyB9DQogIH0pOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBwdXRBY3Rpb25zQ2FjaGUoZGIsIGFkZHJlc3MsIGFjdGlvbnNNYXApIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICB0cnkgew0KICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbigiYWN0aW9uc0NhY2hlIiwgInJlYWR3cml0ZSIpOw0KICAgICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZSgiYWN0aW9uc0NhY2hlIik7DQogICAgICBzdG9yZS5wdXQoew0KICAgICAgICBhZGRyZXNzOiBjbGVhbkhleEFkZHIoYWRkcmVzcyksDQogICAgICAgIGFjdGlvbnM6IGFjdGlvbnNNYXAsDQogICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKQ0KICAgICAgfSkub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpOw0KICAgICAgdHgub25lcnJvciA9IGUgPT4gcmVqZWN0KGUpOw0KICAgIH0gY2F0Y2ggKGUpIHsgcmVzb2x2ZSgpOyB9DQogIH0pOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBjbGVhckFjdGlvbnNDYWNoZShkYiwgYWRkcmVzcykgew0KICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgIHRyeSB7DQogICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCJhY3Rpb25zQ2FjaGUiLCAicmVhZHdyaXRlIik7DQogICAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCJhY3Rpb25zQ2FjaGUiKTsNCiAgICAgIHN0b3JlLmRlbGV0ZShjbGVhbkhleEFkZHIoYWRkcmVzcykpLm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTsNCiAgICAgIHR4Lm9uZXJyb3IgPSBlID0+IHJlamVjdChlKTsNCiAgICB9IGNhdGNoIChlKSB7IHJlc29sdmUoKTsgfQ0KICB9KTsNCn0NCg0KZnVuY3Rpb24gc2F2ZU1pbnQoZGIsIG1pbnQpIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICBpZiAoIWRiKSByZXR1cm4gcmVqZWN0KCJEQiBub3QgaW5pdGlhbGl6ZWQiKTsNCiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCJtaW50cyIsICJyZWFkd3JpdGUiKTsNCiAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCJtaW50cyIpOw0KICAgIHN0b3JlLnB1dChtaW50KS5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKCk7DQogICAgdHgub25lcnJvciA9IGUgPT4gcmVqZWN0KGUpOw0KICB9KTsNCn0NCmZ1bmN0aW9uIGdldEFsbE1pbnRzKGRiKSB7DQogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgaWYgKCFkYikgcmV0dXJuIHJlamVjdCgiREIgbm90IGluaXRpYWxpemVkIik7DQogICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbigibWludHMiLCAicmVhZG9ubHkiKTsNCiAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCJtaW50cyIpOw0KICAgIHN0b3JlLmdldEFsbCgpLm9uc3VjY2VzcyA9IChldmVudCkgPT4gcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KTsNCiAgICB0eC5vbmVycm9yID0gZSA9PiByZWplY3QoZSk7DQogIH0pOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRTY2FuU3RhdGUoZGIsIGFkZHJlc3MpIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICBpZiAoIWRiKSByZXR1cm4gcmVqZWN0KCJEQiBub3QgaW5pdGlhbGl6ZWQiKTsNCiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCJzY2FuU3RhdGUiLCAicmVhZG9ubHkiKTsNCiAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCJzY2FuU3RhdGUiKTsNCiAgICBjb25zdCByZXEgPSBzdG9yZS5nZXQoY2xlYW5IZXhBZGRyKGFkZHJlc3MpKTsNCiAgICByZXEub25zdWNjZXNzID0gZSA9PiByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCB8fCBudWxsKTsNCiAgICB0eC5vbmVycm9yID0gZSA9PiByZWplY3QoZSk7DQogIH0pOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBwdXRTY2FuU3RhdGUoZGIsIGFkZHJlc3MsIGxhc3RTY2FubmVkQmxvY2spIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICBpZiAoIWRiKSByZXR1cm4gcmVqZWN0KCJEQiBub3QgaW5pdGlhbGl6ZWQiKTsNCiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCJzY2FuU3RhdGUiLCAicmVhZHdyaXRlIik7DQogICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZSgic2NhblN0YXRlIik7DQogICAgc3RvcmUucHV0KHsNCiAgICAgIGFkZHJlc3M6IGNsZWFuSGV4QWRkcihhZGRyZXNzKSwNCiAgICAgIGxhc3RTY2FubmVkQmxvY2s6IE51bWJlcihsYXN0U2Nhbm5lZEJsb2NrKSB8fCAwLA0KICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpDQogICAgfSkub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpOw0KICAgIHR4Lm9uZXJyb3IgPSBlID0+IHJlamVjdChlKTsNCiAgfSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGNsZWFyU2NhblN0YXRlKGRiLCBhZGRyZXNzKSB7DQogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgaWYgKCFkYikgcmV0dXJuIHJlamVjdCgiREIgbm90IGluaXRpYWxpemVkIik7DQogICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbigic2NhblN0YXRlIiwgInJlYWR3cml0ZSIpOw0KICAgIGNvbnN0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoInNjYW5TdGF0ZSIpOw0KICAgIHN0b3JlLmRlbGV0ZShjbGVhbkhleEFkZHIoYWRkcmVzcykpLm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTsNCiAgICB0eC5vbmVycm9yID0gZSA9PiByZWplY3QoZSk7DQogIH0pOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBnZXRNaW50QnlVbmlxdWVJZChkYiwgaWQpIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICBpZiAoIWRiKSByZXR1cm4gcmVqZWN0KCJEQiBub3QgaW5pdGlhbGl6ZWQiKTsNCiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCJtaW50cyIsICJyZWFkb25seSIpOw0KICAgIGNvbnN0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoIm1pbnRzIik7DQogICAgc3RvcmUuZ2V0KGlkKS5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7DQogICAgdHgub25lcnJvciA9IGUgPT4gcmVqZWN0KGUpOw0KICB9KTsNCn0NCg0KLy8gLS0tIFVUSUxJVFkgRlVOQ1RJT05TIC0tLQ0KZnVuY3Rpb24gZ2V0TG9jYWxEYXRlU3RyaW5nKGRhdGUpIHsNCiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsNCiAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTsNCiAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpOw0KICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDsNCn0NCg0KLy8gPT09PT0gVk1VIENoYXJ0IChFQ2hhcnRzKSA9PT09PQ0KbGV0IHZtdUNoYXJ0ID0gbnVsbDsNCmxldCBfdm11Q2hhcnRSZWFkeSA9IGZhbHNlOw0KbGV0IF92bXVDaGFydE1ldHJpYyA9ICd2bXVzJzsNCmxldCBfdm11Q2hhcnRJbml0UGVuZGluZyA9IGZhbHNlOyAvLyBpZiB0cnVlLCAocmUpaW5pdCB3aGVuIERhc2hib2FyZCBiZWNvbWVzIHZpc2libGUNCg0KZnVuY3Rpb24gX2ZtdEF4aXNEYXRlTGFiZWwoa2V5KXsNCiAgLy8gSW5wdXQga2V5IGlzICdZWVlZLU1NLUREJzsgb3V0cHV0ICdZWVlZLU1vbi1ERCcNCiAgdHJ5IHsNCiAgICBjb25zdCBtID0gU3RyaW5nKGtleSB8fCAnJykubWF0Y2goL14oXGR7NH0pLShcZHsyfSktKFxkezJ9KSQvKTsNCiAgICBpZiAoIW0pIHJldHVybiBTdHJpbmcoa2V5IHx8ICcnKTsNCiAgICBjb25zdCBtb250aHMgPSBbJ0phbicsJ0ZlYicsJ01hcicsJ0FwcicsJ01heScsJ0p1bicsJ0p1bCcsJ0F1ZycsJ1NlcCcsJ09jdCcsJ05vdicsJ0RlYyddOw0KICAgIGNvbnN0IG1vbklkeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDExLCBwYXJzZUludChtWzJdLCAxMCkgLSAxKSk7DQogICAgcmV0dXJuIGAke21bMV19LSR7bW9udGhzW21vbklkeF19LSR7bVszXX1gOw0KICB9IGNhdGNoIHsgcmV0dXJuIFN0cmluZyhrZXkgfHwgJycpOyB9DQp9DQoNCmZ1bmN0aW9uIF9jb2xsZWN0QWN0aXZlUm93cygpIHsNCiAgLy8gUmV0dXJuIEFMTCByb3dzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3RpdmUgKHBvc3QtZmlsdGVyLCBwb3N0LXNvcnQpLCBhY3Jvc3MgYWxsIHBhZ2VzLg0KICB0cnkgew0KICAgIGNvbnN0IHQgPSB3aW5kb3cuY29pbnRvb2xUYWJsZTsNCiAgICBpZiAoIXQpIHJldHVybiBbXTsNCiAgICAvLyBQcmVmZXJyZWQ6IGRhdGEgc25hcHNob3Qgb2YgYWxsIGFjdGl2ZSByb3dzDQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IGFjdGl2ZURhdGEgPSB0eXBlb2YgdC5nZXREYXRhID09PSAnZnVuY3Rpb24nID8gdC5nZXREYXRhKCdhY3RpdmUnKSA6IG51bGw7DQogICAgICBpZiAoQXJyYXkuaXNBcnJheShhY3RpdmVEYXRhKSAmJiBhY3RpdmVEYXRhLmxlbmd0aCA+PSAwKSB7DQogICAgICAgIGNvbnNvbGUuZGVidWcoJ1tWTVUtQ0hBUlRdIF9jb2xsZWN0QWN0aXZlUm93cyBzb3VyY2U9ZGF0YShhY3RpdmUpIGNvdW50PScsIGFjdGl2ZURhdGEubGVuZ3RoKTsNCiAgICAgICAgcmV0dXJuIGFjdGl2ZURhdGE7DQogICAgICB9DQogICAgfSBjYXRjaCB7fQ0KICAgIC8vIEZhbGxiYWNrOiBSb3dDb21wb25lbnRzIG9mIGFjdGl2ZSByb3dzDQogICAgdHJ5IHsNCiAgICAgIGlmICh0eXBlb2YgdC5nZXRSb3dzID09PSAnZnVuY3Rpb24nKSB7DQogICAgICAgIGNvbnN0IHJvd3MgPSB0LmdldFJvd3MoJ2FjdGl2ZScpOw0KICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyb3dzKSkgew0KICAgICAgICAgIGNvbnN0IG91dCA9IHJvd3MubWFwKHIgPT4gKHR5cGVvZiByLmdldERhdGEgPT09ICdmdW5jdGlvbicgPyByLmdldERhdGEoKSA6IHIpKS5maWx0ZXIoQm9vbGVhbik7DQogICAgICAgICAgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gX2NvbGxlY3RBY3RpdmVSb3dzIHNvdXJjZT1yb3dDb21wb25lbnRzKGFjdGl2ZSkgY291bnQ9Jywgb3V0Lmxlbmd0aCk7DQogICAgICAgICAgcmV0dXJuIG91dDsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0gY2F0Y2gge30NCiAgICAvLyBMYXN0IHJlc29ydDogZnVsbCBkYXRhIHNldCAobWF5IGlnbm9yZSBmaWx0ZXJzIGRlcGVuZGluZyBvbiBUYWJ1bGF0b3IgdmVyc2lvbikNCiAgICB0cnkgew0KICAgICAgY29uc3QgYWxsID0gKHR5cGVvZiB0LmdldERhdGEgPT09ICdmdW5jdGlvbicpID8gdC5nZXREYXRhKCkgOiBbXTsNCiAgICAgIGNvbnNvbGUuZGVidWcoJ1tWTVUtQ0hBUlRdIF9jb2xsZWN0QWN0aXZlUm93cyBzb3VyY2U9ZGF0YShhbGwpIGNvdW50PScsIEFycmF5LmlzQXJyYXkoYWxsKSA/IGFsbC5sZW5ndGggOiAwKTsNCiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGFsbCkgPyBhbGwgOiBbXTsNCiAgICB9IGNhdGNoIHt9DQogICAgcmV0dXJuIFtdOw0KICB9IGNhdGNoIChfKSB7DQogICAgcmV0dXJuIFtdOw0KICB9DQp9DQoNCmZ1bmN0aW9uIF9ncm91cFZNVXNCeURhdGUocm93cykgew0KICBjb25zdCBtYXAgPSB7fTsNCiAgZm9yIChjb25zdCByIG9mIHJvd3MpIHsNCiAgICBjb25zdCB2bXUgPSBOdW1iZXIocj8uVk1VcyB8fCAwKTsNCiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2bXUpIHx8IHZtdSA8PSAwKSBjb250aW51ZTsNCiAgICBsZXQgZGF0ZVN0ciA9IHI/Lm1hdHVyaXR5RGF0ZU9ubHk7DQogICAgaWYgKCFkYXRlU3RyKSB7DQogICAgICBjb25zdCB0ID0gTnVtYmVyKHI/Lk1hdHVyaXR5X1RpbWVzdGFtcCB8fCAwKTsNCiAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodCkgJiYgdCA+IDApIHsNCiAgICAgICAgZGF0ZVN0ciA9IGdldExvY2FsRGF0ZVN0cmluZyhuZXcgRGF0ZSh0ICogMTAwMCkpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8gZmFsbGJhY2s6IHNraXAgcm93cyB3aXRob3V0IGEgbWF0dXJpdHkgZGF0ZQ0KICAgICAgICBjb250aW51ZTsNCiAgICAgIH0NCiAgICB9DQogICAgbWFwW2RhdGVTdHJdID0gKG1hcFtkYXRlU3RyXSB8fCAwKSArIHZtdTsNCiAgfQ0KICBjb25zdCBkYXRlcyA9IE9iamVjdC5rZXlzKG1hcCkuc29ydCgpOw0KICBpZiAoZGF0ZXMubGVuZ3RoID09PSAwICYmIHR5cGVvZiB3aW5kb3cucm93VG9Mb2NhbEtleSA9PT0gJ2Z1bmN0aW9uJykgew0KICAgIC8vIEZhbGxiYWNrOiB1c2UgZ2xvYmFsIGhlbHBlciB0byBjb21wdXRlIGRhdGUga2V5IGZyb20gdmFyaW91cyByb3cgc2hhcGVzDQogICAgY29uc3QgbWFwMiA9IHt9Ow0KICAgIGZvciAoY29uc3QgciBvZiByb3dzKSB7DQogICAgICBjb25zdCBrZXkgPSB3aW5kb3cucm93VG9Mb2NhbEtleShyKTsNCiAgICAgIGlmICgha2V5KSBjb250aW51ZTsNCiAgICAgIGNvbnN0IHZtdSA9IE51bWJlcihyPy5WTVVzIHx8IDApOw0KICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodm11KSB8fCB2bXUgPD0gMCkgY29udGludWU7DQogICAgICBtYXAyW2tleV0gPSAobWFwMltrZXldIHx8IDApICsgdm11Ow0KICAgIH0NCiAgICBjb25zdCBkYXRlczIgPSBPYmplY3Qua2V5cyhtYXAyKS5zb3J0KCk7DQogICAgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gZmFsbGJhY2sgcm93VG9Mb2NhbEtleSBkYXlzPScsIGRhdGVzMi5sZW5ndGgsICdzYW1wbGU9JywgZGF0ZXMyLnNsaWNlKDAsMykubWFwKGQ9Pih7ZCwgdjogbWFwMltkXX0pKSk7DQogICAgcmV0dXJuIHsgZGF0ZXM6IGRhdGVzMiwgdmFsdWVzOiBkYXRlczIubWFwKGQgPT4gbWFwMltkXSkgfTsNCiAgfQ0KICBjb25zb2xlLmRlYnVnKCdbVk1VLUNIQVJUXSBfZ3JvdXBWTVVzQnlEYXRlIGRheXM9JywgZGF0ZXMubGVuZ3RoLCAnc2FtcGxlPScsIGRhdGVzLnNsaWNlKDAsMykubWFwKGQ9Pih7ZCwgdjogbWFwW2RdfSkpKTsNCiAgcmV0dXJuIHsgZGF0ZXMsIHZhbHVlczogZGF0ZXMubWFwKGQgPT4gbWFwW2RdKSB9Ow0KfQ0KDQpmdW5jdGlvbiBpbml0Vm11Q2hhcnRTZWN0aW9uKCkgew0KICBpZiAoX3ZtdUNoYXJ0UmVhZHkpIHJldHVybjsNCiAgY29uc3Qgd3JhcCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndm11LWNoYXJ0LXdyYXAnKTsNCiAgY29uc3QgYm9keSAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndm11Q2hhcnRCb2R5Jyk7DQogIGNvbnN0IGJ0biAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZtdUNoYXJ0VG9nZ2xlJyk7DQogIGNvbnN0IG5vZGUgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZtdUNoYXJ0Jyk7DQogIGlmICghd3JhcCB8fCAhYm9keSB8fCAhYnRuIHx8ICFub2RlKSByZXR1cm47DQoNCiAgLy8gVG9nZ2xlIGJlaGF2aW9yDQogIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICBjb25zdCBleHBhbmRlZCA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gJ3RydWUnOw0KICAgIGNvbnN0IG5leHQgPSAhZXhwYW5kZWQ7DQogICAgc2V0Vm11Q2hhcnRFeHBhbmRlZFN0YXRlKG5leHQpOw0KICB9KTsNCg0KICAvLyBNZXRyaWMgdG9nZ2xlIHdpcmluZw0KICBjb25zdCB2bXVzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZtdUNoYXJ0TW9kZVZNVXMnKTsNCiAgY29uc3QgdXNkQnRuICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2bXVDaGFydE1vZGVVU0QnKTsNCiAgaWYgKHZtdXNCdG4gJiYgdXNkQnRuKSB7DQogICAgY29uc3QgYXBwbHlVaSA9ICgpID0+IHsNCiAgICAgIHZtdXNCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgX3ZtdUNoYXJ0TWV0cmljID09PSAndm11cycpOw0KICAgICAgdXNkQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIF92bXVDaGFydE1ldHJpYyA9PT0gJ3VzZCcpOw0KICAgICAgdm11c0J0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBTdHJpbmcoX3ZtdUNoYXJ0TWV0cmljID09PSAndm11cycpKTsNCiAgICAgIHVzZEJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBTdHJpbmcoX3ZtdUNoYXJ0TWV0cmljID09PSAndXNkJykpOw0KICAgIH07DQogICAgY29uc3Qgc2V0TWV0cmljID0gKG0pID0+IHsNCiAgICAgIGlmIChtICE9PSAndm11cycgJiYgbSAhPT0gJ3VzZCcpIG0gPSAndm11cyc7DQogICAgICBfdm11Q2hhcnRNZXRyaWMgPSBtOw0KICAgICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZtdUNoYXJ0TWV0cmljJywgbSk7IH0gY2F0Y2gge30NCiAgICAgIGFwcGx5VWkoKTsNCiAgICAgIHVwZGF0ZVZtdUNoYXJ0KCk7DQogICAgfTsNCiAgICB2bXVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2V0TWV0cmljKCd2bXVzJykpOw0KICAgIHVzZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNldE1ldHJpYygndXNkJykpOw0KICAgIC8vIGluaXRpYWwgZnJvbSBzdG9yYWdlDQogICAgdHJ5IHsgX3ZtdUNoYXJ0TWV0cmljID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2bXVDaGFydE1ldHJpYycpIHx8ICd2bXVzJyk7IH0gY2F0Y2gge30NCiAgICBpZiAoX3ZtdUNoYXJ0TWV0cmljICE9PSAndm11cycgJiYgX3ZtdUNoYXJ0TWV0cmljICE9PSAndXNkJykgX3ZtdUNoYXJ0TWV0cmljID0gJ3ZtdXMnOw0KICAgIGFwcGx5VWkoKTsNCiAgfQ0KDQogIC8vIERlZmVyIEVDaGFydHMgaW5pdCB1bnRpbCBleHBhbmRlZA0KICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4geyB0cnkgeyBpZiAodm11Q2hhcnQpIHZtdUNoYXJ0LnJlc2l6ZSgpOyB9IGNhdGNoIHt9IH0pOw0KDQogIF92bXVDaGFydFJlYWR5ID0gdHJ1ZTsNCiAgLy8gSW5pdGlhbGl6ZSBmcm9tIHNhdmVkIHN0YXRlIChkZWZhdWx0IGNvbGxhcHNlZCBvbiBmaXJzdCBsb2FkKQ0KICB0cnkgew0KICAgIGNvbnN0IHNhdmVkID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2bXVDaGFydEV4cGFuZGVkJykgfHwgJzAnKSA9PT0gJzEnOw0KICAgIHNldFZtdUNoYXJ0RXhwYW5kZWRTdGF0ZShzYXZlZCk7DQogIH0gY2F0Y2ggKF8pIHt9DQp9DQoNCmZ1bmN0aW9uIHVwZGF0ZVZtdUNoYXJ0KCkgew0KICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2bXVDaGFydCcpKSByZXR1cm47DQogIGlmICghdm11Q2hhcnQgJiYgd2luZG93LmVjaGFydHMpIHsNCiAgICAvLyBsYXp5IGluaXQgaWYgbmVlZGVkDQogICAgaW5pdFZtdUNoYXJ0U2VjdGlvbigpOw0KICB9DQogIGlmICghdm11Q2hhcnQpIHJldHVybjsNCiAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2bXVDaGFydCcpOw0KICBjb25zdCB3ID0gbm9kZSA/IG5vZGUub2Zmc2V0V2lkdGggOiAwOw0KICBjb25zdCBoID0gbm9kZSA/IG5vZGUub2Zmc2V0SGVpZ2h0IDogMDsNCiAgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gdXBkYXRlVm11Q2hhcnQgc2l6ZTonLCB7dyxofSk7DQogIGlmICghKG5vZGUgJiYgdyA+IDAgJiYgaCA+IDApKSB7IGNvbnNvbGUuZGVidWcoJ1tWTVUtQ0hBUlRdIHNraXAgdXBkYXRlIGR1ZSB0byB6ZXJvIHNpemUnKTsgcmV0dXJuOyB9DQogIGNvbnN0IHJvd3MgPSBfY29sbGVjdEFjdGl2ZVJvd3MoKTsNCiAgbGV0IGRhdGVzID0gW10sIHZhbHVlcyA9IFtdOw0KICBpZiAoX3ZtdUNoYXJ0TWV0cmljID09PSAndXNkJykgew0KICAgIGNvbnN0IG91dCA9IF9ncm91cFhlblVzZEJ5RGF0ZShyb3dzKTsNCiAgICBkYXRlcyA9IG91dC5kYXRlczsgdmFsdWVzID0gb3V0LnZhbHVlczsNCiAgfSBlbHNlIHsNCiAgICBjb25zdCBvdXQgPSBfZ3JvdXBWTVVzQnlEYXRlKHJvd3MpOw0KICAgIGRhdGVzID0gb3V0LmRhdGVzOyB2YWx1ZXMgPSBvdXQudmFsdWVzOw0KICB9DQogIGNvbnNvbGUuZGVidWcoJ1tWTVUtQ0hBUlRdIG1ldHJpYz0nLCBfdm11Q2hhcnRNZXRyaWMsICdwb2ludHM9JywgZGF0ZXMubGVuZ3RoKTsNCiAgaWYgKChkYXRlcy5sZW5ndGggPT09IDApICYmIHJvd3MgJiYgcm93cy5sZW5ndGgpIHsNCiAgICB0cnkgew0KICAgICAgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gcm93cyBwcmVzZW50IGJ1dCBubyBkYXRlcy4gU2FtcGxlIHJvdyBrZXlzOicsIE9iamVjdC5rZXlzKHJvd3NbMF0gfHwge30pKTsNCiAgICAgIGNvbnNvbGUuZGVidWcoJ1tWTVUtQ0hBUlRdIHNhbXBsZSByb3dzWzAuLjJdOicsIHJvd3Muc2xpY2UoMCwzKSk7DQogICAgfSBjYXRjaCB7fQ0KICB9DQogICAgY29uc3QgZW1wdHkgPSAhZGF0ZXMgfHwgZGF0ZXMubGVuZ3RoID09PSAwOw0KICAvLyBQcmVzZXJ2ZSBjdXJyZW50IHNlcmllcyB0eXBlIChsaW5lL2JhcikgYWNyb3NzIHVwZGF0ZXMgKHdvcmtzIHdpdGggYm90aCBjdXN0b20gYW5kIG1hZ2ljVHlwZSB0b2dnbGVzKQ0KICBsZXQgY3VycmVudFNlcmllc1R5cGUgPSAnYmFyJzsNCiAgdHJ5IHsNCiAgICBjb25zdCBjdXIgPSB2bXVDaGFydC5nZXRPcHRpb24oKTsNCiAgICBpZiAoY3VyICYmIGN1ci5zZXJpZXMgJiYgY3VyLnNlcmllc1swXSAmJiBjdXIuc2VyaWVzWzBdLnR5cGUpIHsNCiAgICAgIGN1cnJlbnRTZXJpZXNUeXBlID0gY3VyLnNlcmllc1swXS50eXBlOw0KICAgIH0NCiAgfSBjYXRjaCB7fQ0KICBjb25zdCBvcHRzID0gew0KICAgIHRpdGxlOiB7IHRleHQ6IChfdm11Q2hhcnRNZXRyaWMgPT09ICd1c2QnID8gJ1ZhbHVlJyA6ICdWTVVzJyksIHN1YnRleHQ6IGVtcHR5ID8gJ05vIGRhdGEgZm9yIGN1cnJlbnQgdmlldycgOiAnJyB9LA0KICAgIHhBeGlzOiB7IGRhdGE6IGRhdGVzLCBheGlzTGFiZWw6IHsgZm9ybWF0dGVyOiBmdW5jdGlvbih2YWx1ZSl7IHJldHVybiBfZm10QXhpc0RhdGVMYWJlbCh2YWx1ZSk7IH0gfSB9LA0KICAgIHNlcmllczogW3sgdHlwZTogY3VycmVudFNlcmllc1R5cGUsIGRhdGE6IHZhbHVlcyB9XSwNCiAgICB5QXhpczogeyB0eXBlOiAndmFsdWUnLCBuYW1lOiAoX3ZtdUNoYXJ0TWV0cmljID09PSAndXNkJyA/ICdVU0QnIDogJ1ZNVXMnKSwgbmFtZUdhcDogMTIgfSwNCiAgICB0b29sdGlwOiB7DQogICAgICB0cmlnZ2VyOiAnYXhpcycsDQogICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKHBhcmFtcyl7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgdmFyIHAgPSBBcnJheS5pc0FycmF5KHBhcmFtcykgPyBwYXJhbXNbMF0gOiBwYXJhbXM7DQogICAgICAgICAgdmFyIGRhdGVLZXkgPSAocCAmJiAocC5heGlzVmFsdWUgfHwgcC5uYW1lKSkgfHwgJyc7DQogICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlS2V5ICsgJ1QwMDowMDowMCcpOw0KICAgICAgICAgIHZhciBtb250aHMgPSBbJ0phbicsJ0ZlYicsJ01hcicsJ0FwcicsJ01heScsJ0p1bicsJ0p1bCcsJ0F1ZycsJ1NlcCcsJ09jdCcsJ05vdicsJ0RlYyddOw0KICAgICAgICAgIHZhciB3ZWVrZGF5cyA9IFsnU3VuJywnTW9uJywnVHVlJywnV2VkJywnVGh1JywnRnJpJywnU2F0J107DQogICAgICAgICAgdmFyIGZtdERhdGUgPSBpc05hTihkLmdldFRpbWUoKSkNCiAgICAgICAgICAgID8gZGF0ZUtleQ0KICAgICAgICAgICAgOiAod2Vla2RheXNbZC5nZXREYXkoKV0gKyAnICcgKyBtb250aHNbZC5nZXRNb250aCgpXSArICcgJyArIGQuZ2V0RGF0ZSgpICsgJywgJyArIGQuZ2V0RnVsbFllYXIoKSk7DQogICAgICAgICAgdmFyIHJvd3MyID0gX2NvbGxlY3RBY3RpdmVSb3dzKCk7DQogICAgICAgICAgdmFyIHZtdVRvdGFsID0gMCwgdXNkVG90YWwgPSAwOw0KICAgICAgICAgIHZhciBwcmljZSA9ICh0eXBlb2YgeGVuVXNkUHJpY2UgPT09ICdudW1iZXInICYmIHhlblVzZFByaWNlID4gMCkgPyB4ZW5Vc2RQcmljZSA6IG51bGw7DQogICAgICAgICAgZm9yICh2YXIgaT0wO2k8cm93czIubGVuZ3RoO2krKykgew0KICAgICAgICAgICAgdmFyIHIgPSByb3dzMltpXTsNCiAgICAgICAgICAgIHZhciBrZXkgPSAodHlwZW9mIHdpbmRvdy5yb3dUb0xvY2FsS2V5ID09PSAnZnVuY3Rpb24nKSA/IHdpbmRvdy5yb3dUb0xvY2FsS2V5KHIpIDogKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgIHZhciB0ID0gTnVtYmVyKChyICYmIHIuTWF0dXJpdHlfVGltZXN0YW1wKSB8fCAwKTsNCiAgICAgICAgICAgICAgcmV0dXJuIGlzRmluaXRlKHQpICYmIHQgPiAwID8gZ2V0TG9jYWxEYXRlU3RyaW5nKG5ldyBEYXRlKHQgKiAxMDAwKSkgOiAoKHIgJiYgci5tYXR1cml0eURhdGVPbmx5KSB8fCAnJyk7DQogICAgICAgICAgICB9KSgpOw0KICAgICAgICAgICAgaWYgKGtleSAhPT0gZGF0ZUtleSkgY29udGludWU7DQogICAgICAgICAgICB2YXIgdm11cyA9IE51bWJlcigociAmJiByLlZNVXMpIHx8IDApOw0KICAgICAgICAgICAgaWYgKGlzRmluaXRlKHZtdXMpICYmIHZtdXMgPiAwKSB2bXVUb3RhbCArPSB2bXVzOw0KICAgICAgICAgICAgdmFyIHRva2VucyA9IE51bWJlcihlc3RpbWF0ZVhFTkZvclJvdyhyKSkgfHwgMDsNCiAgICAgICAgICAgIGlmIChpc0Zpbml0ZSh0b2tlbnMpICYmIHRva2VucyA+IDApIHVzZFRvdGFsICs9IChwcmljZSA/IHRva2VucyAqIHByaWNlIDogdG9rZW5zKTsNCiAgICAgICAgICB9DQogICAgICAgICAgdmFyIHZtdVN0ciA9IE51bWJlcih2bXVUb3RhbCkudG9Mb2NhbGVTdHJpbmcoKTsNCiAgICAgICAgICB2YXIgdXNkU3RyID0gZm9ybWF0VVNEKE51bWJlcih1c2RUb3RhbCkpOw0KICAgICAgICAgIHJldHVybiAnRGF0ZTogJyArIGZtdERhdGUgKyAnPGJyLz5WTVVzOiAnICsgdm11U3RyICsgJzxici8+VmFsdWU6ICcgKyB1c2RTdHI7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICB2YXIgdiA9IEFycmF5LmlzQXJyYXkocGFyYW1zKSA/IChwYXJhbXNbMF0gJiYgcGFyYW1zWzBdLnZhbHVlKSA6IChwYXJhbXMgJiYgcGFyYW1zLnZhbHVlKTsNCiAgICAgICAgICByZXR1cm4gKHBhcmFtcyAmJiBwYXJhbXMuYXhpc1ZhbHVlKSArICc8YnIvPicgKyBOdW1iZXIodikudG9Mb2NhbGVTdHJpbmcoKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfTsNCg0KICAvLyBBcHBseSBsaWdodC9kYXJrL3JldHJvIHRoZW1pbmcgdG8gY2hhcnQsIGluY2x1ZGluZyBtZXRyaWMtc2Vuc2l0aXZlIGNvbG9ycw0KICB0cnkgew0KICAgIGNvbnN0IGlzRGFyayA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrLW1vZGUnKTsNCiAgICBjb25zdCBpc1JldHJvID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3JldHJvLW1vZGUnKTsNCiAgICBjb25zdCBpc01hdHJpeCA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXRyaXgtbW9kZScpOw0KICAgIGNvbnN0IHRleHRDb2xvciA9IGlzRGFyayA/ICcjZTVlN2ViJyA6IGlzUmV0cm8gPyAnI2M3ZmZmNycgOiBpc01hdHJpeCA/ICcjMDBmZjAwJyA6ICcjMTExODI3JzsNCiAgICBjb25zdCBheGlzQ29sb3IgPSBpc0RhcmsgPyAnIzlhYTRiMicgOiBpc1JldHJvID8gJyNiZmU5ZmYnIDogaXNNYXRyaXggPyAnIzAwYWEwMCcgOiAnIzZiNzI4MCc7DQogICAgY29uc3Qgc3BsaXRDb2xvciA9IGlzRGFyayA/ICcjMmEzMzQxJyA6IGlzUmV0cm8gPyAncmdiYSgyNTUsMjU1LDI1NSwwLjE4KScgOiBpc01hdHJpeCA/ICcjMDAzMzAwJyA6ICcjZTVlN2ViJzsNCiAgICAvLyBTdWJ0bGUgZGFyayBncmFkaWVudCBiYWNrZ3JvdW5kDQogICAgaWYgKChpc0RhcmsgfHwgaXNSZXRybyB8fCBpc01hdHJpeCkgJiYgd2luZG93LmVjaGFydHMgJiYgd2luZG93LmVjaGFydHMuZ3JhcGhpYykgew0KICAgICAgY29uc3QgdG9wQyA9IGlzUmV0cm8gPyAnIzA2MWFhOScgOiBpc01hdHJpeCA/ICcjMDAxMTAwJyA6ICcjMGIxMjIwJzsNCiAgICAgIGNvbnN0IGJvdEMgPSBpc1JldHJvID8gJyMwNDE0OGEnIDogaXNNYXRyaXggPyAnIzAwMDAwMCcgOiAnIzBhMGYxYSc7DQogICAgICBvcHRzLmJhY2tncm91bmRDb2xvciA9IG5ldyB3aW5kb3cuZWNoYXJ0cy5ncmFwaGljLkxpbmVhckdyYWRpZW50KDAsIDAsIDAsIDEsIFsNCiAgICAgICAgeyBvZmZzZXQ6IDAsIGNvbG9yOiB0b3BDIH0sDQogICAgICAgIHsgb2Zmc2V0OiAxLCBjb2xvcjogYm90QyB9LA0KICAgICAgXSk7DQogICAgfSBlbHNlIHsNCiAgICAgIG9wdHMuYmFja2dyb3VuZENvbG9yID0gaXNEYXJrID8gJyMxMTE4MjcnIDogaXNNYXRyaXggPyAnIzAwMDAwMCcgOiAnI2ZmZmZmZic7DQogICAgfQ0KICAgIGNvbnN0IHJldHJvRm9udCA9ICdWVDMyMywgbW9ub3NwYWNlJzsNCiAgICBjb25zdCBtYXRyaXhGb250ID0gJ0NvdXJpZXIgTmV3LCBNb25hY28sIEx1Y2lkYSBDb25zb2xlLCBtb25vc3BhY2UnOw0KICAgIG9wdHMudGV4dFN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cy50ZXh0U3R5bGUgfHwge30sIHsNCiAgICAgIGNvbG9yOiB0ZXh0Q29sb3IsDQogICAgICBmb250RmFtaWx5OiBpc1JldHJvID8gcmV0cm9Gb250IDogaXNNYXRyaXggPyBtYXRyaXhGb250IDogKG9wdHMudGV4dFN0eWxlICYmIG9wdHMudGV4dFN0eWxlLmZvbnRGYW1pbHkpIHx8IHVuZGVmaW5lZCwNCiAgICB9KTsNCiAgICBvcHRzLnRpdGxlLnRleHRTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMudGl0bGUudGV4dFN0eWxlIHx8IHt9LCB7DQogICAgICBjb2xvcjogdGV4dENvbG9yLA0KICAgICAgZm9udEZhbWlseTogaXNSZXRybyA/IHJldHJvRm9udCA6IGlzTWF0cml4ID8gbWF0cml4Rm9udCA6IChvcHRzLnRpdGxlLnRleHRTdHlsZSAmJiBvcHRzLnRpdGxlLnRleHRTdHlsZS5mb250RmFtaWx5KSB8fCB1bmRlZmluZWQsDQogICAgfSk7DQogICAgb3B0cy54QXhpcyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMueEF4aXMsIHsNCiAgICAgIGF4aXNMYWJlbDogT2JqZWN0LmFzc2lnbih7fSwgb3B0cy54QXhpcy5heGlzTGFiZWwgfHwge30sIHsgY29sb3I6IGF4aXNDb2xvciwgZm9udEZhbWlseTogaXNSZXRybyA/IHJldHJvRm9udCA6IGlzTWF0cml4ID8gbWF0cml4Rm9udCA6IHVuZGVmaW5lZCB9KSwNCiAgICAgIGF4aXNMaW5lOiB7IGxpbmVTdHlsZTogeyBjb2xvcjogYXhpc0NvbG9yIH0gfSwNCiAgICAgIHNwbGl0TGluZTogeyBzaG93OiB0cnVlLCBsaW5lU3R5bGU6IHsgY29sb3I6IHNwbGl0Q29sb3IgfSB9DQogICAgfSk7DQogICAgb3B0cy55QXhpcyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMueUF4aXMsIHsNCiAgICAgIGF4aXNMYWJlbDogT2JqZWN0LmFzc2lnbih7fSwgKG9wdHMueUF4aXMgJiYgb3B0cy55QXhpcy5heGlzTGFiZWwpIHx8IHt9LCB7IGNvbG9yOiBheGlzQ29sb3IsIGZvbnRGYW1pbHk6IGlzUmV0cm8gPyByZXRyb0ZvbnQgOiBpc01hdHJpeCA/IG1hdHJpeEZvbnQgOiB1bmRlZmluZWQgfSksDQogICAgICBheGlzTGluZTogeyBsaW5lU3R5bGU6IHsgY29sb3I6IGF4aXNDb2xvciB9IH0sDQogICAgICBzcGxpdExpbmU6IHsgc2hvdzogdHJ1ZSwgbGluZVN0eWxlOiB7IGNvbG9yOiBzcGxpdENvbG9yIH0gfQ0KICAgIH0pOw0KDQogICAgLy8gVG9vbHRpcCBzdHlsaW5nIGZvciB0aGVtZWQgbW9kZXMNCiAgICBpZiAoKGlzRGFyayB8fCBpc1JldHJvIHx8IGlzTWF0cml4KSAmJiBvcHRzLnRvb2x0aXApIHsNCiAgICAgIG9wdHMudG9vbHRpcC5iYWNrZ3JvdW5kQ29sb3IgPSBpc1JldHJvID8gJ3JnYmEoNiwgMTksIDEzOCwgMC45NiknIDogaXNNYXRyaXggPyAncmdiYSgwLCAxNywgMCwgMC45NiknIDogJ3JnYmEoNDcsIDU0LCA2NiwgMC45NiknOw0KICAgICAgb3B0cy50b29sdGlwLmJvcmRlckNvbG9yID0gaXNSZXRybyA/ICcjNGU1YmQ0JyA6IGlzTWF0cml4ID8gJyMwMGZmMDAnIDogJyM0YjU1NjMnOw0KICAgICAgb3B0cy50b29sdGlwLnRleHRTdHlsZSA9IHsgY29sb3I6IHRleHRDb2xvciB9Ow0KICAgICAgb3B0cy50b29sdGlwLmJvcmRlcldpZHRoID0gMTsNCiAgICAgIG9wdHMudG9vbHRpcC5ib3JkZXJSYWRpdXMgPSBpc01hdHJpeCA/IDAgOiAxMDsNCiAgICAgIG9wdHMudG9vbHRpcC5leHRyYUNzc1RleHQgPSBpc01hdHJpeCA/ICdib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDI1NSwgMCwgMC41KTsgcGFkZGluZzo4cHggMTBweDsnIDogJ2JveC1zaGFkb3c6IDAgOHB4IDIwcHggcmdiYSgwLDAsMCwuNDUpOyBwYWRkaW5nOjhweCAxMHB4Oyc7DQogICAgICBvcHRzLmF4aXNQb2ludGVyID0gew0KICAgICAgICBsaW5lU3R5bGU6IHsgY29sb3I6IGF4aXNDb2xvciwgdHlwZTogJ2Rhc2hlZCcsIHdpZHRoOiAxIH0NCiAgICAgIH07DQogICAgfQ0KDQogICAgLy8gU2VyaWVzIGNvbG9ycyBieSB0aGVtZSBhbmQgbWV0cmljDQogICAgY29uc3QgbWV0cmljID0gKF92bXVDaGFydE1ldHJpYyA9PT0gJ3VzZCcpID8gJ3VzZCcgOiAndm11cyc7DQogICAgaWYgKGlzRGFyayB8fCBpc1JldHJvIHx8IGlzTWF0cml4KSB7DQogICAgICBjb25zdCBzZXJpZXMgPSB7IHR5cGU6IGN1cnJlbnRTZXJpZXNUeXBlLCBkYXRhOiB2YWx1ZXMgfTsNCiAgICAgIGlmIChjdXJyZW50U2VyaWVzVHlwZSA9PT0gJ2JhcicpIHsNCiAgICAgICAgLy8gVk1VcyBrZWVwIGV4aXN0aW5nOyBVU0QgdXNlcyBkaXN0aW5jdCwgdGhlbWUtYXBwcm9wcmlhdGUgY29sb3INCiAgICAgICAgY29uc3QgYmFyQ29sb3IgPSBtZXRyaWMgPT09ICd2bXVzJw0KICAgICAgICAgID8gKGlzUmV0cm8gPyAnI2MyYTFmZicgOiBpc01hdHJpeCA/ICcjMDBmZjAwJyA6ICcjZThjZDBmJykNCiAgICAgICAgICA6IChpc1JldHJvID8gJyMwMGZmOWMnIDogaXNNYXRyaXggPyAnIzAwZmZmZicgOiAnIzg2ZWZhYycpOw0KICAgICAgICBzZXJpZXMuaXRlbVN0eWxlID0geyBjb2xvcjogYmFyQ29sb3IgfTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnN0IGxpbmVDb2xvciA9IG1ldHJpYyA9PT0gJ3ZtdXMnDQogICAgICAgICAgPyAoaXNSZXRybyA/ICcjMDBmZmZmJyA6IGlzTWF0cml4ID8gJyMwMGZmMDAnIDogJyNlOGNkMGYnKQ0KICAgICAgICAgIDogKGlzUmV0cm8gPyAnI2ZmZWY1YScgOiBpc01hdHJpeCA/ICcjMDBmZmZmJyA6ICcjODZlZmFjJyk7DQogICAgICAgIHNlcmllcy5pdGVtU3R5bGUgPSB7IGNvbG9yOiBsaW5lQ29sb3IgfTsNCiAgICAgICAgc2VyaWVzLmxpbmVTdHlsZSA9IHsgY29sb3I6IGxpbmVDb2xvciwgd2lkdGg6IDIgfTsNCiAgICAgICAgc2VyaWVzLnN5bWJvbCA9ICdub25lJzsNCiAgICAgICAgc2VyaWVzLnNtb290aCA9IHRydWU7DQogICAgICB9DQogICAgICBvcHRzLnNlcmllcyA9IFtzZXJpZXNdOw0KICAgIH0gZWxzZSB7DQogICAgICAvLyBMaWdodCB0aGVtZQ0KICAgICAgY29uc3QgYmFyQ29sb3JMaWdodFZNVSA9ICcjMjY4NWY2JzsgICAvLyBrZWVwIGN1cnJlbnQNCiAgICAgIGNvbnN0IGJhckNvbG9yTGlnaHRVU0QgPSAnIzM0ZDM5OSc7ICAgLy8gZW1lcmFsZCBmb3IgJCB2YWx1ZQ0KICAgICAgY29uc3QgbGluZUNvbG9yTGlnaHRVU0QgPSAnIzA1OTY2OSc7ICAvLyBkYXJrZXIgZW1lcmFsZCBmb3IgbGluZQ0KDQogICAgICB0cnkgew0KICAgICAgICBvcHRzLnNlcmllcyA9IEFycmF5LmlzQXJyYXkob3B0cy5zZXJpZXMpID8gb3B0cy5zZXJpZXMgOiBbeyB0eXBlOiBjdXJyZW50U2VyaWVzVHlwZSwgZGF0YTogdmFsdWVzIH1dOw0KICAgICAgICBpZiAoY3VycmVudFNlcmllc1R5cGUgPT09ICdiYXInKSB7DQogICAgICAgICAgY29uc3QgY29sID0gKG1ldHJpYyA9PT0gJ3ZtdXMnKSA/IGJhckNvbG9yTGlnaHRWTVUgOiBiYXJDb2xvckxpZ2h0VVNEOw0KICAgICAgICAgIG9wdHMuc2VyaWVzWzBdLml0ZW1TdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMuc2VyaWVzWzBdLml0ZW1TdHlsZSB8fCB7fSwgeyBjb2xvcjogY29sIH0pOw0KICAgICAgICB9IGVsc2UgaWYgKG1ldHJpYyA9PT0gJ3VzZCcpIHsNCiAgICAgICAgICAvLyBPbmx5IHNldCBleHBsaWNpdCBsaW5lIGNvbG9yIGZvciBVU0Q7IGxlYXZlIFZNVXMgYXQgZXhpc3RpbmcgZGVmYXVsdCB0byAia2VlcCBjdXJyZW50IGNvbG9yIg0KICAgICAgICAgIG9wdHMuc2VyaWVzWzBdLml0ZW1TdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMuc2VyaWVzWzBdLml0ZW1TdHlsZSB8fCB7fSwgeyBjb2xvcjogbGluZUNvbG9yTGlnaHRVU0QgfSk7DQogICAgICAgICAgb3B0cy5zZXJpZXNbMF0ubGluZVN0eWxlID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cy5zZXJpZXNbMF0ubGluZVN0eWxlIHx8IHt9LCB7IGNvbG9yOiBsaW5lQ29sb3JMaWdodFVTRCwgd2lkdGg6IDIgfSk7DQogICAgICAgICAgb3B0cy5zZXJpZXNbMF0uc3ltYm9sID0gJ25vbmUnOw0KICAgICAgICAgIG9wdHMuc2VyaWVzWzBdLnNtb290aCA9IHRydWU7DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2gge30NCiAgICB9DQogIH0gY2F0Y2gge30NCg0KICB0cnkgew0KICAgIC8vIE1lcmdlIHVwZGF0ZSB0byBwcmVzZXJ2ZSBzZXJpZXMudHlwZSBhbmQgYXhlcyBjb25maWd1cmF0aW9uDQogICAgdm11Q2hhcnQuc2V0T3B0aW9uKG9wdHMpOw0KICB9IGNhdGNoKGUpIHsNCiAgICBjb25zb2xlLndhcm4oJ1tWTVUtQ0hBUlRdIHNldE9wdGlvbihkYXRhKSBmYWlsZWQnLCBlKTsNCiAgfQ0KfQ0KDQovLyBQZXJzaXN0IGFuZCBhcHBseSBleHBhbmRlZCBzdGF0ZTsgaW5pdCBjaGFydCBvbiBleHBhbmQNCmZ1bmN0aW9uIHNldFZtdUNoYXJ0RXhwYW5kZWRTdGF0ZShvcGVuKSB7DQogIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndm11Q2hhcnRCb2R5Jyk7DQogIGNvbnN0IGJ0biAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndm11Q2hhcnRUb2dnbGUnKTsNCiAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2bXVDaGFydCcpOw0KICBpZiAoIWJ0biB8fCAhYm9keSB8fCAhbm9kZSkgcmV0dXJuOw0KICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm11Q2hhcnRFeHBhbmRlZCcsIG9wZW4gPyAnMScgOiAnMCcpOyB9IGNhdGNoIHt9DQoNCiAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghIW9wZW4pKTsNCiAgYnRuLnRleHRDb250ZW50ID0gb3BlbiA/ICctIEhpZGUgQ2hhcnQnIDogJysgU2hvdyBDaGFydCc7DQogIGJvZHkuaGlkZGVuID0gIW9wZW47DQoNCiAgaWYgKCFvcGVuKSByZXR1cm47DQoNCiAgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gc2V0RXhwYW5kZWRTdGF0ZSAtPiBvcGVuLiBub2RlIHNpemUgYmVmb3JlOicsIHsgdzogbm9kZS5vZmZzZXRXaWR0aCwgaDogbm9kZS5vZmZzZXRIZWlnaHQgfSk7DQoNCiAgaWYgKCF2bXVDaGFydCAmJiB3aW5kb3cuZWNoYXJ0cyAmJiB0eXBlb2Ygd2luZG93LmVjaGFydHMuaW5pdCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgIGNvbnN0IGRhc2hWaXNpYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYi1kYXNoYm9hcmQnKT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTsNCiAgICBjb25zdCBoYXNTaXplID0gKG5vZGUub2Zmc2V0V2lkdGggPiAwICYmIG5vZGUub2Zmc2V0SGVpZ2h0ID4gMCk7DQogICAgaWYgKCFkYXNoVmlzaWJsZSB8fCAhaGFzU2l6ZSkgew0KICAgICAgLy8gRGVmZXIgaW5pdCB1bnRpbCB0aGUgY2hhcnQgYmVjb21lcyB2aXNpYmxlIGFuZCBoYXMgbGF5b3V0IHNpemUNCiAgICAgIF92bXVDaGFydEluaXRQZW5kaW5nID0gdHJ1ZTsNCiAgICAgIHJldHVybjsNCiAgICB9DQogICAgaWYgKCFoYXNTaXplKSB7DQogICAgICBub2RlLnN0eWxlLndpZHRoID0gJzEwMCUnOw0KICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBub2RlLnN0eWxlLmhlaWdodCB8fCAnMjYwcHgnOw0KICAgIH0NCiAgICB0cnkgew0KICAgICAgdm11Q2hhcnQgPSB3aW5kb3cuZWNoYXJ0cy5pbml0KG5vZGUsIG51bGwsIHsgdXNlRGlydHlSZWN0OiB0cnVlIH0pOw0KICAgICAgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gZWNoYXJ0cy5pbml0IE9LJyk7DQogICAgfSBjYXRjaChlKSB7DQogICAgICBjb25zb2xlLndhcm4oJ1tWTVUtQ0hBUlRdIGVjaGFydHMuaW5pdCBmYWlsZWQnLCBlKTsNCiAgICB9DQogICAgY29uc3Qgb3B0aW9ucyA9IHsNCiAgICAgIHRpdGxlOiB7IHRleHQ6ICdWTVVzJywgbGVmdDogJ2NlbnRlcicsIHRvcDogNiwgdGV4dFN0eWxlOiB7IGZvbnRTaXplOiAxMiB9IH0sDQogICAgICB0b29sdGlwOiB7IHRyaWdnZXI6ICdheGlzJyB9LA0KICAgICAgdG9vbGJveDogew0KICAgICAgICByaWdodDogMTAsDQogICAgICAgIGZlYXR1cmU6IChmdW5jdGlvbigpew0KICAgICAgICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDc2OHB4KScpLm1hdGNoZXM7DQogICAgICAgICAgLy8gSGVscGVyOiBzZXQgc2VyaWVzIHR5cGUgd2l0aG91dCBsb3NpbmcgZGF0YQ0KICAgICAgICAgIGZ1bmN0aW9uIHNldFNlcmllc1R5cGUoa2luZCl7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICBpZiAodm11Q2hhcnQpIHsNCiAgICAgICAgICAgICAgICB2bXVDaGFydC5zZXRPcHRpb24oeyBzZXJpZXM6IFt7IHR5cGU6IGtpbmQgfV0gfSk7DQogICAgICAgICAgICAgICAgLy8gRW5zdXJlIGZ1dHVyZSB1cGRhdGVzIHJlc3BlY3QgdGhlIGNob3NlbiB0eXBlDQogICAgICAgICAgICAgICAgdXBkYXRlVm11Q2hhcnQoKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaChlKSB7IGNvbnNvbGUud2FybignW1ZNVS1DSEFSVF0gc2V0U2VyaWVzVHlwZSBmYWlsZWQnLCBlKTsgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBjb25zdCBteUZ1bGxzY3JlZW4gPSB7DQogICAgICAgICAgICBzaG93OiB0cnVlLA0KICAgICAgICAgICAgdGl0bGU6ICdUb2dnbGUgRnVsbHNjcmVlbicsDQogICAgICAgICAgICBpY29uOiAncGF0aDovL00yLDIgTDEwLDIgTDEwLDEwIEwyLDEwIFogTTQsNCBMOCw0IEw4LDggTDQsOCBaJywNCiAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICBjb25zdCBlbCA9IG5vZGU7DQogICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIHsNCiAgICAgICAgICAgICAgICAvLyBVc2UgY3VycmVudCBwYWdlIGJhY2tncm91bmQgZm9yIGZ1bGxzY3JlZW4gYmFja2Ryb3ANCiAgICAgICAgICAgICAgICB0cnkgeyBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmJhY2tncm91bmRDb2xvcjsgfSBjYXRjaCB7fQ0KICAgICAgICAgICAgICAgIGVsLnJlcXVlc3RGdWxsc2NyZWVuPy4oKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbj8uKCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYmFja2dyb3VuZCBvbiBleGl0DQogICAgICAgICAgICAgIGNvbnN0IHRpZHkgPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkgew0KICAgICAgICAgICAgICAgICAgdHJ5IHsgZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7IH0gY2F0Y2gge30NCiAgICAgICAgICAgICAgICAgIHRyeSB7IHZtdUNoYXJ0ICYmIHZtdUNoYXJ0LnJlc2l6ZSgpOyB9IGNhdGNoIHt9DQogICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgdGlkeSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgdGlkeSk7DQogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB2bXVDaGFydCAmJiB2bXVDaGFydC5yZXNpemUoKTsgfSwgMTAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9Ow0KICAgICAgICAgIGlmIChpc01vYmlsZSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgbXlMaW5lOiAgICB7IHNob3c6IHRydWUsIHRpdGxlOiAnTGluZScsIGljb246ICdwYXRoOi8vTTIsMTIgTDYsOCBMMTAsMTAgTDE0LDYnLCBvbmNsaWNrOiAoKSA9PiBzZXRTZXJpZXNUeXBlKCdsaW5lJykgfSwNCiAgICAgICAgICAgICAgbXlCYXI6ICAgICB7IHNob3c6IHRydWUsIHRpdGxlOiAnQmFyJywgIGljb246ICdwYXRoOi8vTTMsMTIgTDMsNiBMNSw2IEw1LDEyIFogTTcsMTIgTDcsNCBMOSw0IEw5LDEyIFogTTExLDEyIEwxMSw4IEwxMyw4IEwxMywxMiBaJywgb25jbGljazogKCkgPT4gc2V0U2VyaWVzVHlwZSgnYmFyJykgfSwNCiAgICAgICAgICAgICAgbXlGdWxsc2NyZWVuDQogICAgICAgICAgICB9Ow0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyBEZXNrdG9wOiByZW1vdmUgem9vbSBidXR0b25zLCBrZWVwIG1hZ2ljVHlwZSwgc2F2ZUFzSW1hZ2UsIGZ1bGxzY3JlZW4uDQogICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIG1hZ2ljVHlwZTogeyB0eXBlOiBbJ2xpbmUnLCAnYmFyJ10gfSwNCiAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7fSwNCiAgICAgICAgICAgIG15RnVsbHNjcmVlbg0KICAgICAgICAgIH07DQogICAgICAgIH0pKCkNCiAgICAgIH0sDQogICAgICBkYXRhWm9vbTogWw0KICAgICAgICB7IHR5cGU6ICdpbnNpZGUnLCB0aHJvdHRsZTogNTAgfSwNCiAgICAgICAgeyB0eXBlOiAnc2xpZGVyJyB9DQogICAgICBdLA0KICAgICAgZ3JpZDogeyBsZWZ0OiA1NSwgcmlnaHQ6IDIwLCB0b3A6IDQwLCBib3R0b206IDYwIH0sDQogICAgICB4QXhpczogeyB0eXBlOiAnY2F0ZWdvcnknLCBkYXRhOiBbXSwgYXhpc0xhYmVsOiB7IGZvcm1hdHRlcjogZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gX2ZtdEF4aXNEYXRlTGFiZWwodmFsdWUpOyB9IH0gfSwNCiAgICAgIHlBeGlzOiB7IHR5cGU6ICd2YWx1ZScsIG5hbWU6ICdWTVVzJywgbmFtZUdhcDogMTIgfSwNCiAgICAgIHNlcmllczogW3sgdHlwZTogJ2JhcicsIGRhdGE6IFtdIH1dDQogICAgfTsNCiAgICB0cnkgeyB2bXVDaGFydCAmJiB2bXVDaGFydC5zZXRPcHRpb24ob3B0aW9ucyk7IGNvbnNvbGUuZGVidWcoJ1tWTVUtQ0hBUlRdIHNldE9wdGlvbihiYXNlKSBkb25lJyk7IH0gY2F0Y2goZSkgeyBjb25zb2xlLndhcm4oJ1tWTVUtQ0hBUlRdIHNldE9wdGlvbihiYXNlKSBmYWlsZWQnLCBlKTsgfQ0KICB9IGVsc2UgaWYgKCF3aW5kb3cuZWNoYXJ0cykgew0KICAgIHRyeSB7IG5vZGUudGV4dENvbnRlbnQgPSAnQ2hhcnQgbGlicmFyeSBmYWlsZWQgdG8gbG9hZC4nOyB9IGNhdGNoIHt9DQogIH0NCg0KcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsNCiAgICB0cnkgeyBpZiAodm11Q2hhcnQpIHsgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gckFGIHVwZGF0ZSBwYXNzIChzZXR0ZXIpJyk7IHVwZGF0ZVZtdUNoYXJ0KCk7IHZtdUNoYXJ0LnJlc2l6ZSgpOyB9IH0gY2F0Y2goZSkgeyBjb25zb2xlLndhcm4oJ1tWTVUtQ0hBUlRdIHJBRiB1cGRhdGUgZmFpbGVkIChzZXR0ZXIpJywgZSk7IH0NCiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4geyB0cnkgeyBpZiAodm11Q2hhcnQpIHsgY29uc29sZS5kZWJ1ZygnW1ZNVS1DSEFSVF0gckFGIHJlc2l6ZSBwYXNzMiAoc2V0dGVyKScpOyB2bXVDaGFydC5yZXNpemUoKTsgfSB9IGNhdGNoKGUpIHsgY29uc29sZS53YXJuKCdbVk1VLUNIQVJUXSByQUYgcmVzaXplMiBmYWlsZWQgKHNldHRlciknLCBlKTsgfSB9KTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIF9ncm91cFhlblVzZEJ5RGF0ZShyb3dzKSB7DQogIGNvbnN0IHByaWNlID0gKHR5cGVvZiB4ZW5Vc2RQcmljZSA9PT0gJ251bWJlcicgJiYgeGVuVXNkUHJpY2UgPiAwKSA/IHhlblVzZFByaWNlIDogbnVsbDsNCiAgY29uc3QgbWFwID0ge307DQogIGZvciAoY29uc3QgciBvZiByb3dzKSB7DQogICAgY29uc3Qga2V5ID0gKHR5cGVvZiB3aW5kb3cucm93VG9Mb2NhbEtleSA9PT0gJ2Z1bmN0aW9uJykgPyB3aW5kb3cucm93VG9Mb2NhbEtleShyKSA6IChmdW5jdGlvbigpew0KICAgICAgY29uc3QgdCA9IE51bWJlcihyPy5NYXR1cml0eV9UaW1lc3RhbXAgfHwgMCk7DQogICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHQpICYmIHQgPiAwID8gZ2V0TG9jYWxEYXRlU3RyaW5nKG5ldyBEYXRlKHQgKiAxMDAwKSkgOiAocj8ubWF0dXJpdHlEYXRlT25seSB8fCAnJyk7DQogICAgfSkoKTsNCiAgICBpZiAoIWtleSkgY29udGludWU7DQogICAgY29uc3QgdG9rZW5zID0gTnVtYmVyKGVzdGltYXRlWEVORm9yUm93KHIpKSB8fCAwOw0KICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHRva2VucykgfHwgdG9rZW5zIDw9IDApIGNvbnRpbnVlOw0KICAgIG1hcFtrZXldID0gKG1hcFtrZXldIHx8IDApICsgKHByaWNlID8gdG9rZW5zICogcHJpY2UgOiB0b2tlbnMpOw0KICB9DQogIGNvbnN0IGRhdGVzID0gT2JqZWN0LmtleXMobWFwKS5zb3J0KCk7DQogIGNvbnNvbGUuZGVidWcoJ1tWTVUtQ0hBUlRdIF9ncm91cFhlblVzZEJ5RGF0ZSBkYXlzPScsIGRhdGVzLmxlbmd0aCwgJ3ByaWNlPScsIHByaWNlLCAnc2FtcGxlPScsIGRhdGVzLnNsaWNlKDAsMykubWFwKGQ9Pih7ZCwgdjogbWFwW2RdfSkpKTsNCiAgcmV0dXJuIHsgZGF0ZXMsIHZhbHVlczogZGF0ZXMubWFwKGQgPT4gbWFwW2RdKSB9Ow0KfQ0KDQovKiBORVc6IHNpbmdsZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIGNodW5rIHNpemUgKi8NCmZ1bmN0aW9uIGdldENodW5rU2l6ZSgpew0KICBjb25zdCB2ID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNodW5rU2l6ZSIpIHx8ICI1MDAwMCIsIDEwKTsNCiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2KSAmJiB2ID4gMCA/IHYgOiA1MDAwMDsNCn0NCg0KZnVuY3Rpb24gZm9ybWF0U2Vjb25kcyhzZWNvbmRzKSB7DQogIGlmIChpc05hTihzZWNvbmRzKSB8fCAhaXNGaW5pdGUoc2Vjb25kcykgfHwgc2Vjb25kcyA8IDApIHsNCiAgICByZXR1cm4gJy4uLic7DQogIH0NCiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTsNCiAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IE1hdGgucm91bmQoc2Vjb25kcyAlIDYwKTsNCiAgaWYgKG1pbnV0ZXMgPiAwKSB7DQogICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3JlbWFpbmluZ1NlY29uZHN9c2A7DQogIH0NCiAgcmV0dXJuIGAke3JlbWFpbmluZ1NlY29uZHN9c2A7DQp9DQoNCi8vIC0tLSBVbmlmaWVkIHNjYW4gcHJvZ3Jlc3MgaGVscGVycyAtLS0NCmZ1bmN0aW9uIHNob3J0QWRkcihhZGRyKXsNCiAgaWYgKCFhZGRyKSByZXR1cm4gJyc7DQogIGNvbnN0IGEgPSBTdHJpbmcoYWRkcik7DQogIGlmIChhLmxlbmd0aCA8PSAxMikgcmV0dXJuIGE7DQogIHJldHVybiBgJHthLnNsaWNlKDAsNil94oCmJHthLnNsaWNlKC00KX1gOw0KfQ0KDQp3aW5kb3cucHJvZ3Jlc3NVSSA9IHsNCiAgc2hvcnRBZGRyLA0KICBzZXRUeXBlKGxhYmVsKXsNCiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2FuVHlwZVRleHQnKTsNCiAgICBpZiAoZWwpIGVsLnRleHRDb250ZW50ID0gbGFiZWwgPyBgU2Nhbm5pbmc6ICR7bGFiZWx9YCA6ICcnOw0KICB9LA0KICBzZXRBZGRyZXNzKGksIHRvdGFsLCBhZGRyLCBzdWZmaXgpew0KICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZHJlc3NQcm9ncmVzc1RleHQnKTsNCiAgICBpZiAoIWVsKSByZXR1cm47DQogICAgY29uc3Qgc2Z4ID0gc3VmZml4ID8gYCDigJQgJHtzdWZmaXh9YCA6ICcnOw0KICAgIGVsLnRleHRDb250ZW50ID0gYFNjYW5uaW5nIGFkZHJlc3MgJHtpfS8ke3RvdGFsfTogJHtzaG9ydEFkZHIoYWRkcil9JHtzZnh9YDsNCiAgfSwNCiAgc2V0U3RhZ2UobGFiZWwsIGRvbmUsIHRvdGFsLCBleHRyYSl7DQogICAgY29uc3QgYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rva2VuUHJvZ3Jlc3NCYXInKTsNCiAgICBjb25zdCB0eHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9rZW5Qcm9ncmVzc1RleHQnKTsNCiAgICBpZiAoYmFyICYmIE51bWJlci5pc0Zpbml0ZSh0b3RhbCkgJiYgdG90YWwgPiAwKSB7DQogICAgICBiYXIubWF4ID0gdG90YWw7IGJhci52YWx1ZSA9IE1hdGgubWluKGRvbmUsIHRvdGFsKTsNCiAgICB9DQogICAgY29uc3QgcGN0ID0gKE51bWJlci5pc0Zpbml0ZShkb25lKSAmJiBOdW1iZXIuaXNGaW5pdGUodG90YWwpICYmIHRvdGFsPjApDQogICAgICA/IGAgKCR7TWF0aC5mbG9vcigoZG9uZS90b3RhbCkqMTAwKX0lKWAgOiAnJzsNCiAgICBpZiAodHh0KSB0eHQudGV4dENvbnRlbnQgPSBgJHtsYWJlbH0gJHtOdW1iZXIuaXNGaW5pdGUoZG9uZSk/ZG9uZTonJ30ke051bWJlci5pc0Zpbml0ZSh0b3RhbCk/YC8ke3RvdGFsfWA6Jyd9JHtwY3R9JHtleHRyYT9gIOKAlCAke2V4dHJhfWA6Jyd9YC50cmltKCk7DQogIH0sDQogIHNldEV0YShzZWMpew0KICAgIGNvbnN0IGV0ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldHJUZXh0Jyk7DQogICAgaWYgKCFldHIpIHJldHVybjsNCiAgICBldHIudGV4dENvbnRlbnQgPSAoc2VjICYmIHNlYyA+IDIpID8gYEVUQTogJHtmb3JtYXRTZWNvbmRzKHNlYyl9YCA6ICcnOw0KICB9LA0KICBzZXRJZGxlKHNpbmNlU2VjKXsNCiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdycGNTdGF0dXMnKTsNCiAgICBpZiAoIWVsKSByZXR1cm47DQogICAgZWwudGV4dENvbnRlbnQgPSAoc2luY2VTZWMgJiYgc2luY2VTZWMgPj0gMykgPyBg4o+zICR7c2luY2VTZWN9cyBzaW5jZSBsYXN0IHJlcGx5YCA6ICcnOw0KICB9LA0KICBzaG93KHNob3c9dHJ1ZSl7DQogICAgY29uc3QgcGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3NDb250YWluZXInKTsNCiAgICBpZiAoIXBjKSByZXR1cm47DQogICAgaWYgKHNob3cpIHsNCiAgICAgIHBjLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTsNCiAgICAgIC8vIEVuc3VyZSBpbmxpbmUgZGlzcGxheSBjYW4ndCBrZWVwIGl0IGhpZGRlbg0KICAgICAgdHJ5IHsgcGMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IH0gY2F0Y2gge30NCiAgICB9IGVsc2Ugew0KICAgICAgcGMuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpOw0KICAgICAgdHJ5IHsgcGMuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSBjYXRjaCB7fQ0KICAgIH0NCiAgfQ0KfTsNCi8vIFN0cmljdCBoZXggbm9ybWFsaXplciBmb3IgaGFzaGluZzoga2VlcHMgbGVhZGluZyB6ZXJvcywgZW5mb3JjZXMgZXZlbiBsZW5ndGggJiBoZXggY2hhcnMNCmZ1bmN0aW9uIG5vcm1hbGl6ZVNhbHRGb3JIYXNoKHMpIHsNCiAgaWYgKHR5cGVvZiBzICE9PSAnc3RyaW5nJykgcmV0dXJuIG51bGw7DQogIGxldCBvdXQgPSBzLnRyaW0oKS50b0xvd2VyQ2FzZSgpOw0KICBpZiAoIW91dC5zdGFydHNXaXRoKCcweCcpKSByZXR1cm4gbnVsbDsNCiAgb3V0ID0gb3V0LnNsaWNlKDIpLnJlcGxhY2UoL1xzKy9nLCAnJyk7IC8vIHN0cmlwIGFueSBzdHJheSB3aGl0ZXNwYWNlIGNoYXJzDQogIGlmICghL15bMC05YS1mXSokLy50ZXN0KG91dCkpIHJldHVybiBudWxsOw0KICBpZiAob3V0Lmxlbmd0aCAlIDIgPT09IDEpIG91dCA9ICcwJyArIG91dDsNCiAgcmV0dXJuICcweCcgKyBvdXQ7DQp9DQoNCmZ1bmN0aW9uIGNvbXB1dGVQcm94eUFkZHJlc3Mod2ViMywgZGVwbG95ZXIsIG1pbnRJZCwgc2FsdCwgbWludGVyKSB7DQogIC8vIDEpIFZhbGlkYXRlICYgc2FuaXRpemUgcGllY2VzDQogIGNvbnN0IHNhZmVTYWx0ID0gbm9ybWFsaXplU2FsdEZvckhhc2goc2FsdCk7IC8vIGtlZXBzIGxlYWRpbmcgemVyb3MsIGV2ZW4gbGVuZ3RoDQogIGlmICghc2FmZVNhbHQgfHwgdHlwZW9mIG1pbnRJZCAhPT0gJ251bWJlcicgJiYgdHlwZW9mIG1pbnRJZCAhPT0gJ2JpZ2ludCcpIHJldHVybiBudWxsOw0KDQogIGNvbnN0IGFkZHIgPSAobWludGVyIHx8ICcnKS50b0xvd2VyQ2FzZSgpOw0KICBpZiAoIWFkZHIuc3RhcnRzV2l0aCgnMHgnKSB8fCBhZGRyLmxlbmd0aCA+IDQyKSByZXR1cm4gbnVsbDsNCg0KICBjb25zdCBkZXAgPSAoZGVwbG95ZXIgfHwgJycpLnRvTG93ZXJDYXNlKCk7DQogIGlmICghZGVwLnN0YXJ0c1dpdGgoJzB4JykgfHwgZGVwLmxlbmd0aCAhPT0gNDIpIHJldHVybiBudWxsOw0KDQogIC8vIDIpIEJ1aWxkIGFiaS5lbmNvZGVQYWNrZWQoX3NhbHQsIG1pbnRJZCwgbWludGVyKSBtYW51YWxseQ0KICAvLyAgIC0gYnl0ZXM6IHJhdyAobm8gbGVuZ3RoKSwgaGV4IGFzLWlzDQogIC8vICAgLSB1aW50MjU2OiAzMi1ieXRlIGxlZnQtcGFkZGVkDQogIC8vICAgLSBhZGRyZXNzOiAyMC1ieXRlICg0MCBoZXggY2hhcnMpIGxlZnQtcGFkZGVkDQogIGNvbnN0IHNhbHRIZXggPSBzYWZlU2FsdC5zbGljZSgyKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJhdyBieXRlcw0KICBjb25zdCBtaW50SGV4ID0gQmlnSW50KG1pbnRJZCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDY0LCAnMCcpOyAgICAgICAgICAvLyAzMiBieXRlcw0KICBjb25zdCBhZGRySGV4ID0gYWRkci5zbGljZSgyKS5wYWRTdGFydCg0MCwgJzAnKTsgICAgICAgICAgICAgICAgICAgICAgICAvLyAyMCBieXRlcw0KDQogIGNvbnN0IHBhY2tlZCA9ICcweCcgKyBzYWx0SGV4ICsgbWludEhleCArIGFkZHJIZXg7DQogIGNvbnN0IHNhbHRGb3JIYXNoID0gd2ViMy51dGlscy5rZWNjYWsyNTYocGFja2VkKTsNCg0KICAvLyAzKSBDUkVBVEUyOiBrZWNjYWsyNTYoMHhmZiArKyBkZXBsb3llciArKyBzYWx0SGFzaCArKyBrZWNjYWsyNTYoaW5pdF9jb2RlKSkNCiAgY29uc3QgaW5pdENvZGUgPSAnMHgzZDYwMmQ4MDYwMGEzZDM5ODFmMzM2M2QzZDM3M2QzZDNkMzYzZDczJyArIGRlcC5zbGljZSgyKSArICc1YWY0M2Q4MjgwM2U5MDNkOTE2MDJiNTdmZDViZjMnOw0KICBjb25zdCBpbml0Q29kZUhhc2ggPSB3ZWIzLnV0aWxzLmtlY2NhazI1Nihpbml0Q29kZSk7DQoNCiAgY29uc3QgY29tYmluZWQgPSAnMHhmZicgKyBkZXAuc2xpY2UoMikgKyBzYWx0Rm9ySGFzaC5zbGljZSgyKSArIGluaXRDb2RlSGFzaC5zbGljZSgyKTsNCiAgY29uc3QgY29tcHV0ZWRIYXNoID0gd2ViMy51dGlscy5rZWNjYWsyNTYoY29tYmluZWQpOw0KDQogIHJldHVybiB3ZWIzLnV0aWxzLnRvQ2hlY2tzdW1BZGRyZXNzKCcweCcgKyBjb21wdXRlZEhhc2guc2xpY2UoLTQwKSk7DQp9DQoNCi8vIE5vcm1hbGl6ZSBzYWx0IGhleCAoaGFuZGxlcyAnMHgwMScgdnMgJzB4MDAwMScpDQpmdW5jdGlvbiBub3JtYWxpemVTYWx0KHMpIHsNCiAgaWYgKCFzIHx8IHR5cGVvZiBzICE9PSAnc3RyaW5nJykgcmV0dXJuIHM7DQogIGxldCBvdXQgPSBzLnRvTG93ZXJDYXNlKCk7DQogIGlmIChvdXQuc3RhcnRzV2l0aCgnMHgnKSkgb3V0ID0gb3V0LnNsaWNlKDIpOw0KICBvdXQgPSBvdXQucmVwbGFjZSgvXjArLywgJycpOyAgICAgLy8gc3RyaXAgbGVhZGluZyB6ZXJvcw0KICBpZiAob3V0ID09PSAnJykgb3V0ID0gJzAnOw0KICByZXR1cm4gJzB4JyArIG91dDsNCn0NCg0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc2V0QnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyBmdW5jdGlvbiAoKSB7DQogIGZ1bmN0aW9uIGZyaWVuZGx5RGJOYW1lKGlkKXsNCiAgICBzd2l0Y2goaWQpew0KICAgICAgY2FzZSAnREJfQ29pbnRvb2wnOiByZXR1cm4gJ0NvaW50b29sIChtaW50cyknOw0KICAgICAgY2FzZSAnREJfWGVuZnQnOiByZXR1cm4gJ1hFTkZUIChORlQgc2NhbnMpJzsNCiAgICAgIGNhc2UgJ0RCLVhlbmZ0LVN0YWtlJzogcmV0dXJuICdYRU5GVCBTdGFrZSAoc3Rha2VzKSc7DQogICAgICBjYXNlICdEQi1YZW4tU3Rha2UnOiByZXR1cm4gJ1hFTiBTdGFrZSAocmVndWxhciknOw0KICAgICAgZGVmYXVsdDogcmV0dXJuIGlkOw0KICAgIH0NCiAgfQ0KICBjb25zdCBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzZXREYlNlbGVjdCIpOw0KICBjb25zdCBjaG9pY2UgPSAoc2VsICYmIHNlbC52YWx1ZSkgPyBzZWwudmFsdWUgOiAiYWxsIjsNCg0KICBpZiAoY2hvaWNlID09PSAiYWxsIikgew0KICAgIGNvbnN0IGNvbmZpcm1lZCA9IGNvbmZpcm0oDQogICAgICAiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBhbGwgc2F2ZWQgZGF0YSAoREJfQ29pbnRvb2wsIERCX1hlbmZ0LCBEQi1YZW5mdC1TdGFrZSwgYW5kIERCLVhlbi1TdGFrZSk/IFlvdXIgaW5wdXQgZmllbGRzIHdpbGwgbm90IGJlIGFmZmVjdGVkLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLiINCiAgICApOw0KICAgIGlmICghY29uZmlybWVkKSByZXR1cm47DQoNCiAgICAvLyBDbG9zZSBhbnkgb3BlbiBjb25uZWN0aW9ucyB3ZSBjYW4gcmVhY2gNCiAgICB0cnkgeyBpZiAod2luZG93LmRiSW5zdGFuY2UpIHdpbmRvdy5kYkluc3RhbmNlLmNsb3NlKCk7IH0gY2F0Y2gge30NCiAgICB0cnkgew0KICAgICAgaWYgKHdpbmRvdy54ZW5mdD8ub3BlbkRCKSB7DQogICAgICAgIGNvbnN0IHhmID0gYXdhaXQgd2luZG93LnhlbmZ0Lm9wZW5EQigpOw0KICAgICAgICB0cnkgeyB4Zi5jbG9zZSgpOyB9IGNhdGNoIHt9DQogICAgICB9DQogICAgfSBjYXRjaCB7fQ0KICAgIHRyeSB7DQogICAgICBpZiAod2luZG93LnhlbmZ0U3Rha2U/Lm9wZW5EQikgew0KICAgICAgICBjb25zdCBzdGFrZURiID0gYXdhaXQgd2luZG93LnhlbmZ0U3Rha2Uub3BlbkRCKCk7DQogICAgICAgIHRyeSB7IHN0YWtlRGIuY2xvc2UoKTsgfSBjYXRjaCB7fQ0KICAgICAgfQ0KICAgIH0gY2F0Y2gge30NCiAgICB0cnkgew0KICAgICAgaWYgKHdpbmRvdy54ZW5TdGFrZT8ub3BlbkRCKSB7ICAgICAgICAgICAgICAgICAvLyDinIUgY2xvc2UgREItWGVuLVN0YWtlDQogICAgICAgIGNvbnN0IHhzRGIgPSBhd2FpdCB3aW5kb3cueGVuU3Rha2Uub3BlbkRCKCk7DQogICAgICAgIHRyeSB7IHhzRGIuY2xvc2UoKTsgfSBjYXRjaCB7fQ0KICAgICAgfQ0KICAgIH0gY2F0Y2gge30NCg0KICAgIC8vIERlbGV0ZSBhbGwgZm91ciBEQnMNCiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFsNCiAgICAgIGRlbGV0ZURhdGFiYXNlQnlOYW1lKCJEQl9Db2ludG9vbCIpLA0KICAgICAgZGVsZXRlRGF0YWJhc2VCeU5hbWUoIkRCX1hlbmZ0IiksDQogICAgICBkZWxldGVEYXRhYmFzZUJ5TmFtZSgiREItWGVuZnQtU3Rha2UiKSwNCiAgICAgIGRlbGV0ZURhdGFiYXNlQnlOYW1lKCJEQi1YZW4tU3Rha2UiKSAgICAgICAgICAvLyDinIUgcmVndWxhciBzdGFrZXMgREINCiAgICBdKTsNCg0KICAgIGNvbnN0IGJsb2NrZWQgPSByZXN1bHRzLnNvbWUociA9PiByLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgci52YWx1ZSA9PT0gJ2Jsb2NrZWQnKTsNCiAgICBpZiAoYmxvY2tlZCkgew0KICAgICAgYWxlcnQoIlNvbWUgZGF0YSBjb3VsZCBub3QgYmUgZGVsZXRlZCBiZWNhdXNlIGFub3RoZXIgdGFiIG9yIHdpbmRvdyBpcyB1c2luZyBpdC4gUGxlYXNlIGNsb3NlIG90aGVyIHRhYnMgdXNpbmcgdGhpcyBhcHAgYW5kIHRyeSBhZ2Fpbi4iKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQogICAgcmV0dXJuOw0KICB9DQoNCiAgLy8gU2luZ2xlIERCIGRlbGV0aW9uIHBhdGgNCiAgY29uc3QgY29uZmlybWVkID0gY29uZmlybSgNCiAgICBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBvbmx5ICR7ZnJpZW5kbHlEYk5hbWUoY2hvaWNlKX0/IFlvdXIgaW5wdXQgZmllbGRzIHdpbGwgbm90IGJlIGFmZmVjdGVkLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLmANCiAgKTsNCiAgaWYgKCFjb25maXJtZWQpIHJldHVybjsNCg0KICAvLyBDbG9zZSB0aGUgc3BlY2lmaWMgREIgaWYgb3Blbg0KICB0cnkgew0KICAgIGlmIChjaG9pY2UgPT09ICJEQl9Db2ludG9vbCIgJiYgd2luZG93LmRiSW5zdGFuY2UpIHsNCiAgICAgIHdpbmRvdy5kYkluc3RhbmNlLmNsb3NlKCk7DQogICAgfQ0KICB9IGNhdGNoIHt9DQogIHRyeSB7DQogICAgaWYgKGNob2ljZSA9PT0gIkRCX1hlbmZ0IiAmJiB3aW5kb3cueGVuZnQ/Lm9wZW5EQikgew0KICAgICAgY29uc3QgeGYgPSBhd2FpdCB3aW5kb3cueGVuZnQub3BlbkRCKCk7DQogICAgICB0cnkgeyB4Zi5jbG9zZSgpOyB9IGNhdGNoIHt9DQogICAgfQ0KICB9IGNhdGNoIHt9DQogIHRyeSB7DQogICAgaWYgKGNob2ljZSA9PT0gIkRCLVhlbmZ0LVN0YWtlIiAmJiB3aW5kb3cueGVuZnRTdGFrZT8ub3BlbkRCKSB7DQogICAgICBjb25zdCBzdGFrZURiID0gYXdhaXQgd2luZG93LnhlbmZ0U3Rha2Uub3BlbkRCKCk7DQogICAgICB0cnkgeyBzdGFrZURiLmNsb3NlKCk7IH0gY2F0Y2gge30NCiAgICB9DQogIH0gY2F0Y2gge30NCiAgdHJ5IHsNCiAgICBpZiAoY2hvaWNlID09PSAiREItWGVuLVN0YWtlIiAmJiB3aW5kb3cueGVuU3Rha2U/Lm9wZW5EQikgew0KICAgICAgY29uc3QgeHNEYiA9IGF3YWl0IHdpbmRvdy54ZW5TdGFrZS5vcGVuREIoKTsNCiAgICAgIHRyeSB7IHhzRGIuY2xvc2UoKTsgfSBjYXRjaCB7fQ0KICAgIH0NCiAgfSBjYXRjaCB7fQ0KDQogIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlbGV0ZURhdGFiYXNlQnlOYW1lKGNob2ljZSk7DQogIGlmIChyZXN1bHQgPT09ICdibG9ja2VkJykgew0KICAgIGFsZXJ0KCJUaGUgc2VsZWN0ZWQgZGF0YWJhc2UgY291bGQgbm90IGJlIGRlbGV0ZWQgYmVjYXVzZSBhbm90aGVyIHRhYiBvciB3aW5kb3cgaXMgdXNpbmcgaXQuIFBsZWFzZSBjbG9zZSBvdGhlciB0YWJzIHVzaW5nIHRoaXMgYXBwIGFuZCB0cnkgYWdhaW4uIik7DQogICAgcmV0dXJuOw0KICB9DQoNCiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOw0KfSk7DQoNCi8vIFBhcnNlIGlucHV0cyBsaWtlICI+PSAxTSIsICIxMGstNTBrIiwgIjwyNTAwMDAiLCBvciAiNTAwMDAwIg0KZnVuY3Rpb24gbWF0Y2hlc051bWJlclF1ZXJ5KHZhbHVlLCByYXcpew0KICBjb25zdCBzID0gU3RyaW5nKHJhdykudHJpbSgpLnRvTG93ZXJDYXNlKCk7DQoNCiAgLy8gY29udmVydCAiMWsvMW0vMWIiIGV0YyB0byBudW1iZXJzDQogIGZ1bmN0aW9uIHRvTnVtKHR4dCl7DQogICAgY29uc3QgdCA9IFN0cmluZyh0eHQpLnRyaW0oKS5yZXBsYWNlKC9bLCBfXS9nLCAiIik7DQogICAgY29uc3QgbSA9IHQubWF0Y2goL14oWzw+XT0/fD0pP1xzKihbMC05XSpcLj9bMC05XSspXHMqKFtrbWJ0XSk/JC9pKTsNCiAgICBpZiAoIW0pIHJldHVybiB7IG9wOiBudWxsLCBudW06IE5hTiB9Ow0KICAgIGNvbnN0IG9wID0gbVsxXSB8fCBudWxsOw0KICAgIGNvbnN0IG4gID0gcGFyc2VGbG9hdChtWzJdKTsNCiAgICBjb25zdCBzdWYgPSAobVszXSB8fCAiIikudG9Mb3dlckNhc2UoKTsNCiAgICBjb25zdCBtdWwgPSBzdWYgPT09ICJrIiA/IDFlMyA6IHN1ZiA9PT0gIm0iID8gMWU2IDogc3VmID09PSAiYiIgPyAxZTkgOiBzdWYgPT09ICJ0IiA/IDFlMTIgOiAxOw0KICAgIHJldHVybiB7IG9wLCBudW06IG4gKiBtdWwgfTsNCiAgfQ0KDQogIC8vIFJhbmdlOiAiYS1iIg0KICBpZiAocy5pbmNsdWRlcygiLSIpKSB7DQogICAgY29uc3QgW2EsYl0gPSBzLnNwbGl0KCItIik7DQogICAgY29uc3QgQSA9IHRvTnVtKGEpLm51bSwgQiA9IHRvTnVtKGIpLm51bTsNCiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKEEpICYmIE51bWJlci5pc0Zpbml0ZShCKSkgcmV0dXJuIHZhbHVlID49IE1hdGgubWluKEEsQikgJiYgdmFsdWUgPD0gTWF0aC5tYXgoQSxCKTsNCiAgICByZXR1cm4gdHJ1ZTsgLy8gaW52YWxpZCBpbnB1dCDihpIgZG9uJ3QgZmlsdGVyIG91dCByb3dzDQogIH0NCg0KICAvLyBTaW5nbGUgY29tcGFyYXRvciBvciBwbGFpbiBudW1iZXINCiAgY29uc3QgeyBvcCwgbnVtIH0gPSB0b051bShzKTsNCiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobnVtKSkgcmV0dXJuIHRydWU7DQoNCiAgc3dpdGNoIChvcCkgew0KICAgIGNhc2UgIj4iOiAgcmV0dXJuIHZhbHVlID4gIG51bTsNCiAgICBjYXNlICI+PSI6IHJldHVybiB2YWx1ZSA+PSBudW07DQogICAgY2FzZSAiPCI6ICByZXR1cm4gdmFsdWUgPCAgbnVtOw0KICAgIGNhc2UgIjw9IjogcmV0dXJuIHZhbHVlIDw9IG51bTsNCiAgICBjYXNlICI9IjogIHJldHVybiB2YWx1ZSA9PT0gbnVtOw0KICAgIGRlZmF1bHQ6ICAgcmV0dXJuIHZhbHVlID49IG51bTsgLy8gZGVmYXVsdCBiZWhhdmlvciBmb3IgYSBsb25lIG51bWJlcg0KICB9DQp9DQoNCmZ1bmN0aW9uIHN3aXRjaFJwYygpIHsNCiAgY3VycmVudFJwY0luZGV4ID0gKGN1cnJlbnRScGNJbmRleCArIDEpICUgcnBjRW5kcG9pbnRzLmxlbmd0aDsNCiAgY29uc3QgbmV3UnBjID0gcnBjRW5kcG9pbnRzW2N1cnJlbnRScGNJbmRleF07DQogIHRyeSB7DQogICAgd2ViMy5zZXRQcm92aWRlcihuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKG5ld1JwYykpOw0KICAgIGNvbnRyYWN0LnNldFByb3ZpZGVyKHdlYjMuY3VycmVudFByb3ZpZGVyKTsNCiAgICBjb25zb2xlLmxvZyhgU3dpdGNoZWQgdG8gbmV3IFJQQzogJHtuZXdScGN9YCk7DQogIH0gY2F0Y2ggKGUpIHsNCiAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc2V0IG5ldyBwcm92aWRlciIsIGUpOw0KICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIG1ha2VScGNSZXF1ZXN0KHJlcXVlc3RGbiwgcmVxdWVzdE5hbWUpIHsNCiAgY29uc3QgbWF4QXR0ZW1wdHMgPSBycGNFbmRwb2ludHMubGVuZ3RoICogMjsNCiAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gbWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykgew0KICAgIHRyeSB7DQogICAgICByZXR1cm4gYXdhaXQgcmVxdWVzdEZuKCk7DQogICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgIGNvbnNvbGUud2FybihgUlBDIHJlcXVlc3QgJyR7cmVxdWVzdE5hbWV9JyBmYWlsZWQgb24gYXR0ZW1wdCAke2F0dGVtcHR9LyR7bWF4QXR0ZW1wdHN9IHdpdGggJHtycGNFbmRwb2ludHNbY3VycmVudFJwY0luZGV4XX0uIEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7DQogICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjUwKSk7DQogICAgICBzd2l0Y2hScGMoKTsNCiAgICB9DQogIH0NCiAgdGhyb3cgbmV3IEVycm9yKGBSUEMgcmVxdWVzdCAnJHtyZXF1ZXN0TmFtZX0nIGZhaWxlZCBhZnRlciAke21heEF0dGVtcHRzfSBhdHRlbXB0cyBvbiBhbGwgYXZhaWxhYmxlIFJQQ3MuYCk7DQp9DQoNCi8vIEhlbHBlcjogZW5zdXJlIEZsYXRwaWNrciBoZWFkZXIgKG1vbnRoL3llYXIpIGlzbid0IHB1c2hlZCBkb3duIGJ5IHZlbmRvciBwYWRkaW5nDQpmdW5jdGlvbiBfX2ZpeEZsYXRwaWNrckhlYWRlcihmcEluc3RhbmNlKXsNCiAgdHJ5IHsNCiAgICBjb25zdCByb290ID0gZnBJbnN0YW5jZSAmJiBmcEluc3RhbmNlLmNhbGVuZGFyQ29udGFpbmVyOw0KICAgIGlmICghcm9vdCkgcmV0dXJuOw0KICAgIGNvbnN0IGhkciA9IHJvb3QucXVlcnlTZWxlY3RvcignLmZsYXRwaWNrci1jdXJyZW50LW1vbnRoJyk7DQogICAgaWYgKGhkcikgew0KICAgICAgaGRyLnN0eWxlLnBhZGRpbmdUb3AgPSAnMHB4JzsNCiAgICAgIC8vIEFsc28gY2xlYXIgZnVsbCBwYWRkaW5nIHRvIG92ZXJyaWRlIHZlbmRvciBzaG9ydGhhbmQNCiAgICAgIGhkci5zdHlsZS5wYWRkaW5nID0gJzBweCc7DQogICAgfQ0KICB9IGNhdGNoIHt9DQp9DQoNCi8vIE9wdGlvbmFsOiBrZWVwIGFuIGluaXRpYWwgaW5zdGFuY2Ugc28gdGhlIGNhbGVuZGFyIGlzIHVzYWJsZSBldmVuIGJlZm9yZSBkYXRhIGxvYWRzDQp3aW5kb3cuX2NhbGVuZGFyID0gZmxhdHBpY2tyKCIjY2FsZW5kYXIiLCB7DQogIGlubGluZTogdHJ1ZSwNCiAgZGVmYXVsdERhdGU6ICJ0b2RheSIsDQogIG9uUmVhZHk6IGZ1bmN0aW9uKHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHIsIGluc3RhbmNlKXsgX19maXhGbGF0cGlja3JIZWFkZXIoaW5zdGFuY2UpOyB9DQp9KTsNCg0KLy8gSGVscGVyIHRvIGFsd2F5cyBncmFiIHRoZSAqY3VycmVudCogY2FsZW5kYXIgaW5zdGFuY2UNCmZ1bmN0aW9uIGdldEFjdGl2ZUNhbGVuZGFyKCkgew0KICAvLyBQcmVmZXIgdGhlIGluc3RhbmNlIGNyZWF0ZWQgYnkgdW5pZnkuanMNCiAgaWYgKHdpbmRvdy5jYWxlbmRhclBpY2tlciAmJiB0eXBlb2Ygd2luZG93LmNhbGVuZGFyUGlja2VyLnNldERhdGUgPT09ICJmdW5jdGlvbiIpIHsNCiAgICByZXR1cm4gd2luZG93LmNhbGVuZGFyUGlja2VyOw0KICB9DQogIC8vIEZhbGxiYWNrIHRvIHRoZSBib290c3RyYXAgaW5zdGFuY2UNCiAgaWYgKHdpbmRvdy5fY2FsZW5kYXIgJiYgdHlwZW9mIHdpbmRvdy5fY2FsZW5kYXIuc2V0RGF0ZSA9PT0gImZ1bmN0aW9uIikgew0KICAgIHJldHVybiB3aW5kb3cuX2NhbGVuZGFyOw0KICB9DQogIHJldHVybiBudWxsOw0KfQ0KDQovLyBXaXJlIHVwIHRoZSAiQ2VudGVyIENhbGVuZGFyIiBidXR0b24gKGFwcGVhcnMgb24gdGhlIERhc2hib2FyZCBmaWx0ZXIgcm93KQ0KKGZ1bmN0aW9uIGF0dGFjaENlbnRlckNhbGVuZGFyKCl7DQogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjZW50ZXJDYWxlbmRhckJ0biIpOw0KICBpZiAoIWJ0bikgcmV0dXJuOw0KDQogIGJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsNCiAgICBsZXQgY2FsID0gZ2V0QWN0aXZlQ2FsZW5kYXIoKTsNCiAgICBpZiAoIWNhbCkgcmV0dXJuOw0KDQogICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOw0KDQogICAgLy8gMS4gSnVtcCBjYWxlbmRhciB2aWV3IHRvIHRvZGF5J3MgbW9udGgveWVhciB3aXRob3V0IHNlbGVjdGluZyBhIGRhdGUNCiAgICB0cnkgeyBjYWwuanVtcFRvRGF0ZT8uKHRvZGF5KTsgfSBjYXRjaCB7fQ0KDQogICAgLy8gMi4gRm9ybWF0IHRoZSBmaWx0ZXIgdGV4dCBhcyAiWVlZWSBNb24iIChlLmcuLCAiMjAyNSBTZXAiKQ0KICAgIGNvbnN0IHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpOw0KICAgIGNvbnN0IG1vbnRoTmFtZSA9IHRvZGF5LnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyBtb250aDogJ3Nob3J0JyB9KTsNCiAgICBjb25zdCBmaWx0ZXJUZXh0ID0gYCR7eWVhcn0gJHttb250aE5hbWV9YDsNCg0KICAgIC8vIDMuIFNldCB0aGUgaGVhZGVyIGZpbHRlciBhbmQgY2xlYXIgYW55IHZpc3VhbCBzZWxlY3Rpb24gaW4gdGhlIGNhbGVuZGFyDQogICAgaWYgKHR5cGVvZiBzZXRIZWFkZXJGaWx0ZXJUZXh0RGVib3VuY2VkID09PSAnZnVuY3Rpb24nKSB7DQogICAgICBzZXRIZWFkZXJGaWx0ZXJUZXh0RGVib3VuY2VkKCJNYXR1cml0eV9EYXRlX0ZtdCIsIGZpbHRlclRleHQpOw0KICAgIH0NCiAgICB0cnkgeyBjYWwuY2xlYXIoKTsgfSBjYXRjaCB7fSAvLyBUaGlzIHJlbW92ZXMgdGhlIGhpZ2hsaWdodCBmcm9tIGFueSBzZWxlY3RlZCBkYXkNCiAgfSk7DQp9KSgpOw0KDQoNCi8vIE5vcm1hbGl6ZSBhIHN0YWtlIGFtb3VudCBmcm9tIHJvdyDihpIgQmlnSW50IHdlaQ0KICBmdW5jdGlvbiBfc3Rha2VBbW91bnRXZWkocm93KSB7DQogICAgLy8gUHJpb3JpdHkgMTogZXhwbGljaXQgd2VpIGlmIHByZXNlbnQNCiAgICBpZiAocm93ICYmIHJvdy5hbW91bnRXZWkpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHdlaSA9IEJpZ0ludChTdHJpbmcocm93LmFtb3VudFdlaSkpOw0KICAgICAgICBpZiAod2VpID4gMG4pIHJldHVybiB3ZWk7DQogICAgICB9IGNhdGNoIHt9DQogICAgfQ0KICAgIC8vIFByaW9yaXR5IDI6IHRva2VuIGFtb3VudCDihpIgd2VpDQogICAgaWYgKHJvdyAmJiAocm93LnN0YWtlZEFtb3VudCB8fCByb3cuYW1vdW50KSkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgdG9rZW5zID0gQmlnSW50KFN0cmluZyhyb3cuc3Rha2VkQW1vdW50IHx8IHJvdy5hbW91bnQpLnJlcGxhY2UoL1ssX1xzXS9nLCAiIikpOw0KICAgICAgICBpZiAodG9rZW5zID4gMG4pIHJldHVybiB0b2tlbnMgKiAxMDAwMDAwMDAwMDAwMDAwMDAwbjsNCiAgICAgIH0gY2F0Y2gge30NCiAgICB9DQogICAgcmV0dXJuIDBuOw0KICB9DQoNCi8vIC0tLSBUQUJVTEFUT1IgVEFCTEUgLS0tDQpsZXQgY29pbnRvb2xUYWJsZTsNCmZ1bmN0aW9uIHBvcHVsYXRlVGFibGUobWludHMpIHsNCiAgY29uc3QgdGFibGVFeGlzdHMgPSAhIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb2ludG9vbC10YWJsZSIpLnRhYnVsYXRvcjsNCiAgaWYgKHRhYmxlRXhpc3RzKSB7DQogICAgd2luZG93LmNvaW50b29sVGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29pbnRvb2wtdGFibGUiKS50YWJ1bGF0b3I7IC8vIOKGkCBhZGQgdGhpcw0KICAgIGNvaW50b29sVGFibGUucmVwbGFjZURhdGEobWludHMpOw0KICAgIC8vIEVuc3VyZSBidWxrIGJhciBhbmQgc2VsZWN0aW9uIGhvb2tzIHJlbWFpbiB3aXJlZA0KICAgIGVuc3VyZUJ1bGtCYXIoKTsNCiAgICByZWZyZXNoQnVsa1VJKCk7DQogICAgaWYgKCFjb2ludG9vbFRhYmxlLl9idWxrRXZlbnRzKSB7DQogICAgICBjb2ludG9vbFRhYmxlLm9uKCJyb3dTZWxlY3RlZCIsIChyb3cpID0+IHsgdHJ5IHsgc2VsZWN0ZWRSb3dzLmFkZChyb3cuZ2V0SW5kZXgoKSk7IH0gY2F0Y2gge30gcmVmcmVzaEJ1bGtVSSgpOyB9KTsNCiAgICAgIGNvaW50b29sVGFibGUub24oInJvd0Rlc2VsZWN0ZWQiLCAocm93KSA9PiB7IHRyeSB7IHNlbGVjdGVkUm93cy5kZWxldGUocm93LmdldEluZGV4KCkpOyB9IGNhdGNoIHt9IHJlZnJlc2hCdWxrVUkoKTsgfSk7DQogICAgICBjb2ludG9vbFRhYmxlLm9uKCJyb3dTZWxlY3Rpb25DaGFuZ2VkIiwgKF9kYXRhLCByb3dzKSA9PiB7IHRyeSB7IHNlbGVjdGVkUm93cy5jbGVhcigpOyByb3dzLmZvckVhY2gociA9PiBzZWxlY3RlZFJvd3MuYWRkKHIuZ2V0SW5kZXgoKSkpOyB9IGNhdGNoIHt9IHJlZnJlc2hCdWxrVUkoKTsgfSk7DQogICAgICBjb2ludG9vbFRhYmxlLl9idWxrRXZlbnRzID0gdHJ1ZTsNCiAgICB9DQogICAgcmV0dXJuOw0KICB9DQogIGNvaW50b29sVGFibGUgPSBuZXcgVGFidWxhdG9yKCIjY29pbnRvb2wtdGFibGUiLCB7DQoNCiAgICAvLyBBZGQgdGhlIGV2ZW50IGhhbmRsZXJzIGhlcmUsIGF0IHRoZSB0b3AgbGV2ZWw6DQogICAgc2VsZWN0YWJsZTogdHJ1ZSwNCiAgICAvLyBPbmx5IGFsbG93IHNlbGVjdGluZyBDb2ludG9vbCByb3dzOyBkaXNhYmxlIG90aGVycyAoWEVORlQsIFN0YWtlLCBldGMuKQ0KICAgIHNlbGVjdGFibGVDaGVjazogZnVuY3Rpb24ocm93KXsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHQgPSBTdHJpbmcoKHJvdy5nZXREYXRhKCkgfHwge30pLlNvdXJjZVR5cGUgfHwgJ0NvaW50b29sJyk7DQogICAgICAgIHJldHVybiB0ID09PSAnQ29pbnRvb2wnOw0KICAgICAgfSBjYXRjaCAoXykgeyByZXR1cm4gdHJ1ZTsgfQ0KICAgIH0sDQogICAgLy8gVmlzdWFsbHkgZGlzYWJsZSBub24tQ29pbnRvb2wgY2hlY2tib3hlcyBvbiByZW5kZXINCiAgICByb3dGb3JtYXR0ZXI6IGZ1bmN0aW9uKHJvdyl7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCB0ID0gU3RyaW5nKChyb3cuZ2V0RGF0YSgpIHx8IHt9KS5Tb3VyY2VUeXBlIHx8ICdDb2ludG9vbCcpOw0KICAgICAgICBpZiAodCAhPT0gJ0NvaW50b29sJykgew0KICAgICAgICAgIGNvbnN0IGNlbGxzID0gcm93LmdldENlbGxzKCk7DQogICAgICAgICAgY29uc3QgYzAgPSAoY2VsbHMgJiYgY2VsbHMubGVuZ3RoKSA/IGNlbGxzWzBdIDogbnVsbDsNCiAgICAgICAgICBjb25zdCBlbCA9IGMwID8gYzAuZ2V0RWxlbWVudCgpIDogbnVsbDsNCiAgICAgICAgICBjb25zdCBpbnAgPSBlbCA/IGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKSA6IG51bGw7DQogICAgICAgICAgaWYgKGlucCkgeyBpbnAuZGlzYWJsZWQgPSB0cnVlOyBpbnAuY2hlY2tlZCA9IGZhbHNlOyB9DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKF8pIHt9DQogICAgfSwNCiAgICByb3dTZWxlY3RlZDogZnVuY3Rpb24ocm93KSB7DQogICAgICBzZWxlY3RlZFJvd3MuYWRkKHJvdy5nZXRJbmRleCgpKTsNCiAgICAgIHJlZnJlc2hCdWxrVUkoKTsNCiAgICB9LA0KICAgIHJvd0Rlc2VsZWN0ZWQ6IGZ1bmN0aW9uKHJvdykgew0KICAgICAgc2VsZWN0ZWRSb3dzLmRlbGV0ZShyb3cuZ2V0SW5kZXgoKSk7DQogICAgICByZWZyZXNoQnVsa1VJKCk7DQogICAgfSwNCg0KICAgIGRhdGE6IG1pbnRzLA0KICAgIGxheW91dDogImZpdERhdGEiLA0KICAgIGluZGV4OiAiSUQiLA0KICAgIHBhZ2luYXRpb246ICJsb2NhbCIsDQogICAgcGFnaW5hdGlvblNpemU6IDIwLA0KICAgIHBhZ2luYXRpb25TaXplU2VsZWN0b3I6IFsxMCwgMjAsIDUwLCAxMDBdLA0KICAgIC8vIERlZmF1bHQgc29ydDogbWF0dXJpdHkgZGF0ZSBhc2NlbmRpbmcgb24gZmlyc3QgbG9hZA0KICAgIGluaXRpYWxTb3J0OiBbDQogICAgICB7IGNvbHVtbjogJ01hdHVyaXR5X0RhdGVfRm10JywgZGlyOiAnYXNjJyB9DQogICAgXSwNCiAgICBwZXJzaXN0ZW50TGF5b3V0OiB0cnVlLA0KICAgIHBlcnNpc3RlbmNlSUQ6ICJjb2ludG9vbFRhYmxlR3JvdXBlZCIsDQoNCiAgICAvLyDinIUgbWFrZSBUYWJ1bGF0b3IgYWN0dWFsbHkgY2FsbCBjb2x1bW4gdG9vbHRpcCBmdW5jdGlvbnMNCiAgICB0b29sdGlwczogdHJ1ZSwNCg0KICAgIC8vIEVuc3VyZSBTdGF0dXMgaGVhZGVyIGZpbHRlciBkZWZhdWx0cyB0byAnQWxsJyAobm8gZmlsdGVyaW5nKQ0KICAgIGluaXRpYWxIZWFkZXJGaWx0ZXI6IFsNCiAgICAgIHsgZmllbGQ6ICdTdGF0dXMnLCB2YWx1ZTogJycgfQ0KICAgIF0sDQoNCiAgICBjb2x1bW5zOiBbDQogICAgICB7DQogICAgICAgIHRpdGxlOiAiIiwNCiAgICAgICAgZm9ybWF0dGVyOiAicm93U2VsZWN0aW9uIiwNCiAgICAgICAgaG96QWxpZ246ICJjZW50ZXIiLA0KICAgICAgICBoZWFkZXJTb3J0OiBmYWxzZSwNCiAgICAgICAgd2lkdGg6IDQwLA0KICAgICAgICBjZWxsQ2xpY2s6IGZ1bmN0aW9uKGUsIGNlbGwpIHsNCiAgICAgICAgICBjb25zdCBkYXRhID0gY2VsbC5nZXRSb3coKS5nZXREYXRhKCk7DQogICAgICAgICAgY29uc3QgdCA9IFN0cmluZygoZGF0YSB8fCB7fSkuU291cmNlVHlwZSB8fCAnQ29pbnRvb2wnKTsNCiAgICAgICAgICBpZiAodCAhPT0gJ0NvaW50b29sJykgcmV0dXJuOyAvLyBpZ25vcmUgY2xpY2tzIG9uIG5vbi1Db2ludG9vbCByb3dzDQogICAgICAgICAgY2VsbC5nZXRSb3coKS50b2dnbGVTZWxlY3QoKTsNCiAgICAgICAgfSwNCiAgICAgIH0sDQoNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6ICJNaW50IElEIiwNCiAgICAgICAgZmllbGQ6ICJNaW50X2lkX1N0YXJ0IiwNCiAgICAgICAgaGVhZGVyRmlsdGVyOiAiaW5wdXQiLA0KICAgICAgICBzb3J0ZXI6ICJudW1iZXIiLA0KICAgICAgICB3aWR0aDogMTIwLA0KICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGNlbGwpIHsNCiAgICAgICAgICBjb25zdCByb3cgICA9IGNlbGwuZ2V0Um93KCkuZ2V0RGF0YSgpOw0KICAgICAgICAgIGNvbnN0IHZhbHVlID0gU3RyaW5nKGNlbGwuZ2V0VmFsdWUoKSA/PyAiIik7DQoNCiAgICAgICAgICAvLyBYRU5GVCByb3dzIOKGkiBsaW5rIHRva2VuIGludmVudG9yeSBwYWdlDQogICAgICAgICAgaWYgKHJvdy5Tb3VyY2VUeXBlID09PSAiWEVORlQiKSB7DQogICAgICAgICAgICBjb25zdCBjYSA9ICh3aW5kb3cueGVuZnQgJiYgd2luZG93LnhlbmZ0LkNPTlRSQUNUX0FERFJFU1MpDQogICAgICAgICAgICAgID8gd2luZG93LnhlbmZ0LkNPTlRSQUNUX0FERFJFU1MNCiAgICAgICAgICAgICAgOiAiMHgwYTI1MjY2M0RCQ2MwYjA3MzA2M0Q2NDIwYTQwMzE5ZTQzOENmYTU5IjsNCiAgICAgICAgICAgIHJldHVybiBgPGEgaHJlZj0iaHR0cHM6Ly9ldGhlcnNjYW4uaW8vdG9rZW4vJHtjYX0/YT0ke3ZhbHVlfSIgdGFyZ2V0PSJfYmxhbmsiPiR7dmFsdWV9PC9hPmA7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgLy8gU3Rha2UgWEVORlQgcm93cyDihpIgbGluayBORlQgcGFnZQ0KICAgICAgICAgIGlmIChyb3cuU291cmNlVHlwZSA9PT0gIlN0YWtlIFhFTkZUIikgew0KICAgICAgICAgICAgY29uc3QgYWN0cyA9IEFycmF5LmlzQXJyYXkocm93LkFjdGlvbnMpID8gcm93LkFjdGlvbnMgOiAoQXJyYXkuaXNBcnJheShyb3cuYWN0aW9ucykgPyByb3cuYWN0aW9ucyA6IFtdKTsNCiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gYWN0cyAmJiBhY3RzLmxlbmd0aCA/IGFjdHNbMF0gOiBudWxsOw0KICAgICAgICAgICAgY29uc3QgaGFzaCA9IGZpcnN0ICYmIChmaXJzdC5oYXNoIHx8IGZpcnN0LnR4SGFzaCk7DQogICAgICAgICAgICBpZiAoaGFzaCkgew0KICAgICAgICAgICAgICByZXR1cm4gYDxhIGhyZWY9Imh0dHBzOi8vZXRoZXJzY2FuLmlvL3R4LyR7aGFzaH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj4ke3ZhbHVlfTwvYT5gOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgY2EgPSAiMHhmZWRhMDNiOTE1MTRkMzFiNDM1ZDRlMTUxOWZkOWU2OTljMjliYmZjIjsNCiAgICAgICAgICAgIHJldHVybiBgPGEgaHJlZj0iaHR0cHM6Ly9ldGhlcnNjYW4uaW8vbmZ0LyR7Y2F9LyR7dmFsdWV9IiB0YXJnZXQ9Il9ibGFuayIgcmVsPSJub29wZW5lciI+JHt2YWx1ZX08L2E+YDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAvLyDinIUgUmVndWxhciBTdGFrZXMg4oaSIHNob3cgc2hvcnQgaWQgKGxhc3QgOCkNCiAgICAgICAgICBpZiAocm93LlNvdXJjZVR5cGUgPT09ICJTdGFrZSIpIHsNCiAgICAgICAgICAgIGNvbnN0IHNob3J0ID0gdmFsdWUubGVuZ3RoID4gOCA/IHZhbHVlLnNsaWNlKC04KSA6IHZhbHVlOw0KICAgICAgICAgICAgY29uc3QgYWN0cyA9IEFycmF5LmlzQXJyYXkocm93LkFjdGlvbnMpID8gcm93LkFjdGlvbnMgOiAoQXJyYXkuaXNBcnJheShyb3cuYWN0aW9ucykgPyByb3cuYWN0aW9ucyA6IFtdKTsNCiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gYWN0cyAmJiBhY3RzLmxlbmd0aCA/IGFjdHNbMF0gOiBudWxsOw0KICAgICAgICAgICAgY29uc3QgaGFzaCA9IGZpcnN0ICYmIChmaXJzdC5oYXNoIHx8IGZpcnN0LnR4SGFzaCk7DQogICAgICAgICAgICBpZiAoaGFzaCkgew0KICAgICAgICAgICAgICByZXR1cm4gYDxhIGhyZWY9Imh0dHBzOi8vZXRoZXJzY2FuLmlvL3R4LyR7aGFzaH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj4ke3Nob3J0fTwvYT5gOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8ga2VlcCBmdWxsIHZhbHVlIGluIGEgdG9vbHRpcCBmb3IgY29udmVuaWVuY2UNCiAgICAgICAgICAgIHJldHVybiBgPHNwYW4gdGl0bGU9IiR7dmFsdWV9Ij4ke3Nob3J0fTwvc3Bhbj5gOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIC8vIENvaW5Ub29sIHJvd3Mg4oaSIGxpbmsgdG8gbWludCB0eCBpZiBwcmVzZW50DQogICAgICAgICAgaWYgKHJvdy5UWF9IYXNoKSB7DQogICAgICAgICAgICByZXR1cm4gYDxhIGhyZWY9Imh0dHBzOi8vZXRoZXJzY2FuLmlvL3R4LyR7cm93LlRYX0hhc2h9IiB0YXJnZXQ9Il9ibGFuayI+JHt2YWx1ZX08L2E+YDsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICByZXR1cm4gdmFsdWU7DQogICAgICAgIH0NCiAgICAgIH0sDQoNCg0KICAgICAgeyB0aXRsZTogIlNhbHQiLCBmaWVsZDogIlNhbHQiLCBoZWFkZXJGaWx0ZXI6ICJpbnB1dCIsIHdpZHRoOiA4MCwNCiAgICAgICAgZm9ybWF0dGVyOiAoY2VsbCkgPT4gew0KICAgICAgICAgIGNvbnN0IHNhbHQgPSBjZWxsLmdldFZhbHVlKCk7DQogICAgICAgICAgcmV0dXJuIGA8c3BhbiAiPiR7c2FsdC5sZW5ndGggPiA2ID8gc2FsdC5zbGljZSgwLCA2KSArICcuLi4nIDogc2FsdH08L3NwYW4+YDsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIHsgdGl0bGU6ICJjUmFuayBSYW5nZSIsIGZpZWxkOiAiUmFua19SYW5nZSIsIGhlYWRlckZpbHRlcjogImlucHV0Iiwgd2lkdGg6IDIyMCB9LA0KICAgICAgeyB0aXRsZTogIlRlcm0iLCBmaWVsZDogIlRlcm0iLCBoZWFkZXJGaWx0ZXI6ICJpbnB1dCIsIHNvcnRlcjogIm51bWJlciIsIHdpZHRoOiAxMjAgfSwNCiAgICAgIHsgdGl0bGU6ICJWTVVzIiwgZmllbGQ6ICJWTVVzIiwgaGVhZGVyRmlsdGVyOiAiaW5wdXQiLCBzb3J0ZXI6ICJudW1iZXIiLCB3aWR0aDogODAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6ICJTdGF0dXMiLA0KICAgICAgICBmaWVsZDogIlN0YXR1cyIsDQogICAgICAgIGhlYWRlckZpbHRlcjogImxpc3QiLA0KICAgICAgICBoZWFkZXJGaWx0ZXJQYXJhbXM6IHsNCiAgICAgICAgICAvLyBWYWx1ZXMgbWlncmF0ZWQgdG8gVGFidWxhdG9yIHY2IGxpc3QgZm9ybWF0DQogICAgICAgICAgdmFsdWVzOiBbDQogICAgICAgICAgICB7IGxhYmVsOiAiQWxsIiwgdmFsdWU6ICIiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiAiTWF0dXJpbmciLCB2YWx1ZTogIk1hdHVyaW5nIiB9LA0KICAgICAgICAgICAgeyBsYWJlbDogIkNsYWltYWJsZSIsIHZhbHVlOiAiQ2xhaW1hYmxlIiB9LA0KICAgICAgICAgICAgeyBsYWJlbDogIkNsYWltZWQiLCB2YWx1ZTogIkNsYWltZWQiIH0sDQogICAgICAgICAgICB7IGxhYmVsOiAiRW5kZWQgRWFybHkiLCB2YWx1ZTogIkVuZGVkIEVhcmx5IiB9LA0KICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgICAgd2lkdGg6IDExMCwNCg0KICAgICAgICAvLyDinIUgRmlsdGVyIGJ5IGxpdmUvY29tcHV0ZWQgc3RhdHVzLCBleGFjdCBtYXRjaDsgYmxhbmsgPSBBbGwNCiAgICAgICAgaGVhZGVyRmlsdGVyRnVuYzogZnVuY3Rpb24oaGVhZGVyVmFsdWUsIF9yb3dWYWx1ZSwgcm93RGF0YSl7DQogICAgICAgICAgY29uc3QgcmF3ID0gU3RyaW5nKGhlYWRlclZhbHVlID8/ICIiKS50cmltKCk7DQogICAgICAgICAgaWYgKCFyYXcpIHJldHVybiB0cnVlOyAvLyBBbGwNCg0KICAgICAgICAgIC8vIG1hcCBhIGZldyBjYXN1YWwgaW5wdXRzIOKGkiBjYW5vbmljYWwgc3RhdHVzZXMgKGRlZmVuc2l2ZSBmb3IgcHJvZ3JhbW1hdGljIHNldHMpDQogICAgICAgICAgY29uc3QgcSA9IHJhdy50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgIGNvbnN0IG1hcCA9IHsNCiAgICAgICAgICAgICJyZWFkeSI6ICJjbGFpbWFibGUiLA0KICAgICAgICAgICAgImNsYWltIjogImNsYWltYWJsZSIsDQogICAgICAgICAgICAiY2xhaW1hYmxlIjogImNsYWltYWJsZSIsDQogICAgICAgICAgICAibWF0dXJpbmciOiAibWF0dXJpbmciLA0KICAgICAgICAgICAgInBlbmRpbmciOiAibWF0dXJpbmciLA0KICAgICAgICAgICAgImNsYWltZWQiOiAiY2xhaW1lZCIsDQogICAgICAgICAgICAiZW5kZWQgZWFybHkiOiAiZW5kZWQgZWFybHkiLA0KICAgICAgICAgIH07DQogICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbWFwW3FdIHx8IHE7DQoNCiAgICAgICAgICAvLyDinIUgR2V0IHRoZSBzaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciB0aGUgcm93J3Mgc3RhdHVzDQogICAgICAgICAgY29uc3QgY3VycmVudFN0YXR1cyA9IGNvbXB1dGVMaXZlU3RhdHVzKHJvd0RhdGEpLnRvTG93ZXJDYXNlKCk7DQoNCiAgICAgICAgICAvLyBQZXJmb3JtIGFuIGV4YWN0IG1hdGNoDQogICAgICAgICAgcmV0dXJuIGN1cnJlbnRTdGF0dXMgPT09IHRhcmdldDsNCiAgICAgICAgfSwNCg0KICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGNlbGwpew0KICAgICAgICAgIGNvbnN0IHJvd0RhdGEgPSBjZWxsLmdldFJvdygpLmdldERhdGEoKTsNCiAgICAgICAgICBjb25zdCBsaXZlID0gY29tcHV0ZUxpdmVTdGF0dXMocm93RGF0YSk7DQogICAgICAgICAgaWYgKGxpdmUgPT09ICdDbGFpbWFibGUnKSB7DQogICAgICAgICAgICBpZiAoY29ubmVjdGVkQWNjb3VudCAmJiBjb25uZWN0ZWRBY2NvdW50LnRvTG93ZXJDYXNlKCkgPT09IHJvd0RhdGEuT3duZXIudG9Mb3dlckNhc2UoKSkgew0KICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPSJjbGFpbS1idXR0b24iPkNsYWltYWJsZTwvc3Bhbj5gOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gbGl2ZTsNCiAgICAgICAgfSwNCiAgICAgICAgY2VsbENsaWNrOiBmdW5jdGlvbihlLCBjZWxsKXsNCiAgICAgICAgICBjb25zdCByb3dEYXRhID0gY2VsbC5nZXRSb3coKS5nZXREYXRhKCk7DQogICAgICAgICAgY29uc3QgbGl2ZVN0YXR1cyA9IGNvbXB1dGVMaXZlU3RhdHVzKHJvd0RhdGEpOw0KDQogICAgICAgICAgLy8gSWYgdGhlIHN0YXR1cyBpcyBjbGFpbWFibGUgYW5kIHRoZSB1c2VyIGNsaWNrZWQgdGhlIGJ1dHRvbiwgaGFuZGxlIHRoZSBhY3Rpb24NCiAgICAgICAgICBpZiAobGl2ZVN0YXR1cyA9PT0gJ0NsYWltYWJsZScgJiYNCiAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xhaW0tYnV0dG9uJykgJiYNCiAgICAgICAgICAgIGNvbm5lY3RlZEFjY291bnQgJiYNCiAgICAgICAgICAgIGNvbm5lY3RlZEFjY291bnQudG9Mb3dlckNhc2UoKSA9PT0gcm93RGF0YS5Pd25lci50b0xvd2VyQ2FzZSgpKQ0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGhhbmRsZUNsYWltQWN0aW9uKHJvd0RhdGEpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLA0KICAgICAgew0KICAgICAgICB0aXRsZTogIkFjdGlvbnMiLA0KICAgICAgICBmaWVsZDogIkFjdGlvbnMiLA0KICAgICAgICBoZWFkZXJGaWx0ZXI6ICJpbnB1dCIsDQogICAgICAgIHdpZHRoOiAxMDAsDQogICAgICAgIHNvcnRlcjoibnVtYmVyIiwNCiAgICAgICAgc29ydGVyUGFyYW1zOnsNCiAgICAgICAgICBhY2Nlc3NvcjogKHZhbHVlKSA9PiB2YWx1ZSA/IHZhbHVlLmxlbmd0aCA6IDANCiAgICAgICAgfSwNCiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihjZWxsKSB7DQogICAgICAgICAgY29uc3QgYWN0aW9ucyA9IGNlbGwuZ2V0VmFsdWUoKSB8fCBbXTsNCiAgICAgICAgICBjb25zdCBhY3Rpb25Db3VudCA9IGFjdGlvbnMubGVuZ3RoOw0KICAgICAgICAgIGNvbnN0IHJvd0RhdGEgPSBjZWxsLmdldFJvdygpLmdldERhdGEoKTsNCiAgICAgICAgICBjb25zdCB2bXVzID0gQmlnSW50KHJvd0RhdGEuVk1Vcyk7DQoNCiAgICAgICAgICBpZiAoYWN0aW9uQ291bnQgPT09IDApIHsNCiAgICAgICAgICAgIHJldHVybiAiMCI7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgY29uc3QgbGlua3MgPSBhY3Rpb25zLm1hcCgoYWN0aW9uLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgY29uc3QgaHJlZiA9IGBodHRwczovL2V0aGVyc2Nhbi5pby90eC8keyhhY3Rpb24uaGFzaCB8fCBhY3Rpb24udHhIYXNoIHx8ICcnKX1gOw0KICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGx1eG9uLkRhdGVUaW1lLmZyb21TZWNvbmRzKE51bWJlcihhY3Rpb24udGltZVN0YW1wKSkudG9Gb3JtYXQoJ01NTSBkLCB5eXl5LCBoaDptbSBhJyk7DQogICAgICAgICAgICBsZXQgdG9vbHRpcFRleHQgPSBgJHtkYXRlfVxuSGFzaDogJHsoYWN0aW9uLmhhc2ggfHwgYWN0aW9uLnR4SGFzaCB8fCAnbi9hJyl9YDsNCiAgICAgICAgICAgIGlmIChhY3Rpb24ucmFuaykgew0KICAgICAgICAgICAgICBjb25zdCBzdGFydFJhbmsgPSBCaWdJbnQoYWN0aW9uLnJhbmspOw0KICAgICAgICAgICAgICBjb25zdCBlbmRSYW5rID0gc3RhcnRSYW5rICsgdm11cyAtIDFuOw0KICAgICAgICAgICAgICB0b29sdGlwVGV4dCArPSBgXG5jUmFuayBSYW5nZTogJHtzdGFydFJhbmt9LSR7ZW5kUmFua31gOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gYDxhIGhyZWY9IiR7aHJlZn0iIHRpdGxlPSIke3Rvb2x0aXBUZXh0fSIgdGFyZ2V0PSJfYmxhbmsiPiR7aW5kZXggKyAxfTwvYT5gOw0KICAgICAgICAgIH0pOw0KDQogICAgICAgICAgcmV0dXJuIGxpbmtzLmpvaW4oJywgJyk7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRpdGxlOiAiTWF0dXJpdHkgRGF0ZSIsDQogICAgICAgIGZpZWxkOiAiTWF0dXJpdHlfRGF0ZV9GbXQiLA0KICAgICAgICBoZWFkZXJGaWx0ZXI6ICJpbnB1dCIsDQogICAgICAgIGhlYWRlckZpbHRlclBsYWNlaG9sZGVyOiAiVHlwZSBlLmcuIDIwMjUgQXVnIiwNCg0KICAgICAgICAvLyDinKggTkVXOiBzb3J0IGJ5IHRoZSBudW1lcmljIHRpbWVzdGFtcCAoc2Vjb25kcykNCiAgICAgICAgc29ydGVyOiBmdW5jdGlvbihhLCBiLCBhUm93LCBiUm93KSB7DQogICAgICAgICAgY29uc3QgcmEgPSBhUm93LmdldERhdGE/LigpIHx8IHt9Ow0KICAgICAgICAgIGNvbnN0IHJiID0gYlJvdy5nZXREYXRhPy4oKSB8fCB7fTsNCiAgICAgICAgICBjb25zdCB0YSA9IE51bWJlcihyYS5NYXR1cml0eV9UaW1lc3RhbXApIHx8IDA7DQogICAgICAgICAgY29uc3QgdGIgPSBOdW1iZXIocmIuTWF0dXJpdHlfVGltZXN0YW1wKSB8fCAwOw0KDQogICAgICAgICAgLy8gSWYgYm90aCB0aW1lc3RhbXBzIGV4aXN0LCBzb3J0IGJ5IHRoZW0NCiAgICAgICAgICBpZiAodGEgJiYgdGIpIHJldHVybiB0YSAtIHRiOw0KDQogICAgICAgICAgLy8gRmFsbGJhY2s6IHRyeSB0byBwYXJzZSB0aGUgZGlzcGxheWVkIHRleHQgKGtlZXBzIHdvcmtpbmcgZXZlbiBpZiB0aW1lc3RhbXAgaXMgbWlzc2luZykNCiAgICAgICAgICBjb25zdCBwYSA9IERhdGUucGFyc2UoU3RyaW5nKGEpLnJlcGxhY2UoLyxccyovLCAnICcpKSB8fCAwOw0KICAgICAgICAgIGNvbnN0IHBiID0gRGF0ZS5wYXJzZShTdHJpbmcoYikucmVwbGFjZSgvLFxzKi8sICcgJykpIHx8IDA7DQogICAgICAgICAgcmV0dXJuIHBhIC0gcGI7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8gc2FtZSBmaWx0ZXIgbG9naWMgeW91IGFscmVhZHkgaGF2ZS4uLg0KICAgICAgICBoZWFkZXJGaWx0ZXJGdW5jOiBmdW5jdGlvbiAoaGVhZGVyVmFsdWUsIHJvd1ZhbHVlKSB7DQogICAgICAgICAgY29uc3QgcVJhdyA9IFN0cmluZyhoZWFkZXJWYWx1ZSB8fCAiIikudHJpbSgpOw0KICAgICAgICAgIGlmICghcVJhdykgcmV0dXJuIHRydWU7DQogICAgICAgICAgY29uc3QgcnYgPSBTdHJpbmcocm93VmFsdWUgfHwgIiIpOw0KICAgICAgICAgIGNvbnN0IHEgPSBxUmF3LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXHMrL2csICIgIik7DQogICAgICAgICAgY29uc3QgcnZOb3JtID0gcnYudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICBjb25zdCBtID0gcS5tYXRjaCgvXihcZHs0fSlccysoW2Etel17M30pKD86XHMrKFxkezEsMn0pKT8kL2kpOw0KICAgICAgICAgIGlmIChtKSB7DQogICAgICAgICAgICBjb25zdCB5ZWFyID0gbVsxXTsNCiAgICAgICAgICAgIGNvbnN0IG1vbiAgPSBtWzJdLnNsaWNlKDAsMyk7DQogICAgICAgICAgICBpZiAobVszXSkgew0KICAgICAgICAgICAgICBjb25zdCBkYXkgPSBTdHJpbmcocGFyc2VJbnQobVszXSwgMTApKTsNCiAgICAgICAgICAgICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGBeJHt5ZWFyfVxccyske21vbn1cXHMrMD8ke2RheX1cXGJgLCAiaSIpOyAvLyDihpAgaGFuZGxlcyAyIGFuZCAwMg0KICAgICAgICAgICAgICByZXR1cm4gcmUudGVzdChydik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBwcmVmaXggPSBgJHt5ZWFyfSAke21vbn1gOw0KICAgICAgICAgICAgcmV0dXJuIHJ2Tm9ybS5zdGFydHNXaXRoKHByZWZpeC50b0xvd2VyQ2FzZSgpKTsNCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIHJ2Tm9ybS5pbmNsdWRlcyhxKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g4pyFIFRhYnVsYXRvciB0b29sdGlwIChjb25zb2xlLWRlYnVnZ2VkKQ0KICAgICAgICB0b29sdGlwOiBmdW5jdGlvbihjZWxsKXsNCiAgICAgICAgICBpZiAoIWNlbGwgfHwgdHlwZW9mIGNlbGwuZ2V0Um93ICE9PSAiZnVuY3Rpb24iKSB7DQogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJbTWF0dXJpdHlUb29sdGlwXSB0b29sdGlwKCkgbm8gY2VsbCAvIG5vIGdldFJvdyIpOw0KICAgICAgICAgICAgcmV0dXJuICIiOw0KICAgICAgICAgIH0NCiAgICAgICAgICBjb25zdCByb3cgPSBjZWxsLmdldFJvdygpLmdldERhdGE/LigpOw0KICAgICAgICAgIGlmICghcm93KSB7DQogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJbTWF0dXJpdHlUb29sdGlwXSB0b29sdGlwKCkgbm8gcm93IGRhdGEiKTsNCiAgICAgICAgICAgIHJldHVybiAiIjsNCiAgICAgICAgICB9DQogICAgICAgICAgY29uc3QgdGlwID0gY29tcHV0ZU1hdHVyaXR5VG9vbHRpcChyb3cpIHx8ICIiOw0KICAgICAgICAgIGNvbnNvbGUuZGVidWcoIltNYXR1cml0eVRvb2x0aXBdIHRvb2x0aXAoKSDihpIiLCB0aXApOw0KICAgICAgICAgIHJldHVybiB0aXA7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8g4pyFIE5hdGl2ZSBicm93c2VyIHRpdGxlIGFzIGEgZmFsbGJhY2sgc28geW91IHN0aWxsIGdldCBhIHRvb2x0aXAgZXZlbiBpZiBUYWJ1bGF0b3IgdG9vbHRpcHMgYXJlIG9mZg0KICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGNlbGwpew0KICAgICAgICAgIGNvbnN0IHJvdyA9IGNlbGwuZ2V0Um93KCkuZ2V0RGF0YSgpOw0KICAgICAgICAgIGNvbnN0IHRleHQgPSBjZWxsLmdldFZhbHVlKCkgfHwgIiI7DQogICAgICAgICAgY29uc3QgdGlwID0gY29tcHV0ZU1hdHVyaXR5VG9vbHRpcChyb3cpIHx8ICIiOw0KDQogICAgICAgICAgLy8gQ3JlYXRlIGEgc3BhbiBlbGVtZW50IGZvciB0aGUgY2VsbCdzIGNvbnRlbnQNCiAgICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOw0KICAgICAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSB0ZXh0Ow0KDQogICAgICAgICAgLy8gVGhpcyBrZWVwcyB0aGUgb3JpZ2luYWwgaG92ZXIgdG9vbHRpcCBmb3IgZGVza3RvcCB1c2Vycw0KICAgICAgICAgIGNvbnRlbnQudGl0bGUgPSB0aXA7DQoNCiAgICAgICAgICAvLyBUaGlzIGFkZHMgdGhlIG5ldyB0YXAtYW5kLWhvbGQgZnVuY3Rpb25hbGl0eSBmb3IgbW9iaWxlIHVzZXJzDQogICAgICAgICAgYWRkTG9uZ1ByZXNzVG9vbHRpcChjb250ZW50LCB0aXApOw0KDQogICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7IC8vIFJldHVybiB0aGUgbmV3IGVsZW1lbnQgdG8gVGFidWxhdG9yDQogICAgICAgIH0sDQogICAgICB9LA0KDQogICAgICB7DQogICAgICAgIHRpdGxlOiAiRXN0LiBYRU4iLA0KICAgICAgICBmaWVsZDogIkVzdF9YRU4iLA0KICAgICAgICB3aWR0aDogMTQwLA0KICAgICAgICBob3pBbGlnbjogInJpZ2h0IiwNCg0KICAgICAgICBoZWFkZXJGaWx0ZXI6ICJpbnB1dCIsDQogICAgICAgIGhlYWRlckZpbHRlclBsYWNlaG9sZGVyOiAiZS5nLiA+PTFCLCAxQi0yQiIsDQoNCiAgICAgICAgaGVhZGVyRmlsdGVyRnVuYzogZnVuY3Rpb24oaGVhZGVyVmFsdWUsIHJvd1ZhbHVlLCByb3dEYXRhKXsNCiAgICAgICAgICBjb25zdCBxdWVyeSA9IFN0cmluZyhoZWFkZXJWYWx1ZSB8fCAiIikudHJpbSgpOw0KICAgICAgICAgIGlmICghcXVlcnkpIHJldHVybiB0cnVlOw0KICAgICAgICAgIGNvbnN0IGVzdCA9IGVzdGltYXRlWEVORm9yUm93KHJvd0RhdGEpOw0KICAgICAgICAgIHJldHVybiBtYXRjaGVzTnVtYmVyUXVlcnkoZXN0LCBxdWVyeSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgc29ydGVyOiBmdW5jdGlvbihhLCBiLCBhUm93LCBiUm93KSB7DQogICAgICAgICAgcmV0dXJuIGVzdGltYXRlWEVORm9yUm93KGFSb3cuZ2V0RGF0YSgpKSAtIGVzdGltYXRlWEVORm9yUm93KGJSb3cuZ2V0RGF0YSgpKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyBOYXRpdmUgdGl0bGUgKGZhbGxiYWNrKSB3aXRoICQgdmFsdWVzDQogICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oY2VsbCkgew0KICAgICAgICAgIGNvbnN0IHJvdyA9IGNlbGwuZ2V0Um93KCkuZ2V0RGF0YSgpOw0KICAgICAgICAgIGNvbnN0IGVzdCA9IGVzdGltYXRlWEVORm9yUm93KHJvdyk7DQogICAgICAgICAgY29uc3QgdGlwID0gYnVpbGRFc3RYZW5Ub29sdGlwKHJvdywgZXN0KTsNCg0KICAgICAgICAgIC8vIENyZWF0ZSBhIGNvbnRhaW5lciBmb3IgdGhlIGNlbGwgY29udGVudA0KICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7DQogICAgICAgICAgY29udGVudC50ZXh0Q29udGVudCA9IGVzdC50b0xvY2FsZVN0cmluZygpOw0KICAgICAgICAgIGNvbnRlbnQudGl0bGUgPSB0aXA7IC8vIEtlZXAgdGhlIGRlc2t0b3AgdG9vbHRpcA0KDQogICAgICAgICAgLy8gQXR0YWNoIHRoZSBsb25nLXByZXNzIGxpc3RlbmVyIGZvciBtb2JpbGUNCiAgICAgICAgICBhZGRMb25nUHJlc3NUb29sdGlwKGNvbnRlbnQsIHRpcCk7DQoNCiAgICAgICAgICByZXR1cm4gY29udGVudDsNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyBQcmV0dHkgVGFidWxhdG9yIGhvdmVyIHRvb2x0aXAgd2l0aCAkIHZhbHVlcw0KICAgICAgICB0b29sdGlwOiBmdW5jdGlvbihjZWxsKXsNCiAgICAgICAgICBjb25zdCByb3cgPSBjZWxsPy5nZXRSb3c/LigpLmdldERhdGE/LigpIHx8IHt9Ow0KICAgICAgICBpZiAocm93Py5Tb3VyY2VUeXBlID09PSAiU3Rha2UiIHx8IHJvdz8uU291cmNlVHlwZSA9PT0gIlN0YWtlIFhFTkZUIikgew0KICAgICAgICAgIGNvbnN0IGIgPSBzdGFrZUVzdEJyZWFrZG93bihyb3cpOw0KICAgICAgICAgIGlmICghYikgcmV0dXJuIHJvdy5Tb3VyY2VUeXBlOw0KICAgICAgICAgIGNvbnN0IHRvVG9rID0gKHgpID0+IE51bWJlcih4IC8gYi5PTkVfRVRIRVIpOw0KICAgICAgICAgIGNvbnN0IGZtdFRvayA9IChuKSA9PiBuLnRvTG9jYWxlU3RyaW5nKCk7DQogICAgICAgICAgY29uc3QgZm10VXNkID0gKG4pID0+ICh0eXBlb2YgeGVuVXNkUHJpY2UgPT09ICdudW1iZXInICYmIHhlblVzZFByaWNlID4gMCkNCiAgICAgICAgICAgID8gYCAoJHtmb3JtYXRVU0QobiAqIHhlblVzZFByaWNlKX0pYCA6ICcnOw0KDQogICAgICAgICAgICBjb25zdCBwcmluY2lwYWxUb2sgPSB0b1RvayhiLmFtb3VudCk7DQogICAgICAgICAgICBjb25zdCByZXdhcmRUb2sgICAgPSB0b1RvayhiLnJld2FyZCk7DQogICAgICAgICAgICBjb25zdCB0b3RhbFRvayAgICAgPSB0b1RvayhiLnRvdGFsKTsNCg0KICAgICAgICAgICAgcmV0dXJuIGAke3Jvdy5Tb3VyY2VUeXBlfQ0KUHJpbmNpcGFsOiAke2ZtdFRvayhwcmluY2lwYWxUb2spfSR7Zm10VXNkKHByaW5jaXBhbFRvayl9DQpBUFk6ICR7Yi5hcHl9JSwgVGVybTogJHtiLnRlcm1EYXlzfWQNClJld2FyZDogJHtmbXRUb2socmV3YXJkVG9rKX0ke2ZtdFVzZChyZXdhcmRUb2spfQ0KVG90YWw6ICR7Zm10VG9rKHRvdGFsVG9rKX0ke2ZtdFVzZCh0b3RhbFRvayl9YDsNCiAgICAgICAgICB9fSwNCiAgICAgIH0sDQoNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6ICJPd25lciIsIGZpZWxkOiAiT3duZXIiLCBoZWFkZXJGaWx0ZXI6ICJpbnB1dCIsIGZvcm1hdHRlcjogY2VsbCA9PiB7DQogICAgICAgICAgbGV0IHZhbCA9IGNlbGwuZ2V0VmFsdWUoKTsNCiAgICAgICAgICByZXR1cm4gKHZhbCAmJiB2YWwubGVuZ3RoID4gMTIpID8gYDxhIGhyZWY9Imh0dHBzOi8vZXRoZXJzY2FuLmlvL2FkZHJlc3MvJHt2YWx9IiB0YXJnZXQ9Il9ibGFuayIiPiR7dmFsLnN1YnN0cmluZygwLCA0KX0uLi4ke3ZhbC5zdWJzdHJpbmcodmFsLmxlbmd0aCAtIDQpfTwvYT5gIDogdmFsOw0KICAgICAgICB9DQogICAgICB9DQogICAgXSwNCiAgICBoZWFkZXJGaWx0ZXJMaXZlRmlsdGVyOiB0cnVlLA0KICB9KTsNCg0KICB3aW5kb3cuY29pbnRvb2xUYWJsZSA9IGNvaW50b29sVGFibGU7DQogIC8vIEFsc28gd2lyZSBzZWxlY3Rpb24gZXZlbnRzIHNvIHRoZSBidWxrIGJhciB1cGRhdGVzIGltbWVkaWF0ZWx5DQogIGNvaW50b29sVGFibGUub24oInJvd1NlbGVjdGVkIiwgKHJvdykgPT4gew0KICAgIHRyeSB7IHNlbGVjdGVkUm93cy5hZGQocm93LmdldEluZGV4KCkpOyB9IGNhdGNoIHt9DQogICAgcmVmcmVzaEJ1bGtVSSgpOw0KICB9KTsNCiAgY29pbnRvb2xUYWJsZS5vbigicm93RGVzZWxlY3RlZCIsIChyb3cpID0+IHsNCiAgICB0cnkgeyBzZWxlY3RlZFJvd3MuZGVsZXRlKHJvdy5nZXRJbmRleCgpKTsgfSBjYXRjaCB7fQ0KICAgIHJlZnJlc2hCdWxrVUkoKTsNCiAgfSk7DQogIGNvaW50b29sVGFibGUub24oInJvd1NlbGVjdGlvbkNoYW5nZWQiLCAoX2RhdGEsIHJvd3MpID0+IHsNCiAgICB0cnkgew0KICAgICAgc2VsZWN0ZWRSb3dzLmNsZWFyKCk7DQogICAgICByb3dzLmZvckVhY2gociA9PiBzZWxlY3RlZFJvd3MuYWRkKHIuZ2V0SW5kZXgoKSkpOw0KICAgIH0gY2F0Y2gge30NCiAgICByZWZyZXNoQnVsa1VJKCk7DQogIH0pOw0KICBjb2ludG9vbFRhYmxlLm9uKCJyZW5kZXJDb21wbGV0ZSIsIHJlZnJlc2hCdWxrVUkpOw0KICBjb2ludG9vbFRhYmxlLm9uKCJkYXRhUHJvY2Vzc2VkIiwgcmVmcmVzaEJ1bGtVSSk7DQogIC8vIEV4aXN0aW5nIGhhbmRsZXINCiAgY29pbnRvb2xUYWJsZS5vbigiZGF0YVByb2Nlc3NlZCIsIGZ1bmN0aW9uKCl7DQogICAgdXBkYXRlU3VtbWFyeVN0YXRzKCk7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkQnRuIikuc3R5bGUuZGlzcGxheSA9IChjb2ludG9vbFRhYmxlLmdldERhdGFDb3VudCgiYWN0aXZlIikgPiAwKSA/ICJpbmxpbmUtYmxvY2siIDogIm5vbmUiOw0KICB9KTsNCg0KICBjb2ludG9vbFRhYmxlLm9uKCJ0YWJsZUJ1aWx0IiwgICAgIHVwZGF0ZVhFTlRvdGFsQmFkZ2UpOw0KICBjb2ludG9vbFRhYmxlLm9uKCJkYXRhTG9hZGVkIiwgICAgIHVwZGF0ZVhFTlRvdGFsQmFkZ2UpOw0KICBjb2ludG9vbFRhYmxlLm9uKCJkYXRhUHJvY2Vzc2VkIiwgIHVwZGF0ZVhFTlRvdGFsQmFkZ2UpOw0KICBjb2ludG9vbFRhYmxlLm9uKCJkYXRhRmlsdGVyZWQiLCAgIHVwZGF0ZVhFTlRvdGFsQmFkZ2UpOw0KICBjb2ludG9vbFRhYmxlLm9uKCJkYXRhU29ydGVkIiwgICAgIHVwZGF0ZVhFTlRvdGFsQmFkZ2UpOw0KICBjb2ludG9vbFRhYmxlLm9uKCJyZW5kZXJDb21wbGV0ZSIsIHVwZGF0ZVhFTlRvdGFsQmFkZ2UpOw0KICBjb2ludG9vbFRhYmxlLm9uKCJwYWdlTG9hZGVkIiwgICAgIHVwZGF0ZVhFTlRvdGFsQmFkZ2UpOw0KDQogIC8vIFZNVSBDaGFydCB3aXJpbmcNCiAgY29pbnRvb2xUYWJsZS5vbigidGFibGVCdWlsdCIsICAgICBpbml0Vm11Q2hhcnRTZWN0aW9uKTsNCiAgY29uc3QgX2NoYXJ0VXBkYXRlciA9ICgpID0+IHsgdHJ5IHsgdXBkYXRlVm11Q2hhcnQoKTsgfSBjYXRjaCAoZSkgeyAvKiBub29wICovIH0gfTsNCiAgY29pbnRvb2xUYWJsZS5vbigiZGF0YUxvYWRlZCIsICAgICBfY2hhcnRVcGRhdGVyKTsNCiAgY29pbnRvb2xUYWJsZS5vbigiZGF0YVByb2Nlc3NlZCIsICBfY2hhcnRVcGRhdGVyKTsNCiAgY29pbnRvb2xUYWJsZS5vbigiZGF0YUZpbHRlcmVkIiwgICBfY2hhcnRVcGRhdGVyKTsNCiAgLy8gQmUgZXh0cmEgZXhwbGljaXQ6IHVwZGF0ZSBvbiBoZWFkZXIgZmlsdGVyIGNoYW5nZXMgdG9vIChpZiBzdXBwb3J0ZWQpDQogIHRyeSB7IGNvaW50b29sVGFibGUub24oImhlYWRlckZpbHRlckNoYW5nZWQiLCBfY2hhcnRVcGRhdGVyKTsgfSBjYXRjaCB7fQ0KICB0cnkgeyBjb2ludG9vbFRhYmxlLm9uKCJmaWx0ZXJDaGFuZ2VkIiwgX2NoYXJ0VXBkYXRlcik7IH0gY2F0Y2gge30NCiAgY29pbnRvb2xUYWJsZS5vbigiZGF0YVNvcnRlZCIsICAgICBfY2hhcnRVcGRhdGVyKTsNCiAgY29pbnRvb2xUYWJsZS5vbigicmVuZGVyQ29tcGxldGUiLCBfY2hhcnRVcGRhdGVyKTsNCiAgY29pbnRvb2xUYWJsZS5vbigicGFnZUxvYWRlZCIsICAgICBfY2hhcnRVcGRhdGVyKTsNCg0KDQogIHN0YXJ0U3RhdHVzVGlja2VyKCk7DQoNCiAgLy8gRW5zdXJlIFN0YXR1cyBoZWFkZXIgZmlsdGVyIHNob3dzICdBbGwnIGJ5IGRlZmF1bHQNCiAgdHJ5IHsNCiAgICBjb2ludG9vbFRhYmxlLm9uKCJ0YWJsZUJ1aWx0IiwgKCkgPT4gew0KICAgICAgdHJ5IHsgY29pbnRvb2xUYWJsZS5zZXRIZWFkZXJGaWx0ZXJWYWx1ZSgnU3RhdHVzJywgJycpOyB9IGNhdGNoIChfKSB7fQ0KICAgIH0pOw0KICB9IGNhdGNoIChfKSB7fQ0KfQ0KDQpmdW5jdGlvbiBmb3JtYXREdXJhdGlvblBhcnRzKG9iaikgew0KICBjb25zdCB5ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihvYmoueWVhcnMgICB8fCAwKSk7DQogIGNvbnN0IGQgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKG9iai5kYXlzICAgIHx8IDApKTsNCiAgY29uc3QgaCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3Iob2JqLmhvdXJzICAgfHwgMCkpOw0KICBjb25zdCBtID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihvYmoubWludXRlcyB8fCAwKSk7DQogIGNvbnN0IHBhcnRzID0gW107DQogIGlmICh5KSBwYXJ0cy5wdXNoKGAke3l9eWApOw0KICBpZiAoZCkgcGFydHMucHVzaChgJHtkfWRgKTsNCiAgaWYgKGggfHwgKCF5ICYmICFkKSkgcGFydHMucHVzaChgJHtofWhgKTsNCiAgaWYgKG0gfHwgKCF5ICYmICFkKSkgcGFydHMucHVzaChgJHttfW1gKTsNCiAgcmV0dXJuIHBhcnRzLmpvaW4oIiAiKTsNCn0NCg0KZnVuY3Rpb24gY29tcHV0ZU1hdHVyaXR5VG9vbHRpcChyb3dEYXRhKSB7DQogIGNvbnN0IG5vdyA9IGx1eG9uLkRhdGVUaW1lLm5vdygpOw0KICBjb25zdCBsaXZlU3RhdHVzID0gY29tcHV0ZUxpdmVTdGF0dXMocm93RGF0YSk7IC8vIHVzZSBsaXZlIHN0YXR1cw0KICBjb25zdCBtYXR1cml0eVNlYyAgID0gTnVtYmVyKHJvd0RhdGEuTWF0dXJpdHlfVGltZXN0YW1wIHx8IDApOw0KICBjb25zdCBsYXN0QWN0aW9uU2VjID0gTnVtYmVyKHJvd0RhdGEuTGF0ZXN0X0FjdGlvbl9UaW1lc3RhbXAgfHwgMCk7DQoNCiAgLy8gREVCVUcNCiAgY29uc29sZS5kZWJ1ZygiW01hdHVyaXR5VG9vbHRpcF0gcm93LklEPSIsIHJvd0RhdGEuSUQsDQogICAgImxpdmVTdGF0dXM9IiwgbGl2ZVN0YXR1cywNCiAgICAibWF0dXJpdHlTZWM9IiwgbWF0dXJpdHlTZWMsDQogICAgImxhc3RBY3Rpb25TZWM9IiwgbGFzdEFjdGlvblNlYyk7DQoNCiAgaWYgKGxpdmVTdGF0dXMgPT09ICJNYXR1cmluZyIpIHsNCiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShtYXR1cml0eVNlYykgfHwgbWF0dXJpdHlTZWMgPD0gMCkgew0KICAgICAgY29uc29sZS5kZWJ1ZygiW01hdHVyaXR5VG9vbHRpcF0gbm8gbWF0dXJpdHlTZWMg4oaSIGVtcHR5Iik7DQogICAgICByZXR1cm4gIiI7DQogICAgfQ0KICAgIGNvbnN0IG1hdHVyaXR5ID0gbHV4b24uRGF0ZVRpbWUuZnJvbVNlY29uZHMobWF0dXJpdHlTZWMpOw0KICAgIGNvbnN0IGRpZmYgPSBtYXR1cml0eS5kaWZmKG5vdywgWyJ5ZWFycyIsImRheXMiLCJob3VycyIsIm1pbnV0ZXMiXSk7DQogICAgY29uc29sZS5kZWJ1ZygiW01hdHVyaXR5VG9vbHRpcF0gZGlmZihtcyk9IiwgZGlmZi50b01pbGxpcygpLCAicGFydHM9IiwgZGlmZi50b09iamVjdCgpKTsNCiAgICBpZiAoZGlmZi50b01pbGxpcygpIDw9IDApIHJldHVybiAiUmVhZHkgdG8gY2xhaW0iOw0KICAgIHJldHVybiAiVGltZSByZW1haW5pbmc6ICIgKyBmb3JtYXREdXJhdGlvblBhcnRzKGRpZmYudG9PYmplY3QoKSk7DQogIH0NCg0KICBpZiAobGl2ZVN0YXR1cyA9PT0gIkNsYWltZWQiKSB7DQogICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobGFzdEFjdGlvblNlYykgfHwgbGFzdEFjdGlvblNlYyA8PSAwKSB7DQogICAgICBjb25zb2xlLmRlYnVnKCJbTWF0dXJpdHlUb29sdGlwXSBubyBsYXN0QWN0aW9uU2VjIOKGkiBlbXB0eSIpOw0KICAgICAgcmV0dXJuICIiOw0KICAgIH0NCiAgICBjb25zdCBsYXN0ID0gbHV4b24uRGF0ZVRpbWUuZnJvbVNlY29uZHMobGFzdEFjdGlvblNlYyk7DQogICAgY29uc3QgZGlmZiA9IG5vdy5kaWZmKGxhc3QsIFsieWVhcnMiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIl0pOw0KICAgIGNvbnNvbGUuZGVidWcoIltNYXR1cml0eVRvb2x0aXBdIHNpbmNlIGxhc3QgY2xhaW0gZGlmZj0iLCBkaWZmLnRvT2JqZWN0KCkpOw0KICAgIHJldHVybiAiU2luY2UgbGFzdCBjbGFpbS9yZW1pbnQ6ICIgKyBmb3JtYXREdXJhdGlvblBhcnRzKGRpZmYudG9PYmplY3QoKSk7DQogIH0NCg0KICBjb25zb2xlLmRlYnVnKCJbTWF0dXJpdHlUb29sdGlwXSBzdGF0dXMgbm90IGVsaWdpYmxlIOKGkiBlbXB0eSIpOw0KICByZXR1cm4gIiI7DQp9DQoNCg0KLy8gRHJvcGRvd24gbW9kYWwgdG8gY2hvb3NlICdjbGFpbScgb3IgJ3JlbWludCcNCmZ1bmN0aW9uIGNob29zZUFjdGlvbkRpYWxvZyhkZWZhdWx0Q2hvaWNlID0gJ2NsYWltJywgcm93RGF0YSA9IG51bGwpew0KICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpb25Nb2RhbCcpOw0KICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpb25TZWxlY3QnKTsNCiAgICBjb25zdCBvayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpb25Db25maXJtQnRuJyk7DQogICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGlvbkNhbmNlbEJ0bicpOw0KDQogICAgLy8gSWYgdGhpcyBpcyBhbiBYRU5GVCByb3csIGRpc2FibGUvaGlkZSByZW1pbnQgYW5kIGZvcmNlIGNsYWltDQogICAgLy8gYXBwLmpzIOKAlCBjaG9vc2VBY3Rpb25EaWFsb2cgKHNuaXBwZXQpDQogICAgY29uc3QgcmVtaW50T3B0ID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJ29wdGlvblt2YWx1ZT0icmVtaW50Il0nKTsNCiAgICBjb25zdCBzdCA9IHJvd0RhdGEgJiYgU3RyaW5nKHJvd0RhdGEuU291cmNlVHlwZSk7DQogICAgaWYgKHN0ID09PSAnWEVORlQnIHx8IHN0ID09PSAnU3Rha2UgWEVORlQnKSB7DQogICAgICBpZiAocmVtaW50T3B0KSByZW1pbnRPcHQuZGlzYWJsZWQgPSB0cnVlOw0KICAgICAgc2VsZWN0LnZhbHVlID0gJ2NsYWltJzsNCiAgICB9IGVsc2Ugew0KICAgICAgaWYgKHJlbWludE9wdCkgcmVtaW50T3B0LmRpc2FibGVkID0gZmFsc2U7DQogICAgICBzZWxlY3QudmFsdWUgPSBkZWZhdWx0Q2hvaWNlIHx8ICdjbGFpbSc7DQogICAgfQ0KICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOw0KICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTsNCg0KICAgIGZ1bmN0aW9uIGNsZWFudXAodmFsKXsNCiAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOw0KICAgICAgbW9kYWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7DQogICAgICBvay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uT2spOw0KICAgICAgY2FuY2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DYW5jZWwpOw0KICAgICAgcmVzb2x2ZSh2YWwpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvbk9rKCl7IGNsZWFudXAoc2VsZWN0LnZhbHVlKTsgfQ0KICAgIGZ1bmN0aW9uIG9uQ2FuY2VsKCl7IGNsZWFudXAobnVsbCk7IH0NCg0KICAgIG9rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Payk7DQogICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DYW5jZWwpOw0KICB9KTsNCn0NCg0KDQovLyAtLS0gbGl2ZSBzdGF0dXMgcmVjb21wdXRlIChubyByZXNjYW4gcmVxdWlyZWQpIC0tLQ0KLy8gLS0tIGxpdmUgc3RhdHVzIHJlY29tcHV0ZSAobm8gcmVzY2FuIHJlcXVpcmVkKSAtLS0NCmZ1bmN0aW9uIGNvbXB1dGVMaXZlU3RhdHVzKHJvdykgew0KICBjb25zdCBkYXRhID0gcm93LmdldERhdGEgPyByb3cuZ2V0RGF0YSgpIDogcm93Ow0KDQogIC8vIOKchSBQcmlvcml0eSAxOiBTdGFrZXMgaGF2ZSBhbiBhdXRob3JpdGF0aXZlLCBwcmUtY29tcHV0ZWQgc3RhdHVzLiBVc2UgaXQgZGlyZWN0bHkuDQogIGlmIChkYXRhLlNvdXJjZVR5cGUgPT09ICdTdGFrZScgfHwgZGF0YS5Tb3VyY2VUeXBlID09PSAnU3Rha2UgWEVORlQnKSB7DQogICAgcmV0dXJuIGRhdGEuU3RhdHVzIHx8ICdVbmtub3duJzsgLy8gUmV0dXJuIHRoZSBzdGF0dXMgc3RvcmVkIGluIHRoZSByb3cNCiAgfQ0KDQogIGNvbnN0IG5vd1NlYyA9IERhdGUubm93KCkgLyAxMDAwOw0KICBjb25zdCBtYXR1cmVkID0gTnVtYmVyKGRhdGEuTWF0dXJpdHlfVGltZXN0YW1wIHx8IDApIDw9IG5vd1NlYzsNCg0KICAvLyBUcmVhdCBYRU5GVHMgZGlmZmVyZW50bHk6IHdlIGNhbiBoYXZlIGFuIGV4cGxpY2l0ICdyZWRlZW1lZCcgZmxhZyBvciBwcmVjb21wdXRlZCBTdGF0dXMNCiAgaWYgKGRhdGEuU291cmNlVHlwZSA9PT0gJ1hFTkZUJykgew0KICAgIGNvbnN0IHJlZCA9IE51bWJlcihkYXRhLnJlZGVlbWVkIHx8IDApOw0KICAgIGlmIChyZWQgPT09IDEgfHwgU3RyaW5nKGRhdGEuU3RhdHVzKS50b0xvd2VyQ2FzZSgpID09PSAnY2xhaW1lZCcpIHJldHVybiAnQ2xhaW1lZCc7DQogICAgcmV0dXJuIG1hdHVyZWQgPyAnQ2xhaW1hYmxlJyA6ICdNYXR1cmluZyc7DQogIH0NCg0KICAvLyBGYWxsYmFjayBmb3IgQ29pbnRvb2wgbWludHMNCiAgY29uc3QgYWN0cyA9IEFycmF5LmlzQXJyYXkoZGF0YS5BY3Rpb25zKSA/IGRhdGEuQWN0aW9ucyA6IFtdOw0KICBjb25zdCBoYXNBY3RzID0gYWN0cy5sZW5ndGggPiAwOw0KDQogIGlmIChtYXR1cmVkICYmICFoYXNBY3RzKSByZXR1cm4gJ0NsYWltYWJsZSc7DQogIGlmICghbWF0dXJlZCkgcmV0dXJuICdNYXR1cmluZyc7DQogIHJldHVybiAnQ2xhaW1lZCc7DQp9DQoNCmxldCBzdGF0dXNUaWNrZXJJZCA9IG51bGw7DQoNCmFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1TdGF0dXNUaWNrKCkgew0KICBpZiAoIXdpbmRvdy5jb2ludG9vbFRhYmxlKSByZXR1cm47DQoNCiAgY29uc3Qgbm93U2VjID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7DQogIGNvbnN0IGRhdGEgICA9IGNvaW50b29sVGFibGUuZ2V0RGF0YSgpOw0KICBjb25zdCB1cGRhdGVzID0gW107DQoNCiAgZm9yIChjb25zdCByIG9mIGRhdGEpIHsNCiAgICAvLyDinIUgQUREIFRISVMgQ0hFQ0s6IE9ubHkgcGVyZm9ybSBzdGF0dXMgdGlja3MgZm9yIENvaW50b29sIHJvd3MuDQogICAgaWYgKHIuU291cmNlVHlwZSAhPT0gIkNvaW50b29sIikgew0KICAgICAgY29udGludWU7IC8vIFNraXAgWEVORlQsIFN0YWtlIFhFTkZULCBhbmQgU3Rha2Ugcm93cy4NCiAgICB9DQoNCiAgICBjb25zdCBtYXR1cml0eSA9IE51bWJlcihyLk1hdHVyaXR5X1RpbWVzdGFtcCB8fCAwKTsNCiAgICBjb25zdCBoYXNBY3RzICA9IEFycmF5LmlzQXJyYXkoci5BY3Rpb25zKSAmJiByLkFjdGlvbnMubGVuZ3RoID4gMDsNCg0KICAgIC8vIElmIGxhc3QgYWN0aW9uIGxhY2tzIHRlcm0vcmFuayAoZmFpbGVkIHR4KSwgdHJ5IHRvIHJlY292ZXIgbWF0dXJpdHkNCiAgICBsZXQgcmVjb21wdXRlZFRzID0gMDsNCiAgICBsZXQgcmVjb21wdXRlZFN0YXJ0UmFuayA9IG51bGw7DQogICAgaWYgKGhhc0FjdHMpIHsNCiAgICAgIGNvbnN0IGFjdHMgPSByLkFjdGlvbnM7DQogICAgICBjb25zdCBsYXN0ID0gYWN0c1thY3RzLmxlbmd0aCAtIDFdOw0KICAgICAgY29uc3QgbGFzdE1pc3NpbmcgPSAhbGFzdCB8fCAobGFzdC50ZXJtID09IG51bGwgfHwgTnVtYmVyKGxhc3QudGVybSkgPT09IDApIHx8IChsYXN0LnJhbmsgPT0gbnVsbCB8fCBTdHJpbmcobGFzdC5yYW5rKSA9PT0gIiIpOw0KICAgICAgaWYgKGxhc3RNaXNzaW5nIHx8ICEoTnVtYmVyLmlzRmluaXRlKG1hdHVyaXR5KSAmJiBtYXR1cml0eSA+IDApKSB7DQogICAgICAgIC8vIEZpbmQgdGhlIG1vc3QgcmVjZW50IGdvb2QgYWN0aW9uIHdpdGggdGVybSBhbmQgcmFuaw0KICAgICAgICBmb3IgKGxldCBpID0gYWN0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgew0KICAgICAgICAgIGNvbnN0IGEgPSBhY3RzW2ldOw0KICAgICAgICAgIGNvbnN0IHREYXlzID0gTnVtYmVyKGEgJiYgYS50ZXJtKTsNCiAgICAgICAgICBjb25zdCBoYXNSYW5rID0gYSAmJiBhLnJhbmsgIT0gbnVsbCAmJiBTdHJpbmcoYS5yYW5rKSAhPT0gIiI7DQogICAgICAgICAgY29uc3QgdHMgPSBOdW1iZXIoYSAmJiBhLnRpbWVTdGFtcCk7DQogICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZSh0RGF5cykgJiYgdERheXMgPiAwICYmIGhhc1JhbmsgJiYgTnVtYmVyLmlzRmluaXRlKHRzKSAmJiB0cyA+IDApIHsNCiAgICAgICAgICAgIHJlY29tcHV0ZWRUcyA9IHRzICsgdERheXMgKiA4NjQwMDsNCiAgICAgICAgICAgIHRyeSB7IHJlY29tcHV0ZWRTdGFydFJhbmsgPSBCaWdJbnQoU3RyaW5nKGEucmFuaykpOyB9IGNhdGNoIHsgcmVjb21wdXRlZFN0YXJ0UmFuayA9IG51bGw7IH0NCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGNvbnN0IGVmZlRzID0gKE51bWJlci5pc0Zpbml0ZShtYXR1cml0eSkgJiYgbWF0dXJpdHkgPiAwKSA/IG1hdHVyaXR5IDogKHJlY29tcHV0ZWRUcyB8fCAwKTsNCg0KICAgIGxldCBkZXNpcmVkOw0KICAgIGlmIChlZmZUcyA+IG5vd1NlYykgew0KICAgICAgZGVzaXJlZCA9ICJNYXR1cmluZyI7DQogICAgfSBlbHNlIGlmIChlZmZUcyA+IDApIHsNCiAgICAgIGRlc2lyZWQgPSBoYXNBY3RzID8gIkNsYWltZWQiIDogIkNsYWltYWJsZSI7DQogICAgfSBlbHNlIHsNCiAgICAgIGRlc2lyZWQgPSBoYXNBY3RzID8gIkNsYWltZWQiIDogIk1hdHVyaW5nIjsNCiAgICB9DQoNCiAgICBjb25zdCBuZWVkUmFuZ2VVcGRhdGUgPSAocmVjb21wdXRlZFN0YXJ0UmFuayAhPT0gbnVsbCk7DQogICAgLy8gQnVpbGQgcGF0Y2ggd2hlbiBzdGF0dXMgY2hhbmdlcywgb3Igd2UgcmVjb21wdXRlZCBtYXR1cml0eSwgb3IgdGhlIHJhbmsgcmFuZ2UgbmVlZHMgdXBkYXRlDQogICAgaWYgKHIuU3RhdHVzICE9PSBkZXNpcmVkIHx8IChyZWNvbXB1dGVkVHMgJiYgcmVjb21wdXRlZFRzICE9PSBtYXR1cml0eSkgfHwgbmVlZFJhbmdlVXBkYXRlKSB7DQogICAgICBjb25zdCBwYXRjaCA9IHsgSUQ6IHIuSUQsIFN0YXR1czogZGVzaXJlZCB9Ow0KICAgICAgaWYgKHJlY29tcHV0ZWRUcyAmJiByZWNvbXB1dGVkVHMgIT09IG1hdHVyaXR5KSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgY29uc3QgZHQgPSAodHlwZW9mIGx1eG9uICE9PSAndW5kZWZpbmVkJyAmJiBsdXhvbi5EYXRlVGltZSkNCiAgICAgICAgICAgID8gbHV4b24uRGF0ZVRpbWUuZnJvbVNlY29uZHMocmVjb21wdXRlZFRzKQ0KICAgICAgICAgICAgOiBudWxsOw0KICAgICAgICAgIHBhdGNoLk1hdHVyaXR5X1RpbWVzdGFtcCA9IHJlY29tcHV0ZWRUczsNCiAgICAgICAgICBwYXRjaC5NYXR1cml0eV9EYXRlX0ZtdCAgPSBkdCA/IGR0LnRvRm9ybWF0KCd5eXl5IExMTCBkZCwgaGg6bW0gYScpIDogbmV3IERhdGUocmVjb21wdXRlZFRzICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoKTsNCiAgICAgICAgICBwYXRjaC5tYXR1cml0eURhdGVPbmx5ICAgPSBkdCA/IGR0LnRvRm9ybWF0KCd5eXl5LU1NLWRkJykgOiAoZnVuY3Rpb24oZCl7DQogICAgICAgICAgICBjb25zdCB5PWQuZ2V0RnVsbFllYXIoKTsgY29uc3QgbT1TdHJpbmcoZC5nZXRNb250aCgpKzEpLnBhZFN0YXJ0KDIsJzAnKTsgY29uc3QgZGQ9U3RyaW5nKGQuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCcwJyk7IHJldHVybiBgJHt5fS0ke219LSR7ZGR9YDsgfSkobmV3IERhdGUocmVjb21wdXRlZFRzKjEwMDApKTsNCiAgICAgICAgfSBjYXRjaChfKSB7fQ0KICAgICAgfQ0KICAgICAgLy8gSWYgd2UgZm91bmQgYSBiZXR0ZXIgc3RhcnQgcmFuaywgcmVjb21wdXRlIHJhbmdlIGFzIFtzdGFydCAuLiBzdGFydCtWTVVzLTFdDQogICAgICBpZiAocmVjb21wdXRlZFN0YXJ0UmFuayAhPT0gbnVsbCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IHZtdXMgPSBCaWdJbnQoU3RyaW5nKHIuVk1VcyB8fCAnMCcpKTsNCiAgICAgICAgICBpZiAodm11cyA+IDBuKSB7DQogICAgICAgICAgICBjb25zdCBlbmRSYW5rID0gcmVjb21wdXRlZFN0YXJ0UmFuayArIHZtdXMgLSAxbjsNCiAgICAgICAgICAgIHBhdGNoLlJhbmtfUmFuZ2UgPSBgJHtyZWNvbXB1dGVkU3RhcnRSYW5rLnRvU3RyaW5nKCl9LSR7ZW5kUmFuay50b1N0cmluZygpfWA7DQogICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIHsgLyogaWdub3JlICovIH0NCiAgICAgIH0NCiAgICAgIHVwZGF0ZXMucHVzaChwYXRjaCk7DQogICAgfQ0KICB9DQoNCiAgaWYgKCF1cGRhdGVzLmxlbmd0aCkgcmV0dXJuOw0KDQogIC8vIFVwZGF0ZSB0aGUgdGFibGUgdmlldw0KICBjb2ludG9vbFRhYmxlLnVwZGF0ZURhdGEodXBkYXRlcyk7DQoNCiAgLy8gUGVyc2lzdCB0byBJbmRleGVkREIgc28gZmlsdGVycyAmIGNhbGVuZGFyIHJlYWQgdGhlIHNhbWUgdHJ1dGgNCiAgaWYgKHdpbmRvdy5kYkluc3RhbmNlICYmIHR5cGVvZiBnZXRNaW50QnlVbmlxdWVJZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc2F2ZU1pbnQgPT09ICdmdW5jdGlvbicpIHsNCiAgICBhd2FpdCBQcm9taXNlLmFsbCh1cGRhdGVzLm1hcChhc3luYyAodSkgPT4gew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVjID0gYXdhaXQgZ2V0TWludEJ5VW5pcXVlSWQoZGJJbnN0YW5jZSwgdS5JRCk7DQogICAgICAgIGlmIChyZWMpIHsNCiAgICAgICAgICByZWMuU3RhdHVzID0gdS5TdGF0dXM7DQogICAgICAgICAgaWYgKCdSYW5rX1JhbmdlJyBpbiB1KSB7DQogICAgICAgICAgICByZWMuUmFua19SYW5nZSA9IHUuUmFua19SYW5nZTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKCdNYXR1cml0eV9UaW1lc3RhbXAnIGluIHUpIHsNCiAgICAgICAgICAgIHJlYy5NYXR1cml0eV9UaW1lc3RhbXAgPSB1Lk1hdHVyaXR5X1RpbWVzdGFtcDsNCiAgICAgICAgICAgIHJlYy5NYXR1cml0eV9EYXRlX0ZtdCAgPSB1Lk1hdHVyaXR5X0RhdGVfRm10Ow0KICAgICAgICAgICAgcmVjLm1hdHVyaXR5RGF0ZU9ubHkgICA9IHUubWF0dXJpdHlEYXRlT25seTsNCiAgICAgICAgICB9DQogICAgICAgICAgYXdhaXQgc2F2ZU1pbnQoZGJJbnN0YW5jZSwgcmVjKTsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICBjb25zb2xlLndhcm4oIkZhaWxlZCB0byBwZXJzaXN0IHN0YXR1cyBmb3IiLCB1LklELCBlKTsNCiAgICAgIH0NCiAgICB9KSk7DQogIH0NCg0KICAvLyBLZWVwIHRoZSByZXN0IG9mIHRoZSBVSSBjb25zaXN0ZW50DQogIGlmICh0eXBlb2YgcmVmcmVzaEJ1bGtVSSA9PT0gImZ1bmN0aW9uIikgcmVmcmVzaEJ1bGtVSSgpOw0KICBpZiAodHlwZW9mIHVwZGF0ZVN1bW1hcnlTdGF0cyA9PT0gImZ1bmN0aW9uIikgdXBkYXRlU3VtbWFyeVN0YXRzKCk7DQogIGlmICh0eXBlb2YgdXBkYXRlQ2FsZW5kYXIgPT09ICJmdW5jdGlvbiIpIHVwZGF0ZUNhbGVuZGFyKCk7DQp9DQoNCmZ1bmN0aW9uIHN0YXJ0U3RhdHVzVGlja2VyKCkgew0KICBpZiAoc3RhdHVzVGlja2VySWQpIHJldHVybjsNCiAgcGVyZm9ybVN0YXR1c1RpY2soKTsgICAgICAgICAgICAgICAgIC8vIHJ1biBvbmNlIGltbWVkaWF0ZWx5DQogIHN0YXR1c1RpY2tlcklkID0gc2V0SW50ZXJ2YWwocGVyZm9ybVN0YXR1c1RpY2ssIDMwXzAwMCk7DQp9DQoNCi8vIC0tLSBVU0VSIFBSRUZFUkVOQ0VTIC0tLQ0KZnVuY3Rpb24gc2F2ZVVzZXJQcmVmZXJlbmNlcyhhZGRyZXNzZXMsIGN1c3RvbVJQQywgYXBpS2V5KSB7DQogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJldGhBZGRyZXNzIiwgYWRkcmVzc2VzKTsNCiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1c3RvbVJQQyIsIGN1c3RvbVJQQyk7DQogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJldGhlcnNjYW5BcGlLZXkiLCBhcGlLZXkpOw0KfQ0KZnVuY3Rpb24gbG9hZFVzZXJQcmVmZXJlbmNlcygpIHsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aEFkZHJlc3MiKS52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJldGhBZGRyZXNzIikgfHwgIiI7DQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjdXN0b21SUEMiKS52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXN0b21SUEMiKSB8fCBERUZBVUxUX1JQQzsNCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aGVyc2NhbkFwaUtleSIpLnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImV0aGVyc2NhbkFwaUtleSIpIHx8ICIiOw0KfQ0KDQovLyAtLS0gU2hvdy9IaWRlIFRvZ2dsZXMgZm9yIHNlbnNpdGl2ZSBmaWVsZHMgLS0tDQpmdW5jdGlvbiBfX2V5ZUljb24oKSB7DQogIHJldHVybiAnPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTEyIDVjNiAwIDEwIDUuMzMgMTAgOHMtNCA4LTEwIDhTMiAxNS42NyAyIDEzIDYgNSAxMiA1em0wIDJDNyA3IDQgMTIgNCAxM3MzIDYgOCA2IDgtNSA4LTYtMy02LTgtNnptMCAzYTMgMyAwIDExMCA2IDMgMyAwIDAxMC02eiIvPjwvc3ZnPic7DQp9DQpmdW5jdGlvbiBfX2V5ZU9mZkljb24oKSB7DQogIHJldHVybiAnPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGZpbGw9ImN1cnJlbnRDb2xvciIgZD0iTTIuMSAzLjUxTDMuNTEgMi4xbDE4LjM5IDE4LjM5LTEuNDEgMS40MS0zLjA2LTMuMDZBMTEuMzMgMTEuMzMgMCAwMTEyIDIwYy02IDAtMTAtNS4zMy0xMC04IDAtMS4xMyAxLjAyLTMuMDggMy4wNi00Ljg5TDIuMSAzLjUxek03LjUgOC45MUE3LjYgNy42IDAgMDA0IDEyYzAgMS4yIDMgNiA4IDYgMS42MyAwIDMuMDktLjQyIDQuMzUtMS4xM2wtMS44LTEuOEE0IDQgMCAwMTggMTJjMC0uNDMuMDctLjg1LjItMS4yNGwtLjctLjd6TTEyIDZjNiAwIDEwIDUuMzMgMTAgOCAwIC44NC0uNDggMi0xLjQyIDMuMjJsLTEuNDMtMS40M2MuNTEtLjc3Ljg1LTEuNDguODUtMS43OSAwLTEuMi0zLTYtOC02LTEuMDMgMC0yIC4yLTIuODkuNTZsLTEuNS0xLjVDOS4xMSA2LjM5IDEwLjUxIDYgMTIgNnptMCA0YTIgMiAwIDAxMS43MyAzbC0yLjczLTIuNzNjLjI5LS4xNy42Mi0uMjcgMS0uMjd6Ii8+PC9zdmc+JzsNCn0NCg0KZnVuY3Rpb24gX191cGRhdGVXYWxsZXRFeWVTaXplKCl7DQogIHRyeXsNCiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdFdhbGxldEJ0bicpOw0KICAgIGNvbnN0IGV5ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVDb25uZWN0TWFzaycpOw0KICAgIGlmICghYnRuIHx8ICFleWUpIHJldHVybjsNCiAgICBjb25zdCBoID0gYnRuLm9mZnNldEhlaWdodCB8fCAzMjsNCiAgICBjb25zdCBzID0gTWF0aC5tYXgoMTAsIE1hdGgucm91bmQoaCAqIDAuNSkpOw0KICAgIGV5ZS5zdHlsZS5oZWlnaHQgPSBzICsgJ3B4JzsNCiAgICBleWUuc3R5bGUud2lkdGggID0gcyArICdweCc7DQogIH1jYXRjaHt9DQp9DQoNCmZ1bmN0aW9uIHNldEFwaUtleVZpc2liaWxpdHkodmlzaWJsZSkgew0KICBjb25zdCBpbnAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXRoZXJzY2FuQXBpS2V5Jyk7DQogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVBcGlLZXlWaXNpYmlsaXR5Jyk7DQogIGlmIChpbnApIHsNCiAgICAvLyBVc2UgdGhlIHNhbWUgYmx1ciBtYXNraW5nIGFzIHRleHRhcmVhOiB2aXNpYmxlPWZhbHNlID0+IGFkZCAubWFza2VkDQogICAgaW5wLmNsYXNzTGlzdC50b2dnbGUoJ21hc2tlZCcsICF2aXNpYmxlKTsNCiAgfQ0KICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXRoZXJzY2FuQXBpS2V5VmlzaWJsZScsIHZpc2libGUgPyAnMScgOiAnMCcpOyB9IGNhdGNoIHt9DQogIGlmIChidG4pIHsNCiAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCB2aXNpYmxlID8gJ3RydWUnIDogJ2ZhbHNlJyk7DQogICAgYnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHZpc2libGUgPyAnSGlkZSBBUEkga2V5JyA6ICdTaG93IEFQSSBrZXknKTsNCiAgICBidG4udGl0bGUgPSB2aXNpYmxlID8gJ0hpZGUnIDogJ1Nob3cnOw0KICAgIGJ0bi5pbm5lckhUTUwgPSB2aXNpYmxlID8gX19leWVPZmZJY29uKCkgOiBfX2V5ZUljb24oKTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBzZXRFdGhBZGRyZXNzTWFza2VkKG1hc2tlZCkgew0KICBjb25zdCB0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldGhBZGRyZXNzJyk7DQogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVFdGhBZGRyZXNzTWFzaycpOw0KICBpZiAodGEpIHsNCiAgICB0YS5jbGFzc0xpc3QudG9nZ2xlKCdtYXNrZWQnLCAhIW1hc2tlZCk7DQogIH0NCiAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V0aEFkZHJlc3NNYXNrZWQnLCBtYXNrZWQgPyAnMScgOiAnMCcpOyB9IGNhdGNoIHt9DQogIGlmIChidG4pIHsNCiAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCBtYXNrZWQgPyAndHJ1ZScgOiAnZmFsc2UnKTsNCiAgICBidG4uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgbWFza2VkID8gJ1Nob3cgYWRkcmVzc2VzJyA6ICdNYXNrIGFkZHJlc3NlcycpOw0KICAgIGJ0bi50aXRsZSA9IG1hc2tlZCA/ICdTaG93JyA6ICdNYXNrJzsNCiAgICBidG4uaW5uZXJIVE1MID0gbWFza2VkID8gX19leWVJY29uKCkgOiBfX2V5ZU9mZkljb24oKTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBzZXRDb25uZWN0V2FsbGV0TWFza2VkKG1hc2tlZCl7DQogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0V2FsbGV0VGV4dCcpOw0KICBjb25zdCBleWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlQ29ubmVjdE1hc2snKTsNCiAgaWYgKGJ0bikgew0KICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdtYXNrZWQnLCAhIW1hc2tlZCk7DQogIH0NCiAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Nvbm5lY3RXYWxsZXRNYXNrZWQnLCBtYXNrZWQgPyAnMScgOiAnMCcpOyB9IGNhdGNoIHt9DQogIGlmIChleWUpIHsNCiAgICBleWUuc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCBtYXNrZWQgPyAndHJ1ZScgOiAnZmFsc2UnKTsNCiAgICBleWUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgbWFza2VkID8gJ1Nob3cgd2FsbGV0IHRleHQnIDogJ01hc2sgd2FsbGV0IHRleHQnKTsNCiAgICBleWUudGl0bGUgPSBtYXNrZWQgPyAnU2hvdycgOiAnTWFzayc7DQogICAgZXllLmlubmVySFRNTCA9IG1hc2tlZCA/IF9fZXllSWNvbigpIDogX19leWVPZmZJY29uKCk7DQogIH0NCiAgX191cGRhdGVXYWxsZXRFeWVTaXplKCk7DQp9DQoNCmZ1bmN0aW9uIGluaXRTaG93TWFza1RvZ2dsZXMoKSB7DQogIC8vIERlZmF1bHRzOiBBUEkga2V5IG1hc2tlZCAobm90IHZpc2libGUpOyBhZGRyZXNzZXMgdW5tYXNrZWQNCiAgY29uc3QgX19hcGlWaXNSYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZXRoZXJzY2FuQXBpS2V5VmlzaWJsZScpOw0KICBjb25zdCBhcGlWaXNpYmxlID0gKF9fYXBpVmlzUmF3ID09IG51bGwpID8gdHJ1ZSA6IChfX2FwaVZpc1JhdyA9PT0gJzEnKTsNCiAgY29uc3QgYWRkck1hc2tlZCA9IChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZXRoQWRkcmVzc01hc2tlZCcpID09PSAnMScpOw0KICBjb25zdCB3YWxsZXRNYXNrZWQgPSAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nvbm5lY3RXYWxsZXRNYXNrZWQnKSA9PT0gJzEnKTsNCiAgc2V0QXBpS2V5VmlzaWJpbGl0eSghIWFwaVZpc2libGUpOw0KICBzZXRFdGhBZGRyZXNzTWFza2VkKCEhYWRkck1hc2tlZCk7DQogIHNldENvbm5lY3RXYWxsZXRNYXNrZWQoISF3YWxsZXRNYXNrZWQpOw0KICBjb25zdCBhcGlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlQXBpS2V5VmlzaWJpbGl0eScpOw0KICBpZiAoYXBpQnRuKSBhcGlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZXRBcGlLZXlWaXNpYmlsaXR5KCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2V0aGVyc2NhbkFwaUtleVZpc2libGUnKSA9PT0gJzEnKSkpOw0KICBjb25zdCBhZGRyQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZUV0aEFkZHJlc3NNYXNrJyk7DQogIGlmIChhZGRyQnRuKSBhZGRyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2V0RXRoQWRkcmVzc01hc2tlZCghKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdldGhBZGRyZXNzTWFza2VkJykgPT09ICcxJykpKTsNCiAgY29uc3Qgd2FsbGV0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZUNvbm5lY3RNYXNrJyk7DQogIGlmICh3YWxsZXRCdG4pIHdhbGxldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNldENvbm5lY3RXYWxsZXRNYXNrZWQoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29ubmVjdFdhbGxldE1hc2tlZCcpID09PSAnMScpKSk7DQogIHRyeSB7IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfX3VwZGF0ZVdhbGxldEV5ZVNpemUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTsgfSBjYXRjaCB7fQ0KfQ0KZnVuY3Rpb24gdmFsaWRhdGVJbnB1dHMoKSB7DQogIGNvbnN0IHJwY1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIikudmFsdWUudHJpbSgpOw0KICBjb25zdCBhcGlLZXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoZXJzY2FuQXBpS2V5IikudmFsdWUudHJpbSgpOw0KICBjb25zdCBzY2FuQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjYW5CdG4iKTsNCiAgY29uc3QgaGFzUnBjID0gcnBjVGV4dC5zcGxpdCgiXG4iKS5zb21lKHMgPT4gcy50cmltKCkuc3RhcnRzV2l0aCgiaHR0cCIpKTsNCiAgc2NhbkJ0bi5kaXNhYmxlZCA9ICFoYXNScGMgfHwgIWFwaUtleTsNCn0NCg0KLy8gLS0tIFNVTU1BUlkgU1RBVFMgLS0tDQovLyBSRVBMQUNFIHRoZSBlbnRpcmUgZXhpc3RpbmcgdXBkYXRlU3VtbWFyeVN0YXRzIGZ1bmN0aW9uIHdpdGggdGhpcyBvbmUNCg0KZnVuY3Rpb24gdXBkYXRlU3VtbWFyeVN0YXRzKCkgew0KICBpZiAoIXdpbmRvdy5jb2ludG9vbFRhYmxlKSByZXR1cm47DQoNCiAgLy8gMSkgUHJlZmVyIGFuIHVuZmlsdGVyZWQgc25hcHNob3Qgb2YgYWxsIGRhdGENCiAgY29uc3Qgb3ZlcmFsbCA9DQogICAgKEFycmF5LmlzQXJyYXkod2luZG93Ll9hbGxVbmlmaWVkUm93cykgJiYgd2luZG93Ll9hbGxVbmlmaWVkUm93cy5sZW5ndGggPyB3aW5kb3cuX2FsbFVuaWZpZWRSb3dzIDogbnVsbCkNCiAgICB8fCAodHlwZW9mIGNvaW50b29sVGFibGUuZ2V0RGF0YSA9PT0gImZ1bmN0aW9uIiA/IGNvaW50b29sVGFibGUuZ2V0RGF0YSgiYWxsIikgOiBudWxsKQ0KICAgIHx8IGNvaW50b29sVGFibGUuZ2V0RGF0YSgiYWN0aXZlIik7DQoNCiAgLy8gLS0tIEEpIENPSU5UT09MIHN1bW1hcnkgKGhlYWRlciArIHBlci1hZGRyZXNzKSAtLS0NCiAgY29uc3Qgb25seUNUID0gb3ZlcmFsbC5maWx0ZXIociA9PiByLlNvdXJjZVR5cGUgPT09ICJDb2ludG9vbCIpOw0KICBjb25zdCBzdW1tYXJ5QnlBZGRyZXNzID0ge307DQogIGZvciAoY29uc3Qgcm93IG9mIG9ubHlDVCkgew0KICAgIGNvbnN0IG93bmVyID0gcm93Lk93bmVyOw0KICAgIGlmICghc3VtbWFyeUJ5QWRkcmVzc1tvd25lcl0pIHsNCiAgICAgIHN1bW1hcnlCeUFkZHJlc3Nbb3duZXJdID0geyBtaW50Q291bnQ6IDAsIHRvdGFsQ3JhbmtzOiAwLCByZW1pbnRDcmFua3M6IDAsIG1hdHVyaW5nVk1VczogMCwgY2xhaW1hYmxlVk1VczogMCB9Ow0KICAgIH0NCiAgICBjb25zdCB2bXVzID0gTnVtYmVyKHJvdy5WTVVzKSB8fCAwOw0KICAgIGNvbnN0IHJlbWludENvdW50ID0gKHJvdy5BY3Rpb25zIHx8IFtdKS5sZW5ndGg7DQogICAgc3VtbWFyeUJ5QWRkcmVzc1tvd25lcl0ubWludENvdW50Kys7DQogICAgc3VtbWFyeUJ5QWRkcmVzc1tvd25lcl0udG90YWxDcmFua3MgKz0gdm11czsNCiAgICBpZiAocmVtaW50Q291bnQgPiAwKSBzdW1tYXJ5QnlBZGRyZXNzW293bmVyXS5yZW1pbnRDcmFua3MgKz0gdm11czsNCg0KICAgIC8vIFVzZSB0aGUgbGl2ZSBzdGF0dXMgZm9yIGFjY3VyYXRlIGNvdW50cw0KICAgIGNvbnN0IGxpdmVTdGF0dXMgPSBjb21wdXRlTGl2ZVN0YXR1cyhyb3cpOw0KICAgIGlmIChsaXZlU3RhdHVzID09PSAiTWF0dXJpbmciKSB7DQogICAgICBzdW1tYXJ5QnlBZGRyZXNzW293bmVyXS5tYXR1cmluZ1ZNVXMgKz0gdm11czsNCiAgICB9DQogICAgaWYgKGxpdmVTdGF0dXMgPT09ICJDbGFpbWFibGUiKSB7DQogICAgICBzdW1tYXJ5QnlBZGRyZXNzW293bmVyXS5jbGFpbWFibGVWTVVzICs9IHZtdXM7DQogICAgfQ0KICB9DQoNCiAgLy8gQnVpbGQgYW5kIGluamVjdCB0aGUgbWFpbiBDb2ludG9vbCBzdW1tYXJ5IGxpbmUNCiAgY29uc3QgaXRlbUNvdW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1Db3VudCcpOw0KICBpZiAoaXRlbUNvdW50RGl2KSB7DQogICAgY29uc3Qgb3ZlcmFsbE1pbnRDb3VudCA9IE9iamVjdC52YWx1ZXMoc3VtbWFyeUJ5QWRkcmVzcykucmVkdWNlKChzLCB4KSA9PiBzICsgeC5taW50Q291bnQsIDApOw0KICAgIGNvbnN0IHRvdGFsQ3JhbmtzID0gT2JqZWN0LnZhbHVlcyhzdW1tYXJ5QnlBZGRyZXNzKS5yZWR1Y2UoKHMsIHgpID0+IHMgKyB4LnRvdGFsQ3JhbmtzLCAwKTsNCiAgICBjb25zdCB0b3RhbFJlbWludENyYW5rcyA9IE9iamVjdC52YWx1ZXMoc3VtbWFyeUJ5QWRkcmVzcykucmVkdWNlKChzLCB4KSA9PiBzICsgeC5yZW1pbnRDcmFua3MsIDApOw0KICAgIGNvbnN0IHRvdGFsTWF0dXJpbmdWTVVzID0gT2JqZWN0LnZhbHVlcyhzdW1tYXJ5QnlBZGRyZXNzKS5yZWR1Y2UoKHMsIHgpID0+IHMgKyB4Lm1hdHVyaW5nVk1VcywgMCk7DQogICAgY29uc3QgdG90YWxDbGFpbWFibGVWTVVzID0gT2JqZWN0LnZhbHVlcyhzdW1tYXJ5QnlBZGRyZXNzKS5yZWR1Y2UoKHMsIHgpID0+IHMgKyB4LmNsYWltYWJsZVZNVXMsIDApOw0KDQogICAgaXRlbUNvdW50RGl2LmlubmVySFRNTCA9IGA8c3Ryb25nPkNvaW50b29sIE1pbnRzOjwvc3Ryb25nPiAke292ZXJhbGxNaW50Q291bnQudG9Mb2NhbGVTdHJpbmcoKX0gfCA8c3Ryb25nPlRvdGFsIFZNVXM6PC9zdHJvbmc+ICR7dG90YWxDcmFua3MudG9Mb2NhbGVTdHJpbmcoKX0gfCA8c3Ryb25nPlJlbWludHM6PC9zdHJvbmc+ICR7dG90YWxSZW1pbnRDcmFua3MudG9Mb2NhbGVTdHJpbmcoKX0gfCA8c3Ryb25nPk1hdHVyaW5nOjwvc3Ryb25nPiAke3RvdGFsTWF0dXJpbmdWTVVzLnRvTG9jYWxlU3RyaW5nKCl9IHwgPHN0cm9uZz5DbGFpbWFibGU6PC9zdHJvbmc+ICR7dG90YWxDbGFpbWFibGVWTVVzLnRvTG9jYWxlU3RyaW5nKCl9YDsNCiAgfQ0KDQoNCiAgLy8gUmVuZGVyIHBlci1hZGRyZXNzIGJsb2NrcyBmb3IgQ29pbnRvb2wNCiAgY29uc3QgcGVyQWRkcmVzc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZXJBZGRyZXNzU3VtbWFyeScpOw0KICBwZXJBZGRyZXNzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOyAvLyBDbGVhciBwcmV2aW91cyBlbnRyaWVzDQoNCiAgY29uc3QgY3RBZGRyZXNzZXMgPSBPYmplY3Qua2V5cyhzdW1tYXJ5QnlBZGRyZXNzKTsNCiAgaWYgKGN0QWRkcmVzc2VzLmxlbmd0aCA+IDApIHsNCiAgICBmb3IgKGNvbnN0IGFkZHJlc3Mgb2YgY3RBZGRyZXNzZXMpIHsNCiAgICAgIGNvbnN0IHMgPSBzdW1tYXJ5QnlBZGRyZXNzW2FkZHJlc3NdOw0KICAgICAgY29uc3Qgc2hvcnQgPSBgJHthZGRyZXNzLnNsaWNlKDAsIDYpfS4uLiR7YWRkcmVzcy5zbGljZSgtNCl9YDsNCiAgICAgIGNvbnN0IGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgIGxpbmUuaW5uZXJIVE1MID0gYA0KICAgICAgPHN0cm9uZz4ke3Nob3J0fTo8L3N0cm9uZz4NCiAgICAgIE1pbnRzOiAke3MubWludENvdW50LnRvTG9jYWxlU3RyaW5nKCl9IHwNCiAgICAgIFRvdGFsIFZNVXM6ICR7cy50b3RhbENyYW5rcy50b0xvY2FsZVN0cmluZygpfSB8DQogICAgICBSZW1pbnRzOiAke3MucmVtaW50Q3JhbmtzLnRvTG9jYWxlU3RyaW5nKCl9IHwNCiAgICAgIE1hdHVyaW5nOiAke3MubWF0dXJpbmdWTVVzLnRvTG9jYWxlU3RyaW5nKCl9IHwNCiAgICAgIENsYWltYWJsZTogJHtzLmNsYWltYWJsZVZNVXMudG9Mb2NhbGVTdHJpbmcoKX0NCiAgICBgOw0KICAgICAgcGVyQWRkcmVzc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsaW5lKTsNCiAgICB9DQogIH0NCg0KICAvLyAtLS0gVGhlIHJlc3Qgb2YgdGhlIGZ1bmN0aW9uIGhhbmRsZXMgb3RoZXIgdHlwZXMgKFhFTkZULCBTdGFrZXMpLCB3aGljaCBpcyBjb3JyZWN0IC0tLQ0KICAvLyAtLS0gQikgWEVORlRzIChieSBhZGRyZXNzKSAtLS0NCiAgY29uc3QgeGZNYXAgPSB7fTsNCiAgZm9yIChjb25zdCByb3cgb2Ygb3ZlcmFsbC5maWx0ZXIociA9PiByLlNvdXJjZVR5cGUgPT09ICJYRU5GVCIpKSB7DQogICAgY29uc3Qgb3duZXIgPSByb3cuT3duZXIgfHwgJyc7DQogICAgaWYgKCF4Zk1hcFtvd25lcl0pIHsNCiAgICAgIHhmTWFwW293bmVyXSA9IHsgbWludENvdW50OiAwLCB0b3RhbENyYW5rczogMCwgbWF0dXJpbmdWTVVzOiAwLCBjbGFpbWFibGVDb3VudDogMCB9Ow0KICAgIH0NCiAgICBjb25zdCB2bXVzID0gTnVtYmVyKHJvdy5WTVVzKSB8fCAwOw0KICAgIHhmTWFwW293bmVyXS5taW50Q291bnQrKzsNCiAgICB4Zk1hcFtvd25lcl0udG90YWxDcmFua3MgKz0gdm11czsNCiAgICBjb25zdCBsaXZlU3RhdHVzID0gY29tcHV0ZUxpdmVTdGF0dXMocm93KTsNCiAgICBpZiAobGl2ZVN0YXR1cyA9PT0gIk1hdHVyaW5nIikgew0KICAgICAgeGZNYXBbb3duZXJdLm1hdHVyaW5nVk1VcyArPSB2bXVzOw0KICAgIH0NCiAgICBpZiAobGl2ZVN0YXR1cyA9PT0gIkNsYWltYWJsZSIpIHsNCiAgICAgIHhmTWFwW293bmVyXS5jbGFpbWFibGVDb3VudCsrOw0KICAgIH0NCiAgfQ0KDQogIGNvbnN0IG9sZFhmQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneGVuZnRQZXJBZGRyZXNzU3VtbWFyeScpOw0KICBpZiAob2xkWGZCbG9jaykgb2xkWGZCbG9jay5yZW1vdmUoKTsNCg0KICBjb25zdCB4ZkFkZHJzID0gT2JqZWN0LmtleXMoeGZNYXApOw0KICBpZiAoeGZBZGRycy5sZW5ndGggPiAwKSB7DQogICAgY29uc3QgYW5jaG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3hlbmZ0SXRlbUNvdW50Jyk7DQogICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1bW1hcnlDb250YWluZXInKTsNCiAgICBjb25zdCBibG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgIGJsb2NrLmlkID0gJ3hlbmZ0UGVyQWRkcmVzc1N1bW1hcnknOw0KICAgIGJsb2NrLnN0eWxlLm1hcmdpblRvcCA9ICc2cHgnOw0KICAgIGZvciAoY29uc3QgYWRkcmVzcyBvZiB4ZkFkZHJzKSB7DQogICAgICBjb25zdCBzID0geGZNYXBbYWRkcmVzc107DQogICAgICBjb25zdCBzaG9ydCA9IGAke2FkZHJlc3Muc2xpY2UoMCwgNil9Li4uJHthZGRyZXNzLnNsaWNlKC00KX1gOw0KICAgICAgY29uc3QgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgbGluZS5pbm5lckhUTUwgPSBgDQogICAgICA8c3Ryb25nPiR7c2hvcnR9Ojwvc3Ryb25nPg0KICAgICAgTWludHM6ICR7cy5taW50Q291bnQudG9Mb2NhbGVTdHJpbmcoKX0gfA0KICAgICAgVG90YWwgVk1VczogJHtzLnRvdGFsQ3JhbmtzLnRvTG9jYWxlU3RyaW5nKCl9IHwNCiAgICAgIE1hdHVyaW5nOiAke3MubWF0dXJpbmdWTVVzLnRvTG9jYWxlU3RyaW5nKCl9IHwNCiAgICAgIENsYWltYWJsZTogJHtzLmNsYWltYWJsZUNvdW50LnRvTG9jYWxlU3RyaW5nKCl9DQogICAgYDsNCiAgICAgIGJsb2NrLmFwcGVuZENoaWxkKGxpbmUpOw0KICAgIH0NCiAgICBpZiAoYW5jaG9yICYmIGFuY2hvci5wYXJlbnRFbGVtZW50KSB7DQogICAgICBhbmNob3IuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGJsb2NrKTsNCiAgICB9IGVsc2UgaWYgKGNvbnRhaW5lcikgew0KICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJsb2NrKTsNCiAgICB9DQogIH0NCg0KICAvLyAtLS0gQykgU1RBS0UgWEVORlRzIChieSBhZGRyZXNzKSAtLS0NCiAgY29uc3Qgc3Rha2VNYXAgPSB7fTsNCiAgZm9yIChjb25zdCByb3cgb2Ygb3ZlcmFsbC5maWx0ZXIociA9PiByLlNvdXJjZVR5cGUgPT09ICJTdGFrZSBYRU5GVCIpKSB7DQogICAgY29uc3Qgb3duZXIgPSByb3cuT3duZXIgfHwgJyc7DQogICAgaWYgKCFzdGFrZU1hcFtvd25lcl0pIHsNCiAgICAgIHN0YWtlTWFwW293bmVyXSA9IHsgbWludENvdW50OiAwLCBtYXR1cmluZ0NvdW50OiAwLCBjbGFpbWFibGVDb3VudDogMCB9Ow0KICAgIH0NCiAgICBzdGFrZU1hcFtvd25lcl0ubWludENvdW50Kys7DQogICAgaWYgKGNvbXB1dGVMaXZlU3RhdHVzKHJvdykgPT09ICJNYXR1cmluZyIpIHsNCiAgICAgIHN0YWtlTWFwW293bmVyXS5tYXR1cmluZ0NvdW50Kys7DQogICAgfQ0KICAgIGlmIChjb21wdXRlTGl2ZVN0YXR1cyhyb3cpID09PSAiQ2xhaW1hYmxlIikgew0KICAgICAgc3Rha2VNYXBbb3duZXJdLmNsYWltYWJsZUNvdW50Kys7DQogICAgfQ0KICB9DQoNCiAgY29uc3Qgb2xkU3Rha2VCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFrZVBlckFkZHJlc3NTdW1tYXJ5Jyk7DQogIGlmIChvbGRTdGFrZUJsb2NrKSBvbGRTdGFrZUJsb2NrLnJlbW92ZSgpOw0KICBjb25zdCBzdGFrZUFkZHJzID0gT2JqZWN0LmtleXMoc3Rha2VNYXApOw0KICBpZiAoc3Rha2VBZGRycy5sZW5ndGggPiAwKSB7DQogICAgY29uc3QgYW5jaG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlWGVuZnRJdGVtQ291bnQnKTsNCiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VtbWFyeUNvbnRhaW5lcicpOw0KICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgYmxvY2suaWQgPSAnc3Rha2VQZXJBZGRyZXNzU3VtbWFyeSc7DQogICAgZm9yIChjb25zdCBhZGRyZXNzIG9mIHN0YWtlQWRkcnMpIHsNCiAgICAgIGNvbnN0IHMgPSBzdGFrZU1hcFthZGRyZXNzXTsNCiAgICAgIGNvbnN0IHNob3J0ID0gYCR7YWRkcmVzcy5zbGljZSgwLCA2KX0uLi4ke2FkZHJlc3Muc2xpY2UoLTQpfWA7DQogICAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICBsaW5lLmlubmVySFRNTCA9IGA8c3Ryb25nPiR7c2hvcnR9Ojwvc3Ryb25nPiBTdGFrZXM6ICR7cy5taW50Q291bnQudG9Mb2NhbGVTdHJpbmcoKX0gfCBNYXR1cmluZzogJHtzLm1hdHVyaW5nQ291bnQudG9Mb2NhbGVTdHJpbmcoKX0gfCBDbGFpbWFibGU6ICR7cy5jbGFpbWFibGVDb3VudC50b0xvY2FsZVN0cmluZygpfWA7DQogICAgICBibG9jay5hcHBlbmRDaGlsZChsaW5lKTsNCiAgICB9DQogICAgaWYgKGFuY2hvciAmJiBhbmNob3IucGFyZW50RWxlbWVudCkgew0KICAgICAgYW5jaG9yLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBibG9jayk7DQogICAgfSBlbHNlIGlmIChjb250YWluZXIpIHsNCiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChibG9jayk7DQogICAgfQ0KICB9DQoNCiAgLy8gLS0tIEQpIFNUQUtFUyAoYnkgYWRkcmVzcykgLS0tDQogIGNvbnN0IHN0YWtlUmVndWxhck1hcCA9IHt9Ow0KICBmb3IgKGNvbnN0IHJvdyBvZiBvdmVyYWxsLmZpbHRlcihyID0+IHIuU291cmNlVHlwZSA9PT0gIlN0YWtlIikpIHsNCiAgICBjb25zdCBvd25lciA9IHJvdy5Pd25lciB8fCAnJzsNCiAgICBpZiAoIXN0YWtlUmVndWxhck1hcFtvd25lcl0pIHsNCiAgICAgIHN0YWtlUmVndWxhck1hcFtvd25lcl0gPSB7IG1pbnRDb3VudDogMCwgbWF0dXJpbmdDb3VudDogMCwgY2xhaW1hYmxlQ291bnQ6IDAgfTsNCiAgICB9DQogICAgc3Rha2VSZWd1bGFyTWFwW293bmVyXS5taW50Q291bnQrKzsNCiAgICBpZiAoY29tcHV0ZUxpdmVTdGF0dXMocm93KSA9PT0gIk1hdHVyaW5nIikgew0KICAgICAgc3Rha2VSZWd1bGFyTWFwW293bmVyXS5tYXR1cmluZ0NvdW50Kys7DQogICAgfQ0KICAgIGlmIChjb21wdXRlTGl2ZVN0YXR1cyhyb3cpID09PSAiQ2xhaW1hYmxlIikgew0KICAgICAgc3Rha2VSZWd1bGFyTWFwW293bmVyXS5jbGFpbWFibGVDb3VudCsrOw0KICAgIH0NCiAgfQ0KDQogIGNvbnN0IG9sZFN0YWtlUmVndWxhckJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YWtlUmVndWxhclBlckFkZHJlc3NTdW1tYXJ5Jyk7DQogIGlmIChvbGRTdGFrZVJlZ3VsYXJCbG9jaykgb2xkU3Rha2VSZWd1bGFyQmxvY2sucmVtb3ZlKCk7DQogIGNvbnN0IHN0YWtlUmVndWxhckFkZHJzID0gT2JqZWN0LmtleXMoc3Rha2VSZWd1bGFyTWFwKTsNCiAgaWYgKHN0YWtlUmVndWxhckFkZHJzLmxlbmd0aCA+IDApIHsNCiAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Rha2VJdGVtQ291bnQnKTsNCiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VtbWFyeUNvbnRhaW5lcicpOw0KICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgYmxvY2suaWQgPSAnc3Rha2VSZWd1bGFyUGVyQWRkcmVzc1N1bW1hcnknOw0KICAgIGZvciAoY29uc3QgYWRkcmVzcyBvZiBzdGFrZVJlZ3VsYXJBZGRycykgew0KICAgICAgY29uc3QgcyA9IHN0YWtlUmVndWxhck1hcFthZGRyZXNzXTsNCiAgICAgIGNvbnN0IHNob3J0ID0gYCR7YWRkcmVzcy5zbGljZSgwLCA2KX0uLi4ke2FkZHJlc3Muc2xpY2UoLTQpfWA7DQogICAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICBsaW5lLmlubmVySFRNTCA9IGA8c3Ryb25nPiR7c2hvcnR9Ojwvc3Ryb25nPiBTdGFrZXM6ICR7cy5taW50Q291bnQudG9Mb2NhbGVTdHJpbmcoKX0gfCBNYXR1cmluZzogJHtzLm1hdHVyaW5nQ291bnQudG9Mb2NhbGVTdHJpbmcoKX0gfCBDbGFpbWFibGU6ICR7cy5jbGFpbWFibGVDb3VudC50b0xvY2FsZVN0cmluZygpfWA7DQogICAgICBibG9jay5hcHBlbmRDaGlsZChsaW5lKTsNCiAgICB9DQogICAgaWYgKGFuY2hvciAmJiBhbmNob3IucGFyZW50RWxlbWVudCkgew0KICAgICAgYW5jaG9yLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBibG9jayk7DQogICAgfSBlbHNlIGlmIChjb250YWluZXIpIHsNCiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChibG9jayk7DQogICAgfQ0KICB9DQp9DQoNCi8qKg0KICogRmV0Y2hlcyB0eHMgZm9yIFtzdGFydEJsb2NrLCBlbmRCbG9ja10gZnJvbSBFdGhlcnNjYW4uDQogKiBJZiB0aGUgcmVzcG9uc2UgbGVuZ3RoID49IDEwMDAwLCByZWN1cnNpdmVseSBzcGxpdCB0aGUgcmFuZ2UgKGJpc2VjdCkNCiAqIHNvIHdlIG5ldmVyIG1pc3MgdHJhbnNhY3Rpb25zIGR1ZSB0byBFdGhlcnNjYW4ncyBwZXItcmVzcG9uc2UgY2FwLg0KICovDQovKioNCiAqIFZlcmJvc2UgRXRoZXJzY2FuIHJhbmdlIGZldGNoZXIgd2l0aCBkeW5hbWljIHNwbGl0dGluZy4NCiAqIC0gTG9ncyBlYWNoIGxlYWYgcmFuZ2UgYW5kIHNwbGl0IChpbmRlbnRlZCBieSBkZXB0aCkNCiAqIC0gVXBkYXRlcyBhIHNpbmdsZSBVSSBzdGF0dXMgbGluZSB2aWEgYG9uU3RhdHVzYA0KICogLSBSZXRyaWVzL2JhY2tvZmZzIG9uIHRyYW5zaWVudCBlcnJvcnMNCiAqLw0KLy8gVmVyYm9zZSBFdGhlcnNjYW4gcmFuZ2UgZmV0Y2hlciB3aXRoIGR5bmFtaWMgc3BsaXR0aW5nICsgcmVhc29uLWF3YXJlIHJldHJpZXMNCmFzeW5jIGZ1bmN0aW9uIGZldGNoUmFuZ2VXaXRoU3BsaXQoYWRkcmVzcywgc3RhcnRCbG9jaywgZW5kQmxvY2ssIGV0aGVyc2NhbkFwaUtleSwgc2luaywgZGVwdGggPSAwLCBvblN0YXR1cyA9IG51bGwpIHsNCiAgaWYgKHN0YXJ0QmxvY2sgPiBlbmRCbG9jaykgcmV0dXJuOw0KDQogIGNvbnN0IGluZGVudCA9ICIgIi5yZXBlYXQoZGVwdGggKiAyKTsNCiAgY29uc3QgdXJsID0gZXMydXJsKA0KICAgIGBtb2R1bGU9YWNjb3VudCZhY3Rpb249dHhsaXN0YCArDQogICAgYCZhZGRyZXNzPSR7YWRkcmVzc30mc3RhcnRibG9jaz0ke3N0YXJ0QmxvY2t9JmVuZGJsb2NrPSR7ZW5kQmxvY2t9YCArDQogICAgYCZzb3J0PWFzYyZhcGlrZXk9JHtldGhlcnNjYW5BcGlLZXl9YA0KICApOw0KDQogIGNvbnN0IHN0YXR1c01zZyA9IGAke2luZGVudH0tIEZldGNoaW5nIHRyYW5zYWN0aW9ucyBpbiBibG9jayByYW5nZTogJHtzdGFydEJsb2NrfSB0byAke2VuZEJsb2NrfS4uLmA7DQogIGlmICh0eXBlb2Ygb25TdGF0dXMgPT09ICJmdW5jdGlvbiIpIG9uU3RhdHVzKHN0YXR1c01zZyk7DQogIGNvbnNvbGUubG9nKHN0YXR1c01zZyk7DQoNCiAgY29uc3QgTUFYX1JFVFJJRVMgPSA2Ow0KDQogIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgTUFYX1JFVFJJRVM7IGF0dGVtcHQrKykgew0KICAgIHRyeSB7DQogICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7DQoNCiAgICAgIGNvbnN0IG1zZyA9IChkYXRhPy5tZXNzYWdlIHx8ICIiKS50b0xvd2VyQ2FzZSgpOw0KICAgICAgY29uc3QgcmVzdWx0VGV4dCA9ICh0eXBlb2YgZGF0YT8ucmVzdWx0ID09PSAic3RyaW5nIiA/IGRhdGEucmVzdWx0IDogIiIpOw0KDQogICAgICAvLyBTdWNjZXNzIHBhdGgNCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGE/LnJlc3VsdCkpIHsNCiAgICAgICAgY29uc3QgYXJyID0gZGF0YS5yZXN1bHQ7DQoNCiAgICAgICAgaWYgKGFyci5sZW5ndGggPj0gMTAwMDAgJiYgc3RhcnRCbG9jayA8IGVuZEJsb2NrKSB7DQogICAgICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigoc3RhcnRCbG9jayArIGVuZEJsb2NrKSAvIDIpOw0KICAgICAgICAgIGNvbnNvbGUubG9nKGAke2luZGVudH0gIOKGqiBSYW5nZSBsb29rcyBmdWxsICgke2Fyci5sZW5ndGh9KS4gU3BsaXR0aW5nIGF0ICR7bWlkfS4uLmApOw0KICAgICAgICAgIGlmICh0eXBlb2Ygb25TdGF0dXMgPT09ICJmdW5jdGlvbiIpIG9uU3RhdHVzKGAke2luZGVudH0gIOKGqiBTcGxpdHRpbmcgJHtzdGFydEJsb2NrfeKAkyR7ZW5kQmxvY2t9IGF0ICR7bWlkfWApOw0KICAgICAgICAgIGF3YWl0IGZldGNoUmFuZ2VXaXRoU3BsaXQoYWRkcmVzcywgc3RhcnRCbG9jaywgbWlkLCAgICAgZXRoZXJzY2FuQXBpS2V5LCBzaW5rLCBkZXB0aCArIDEsIG9uU3RhdHVzKTsNCiAgICAgICAgICBhd2FpdCBmZXRjaFJhbmdlV2l0aFNwbGl0KGFkZHJlc3MsIG1pZCArIDEsICBlbmRCbG9jaywgZXRoZXJzY2FuQXBpS2V5LCBzaW5rLCBkZXB0aCArIDEsIG9uU3RhdHVzKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhgJHtpbmRlbnR9ICDinJMgR290ICR7YXJyLmxlbmd0aH0gdHhzIGZvciAke3N0YXJ0QmxvY2t94oCTJHtlbmRCbG9ja31gKTsNCiAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHNpbmsucHVzaCguLi5hcnIpOw0KICAgICAgICB9DQoNCiAgICAgICAgd2luZG93Ll9fc2Nhbkxhc3RBY3Rpdml0eVRzID0gRGF0ZS5ub3coKTsNCiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDMwMCkpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIC8vIOKAnE5vIHRyYW5zYWN0aW9ucyBmb3VuZOKAnSBpcyBhIGNsZWFuIGVtcHR5IGxlYWYNCiAgICAgIGlmIChtc2cuaW5jbHVkZXMoIm5vIHRyYW5zYWN0aW9ucyBmb3VuZCIpKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGAke2luZGVudH0gIOKIhSBObyB0cmFuc2FjdGlvbnMgaW4gJHtzdGFydEJsb2NrfeKAkyR7ZW5kQmxvY2t9YCk7DQogICAgICAgIHdpbmRvdy5fX3NjYW5MYXN0QWN0aXZpdHlUcyA9IERhdGUubm93KCk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgLy8gT3RoZXIgTk9UT0sgcmVhc29ucyAtPiBsb2cgJiBjaG9vc2UgcG9saWN5DQogICAgICBjb25zdCByZWFzb24gPSAocmVzdWx0VGV4dCB8fCBkYXRhPy5tZXNzYWdlIHx8ICJOT1RPSyIpLnRvU3RyaW5nKCk7DQogICAgICBjb25zdCBodW1hbiA9IHJlYXNvbi5yZXBsYWNlKC9ccysvZywgIiAiKS50cmltKCk7DQogICAgICBjb25zdCBiYWNrb2ZmID0gTWF0aC5taW4oMjUwMCwgMjAwICogTWF0aC5wb3coMS42LCBhdHRlbXB0KSk7DQoNCiAgICAgIC8vIEltbWVkaWF0ZWx5IHNwbGl0IG9uIOKAnHdpbmRvdyB0b28gbGFyZ2XigJ0gLyDigJx0aW1lb3V04oCdDQogICAgICBpZiAoL3dpbmRvdyB0b28gbGFyZ2V8dGltZW91dC9pLnRlc3QoaHVtYW4pICYmIHN0YXJ0QmxvY2sgPCBlbmRCbG9jaykgew0KICAgICAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChzdGFydEJsb2NrICsgZW5kQmxvY2spIC8gMik7DQogICAgICAgIGNvbnNvbGUud2FybihgJHtpbmRlbnR9ICAhICR7aHVtYW59LiBTcGxpdHRpbmcgYXQgJHttaWR9Li4uYCk7DQogICAgICAgIGlmICh0eXBlb2Ygb25TdGF0dXMgPT09ICJmdW5jdGlvbiIpIG9uU3RhdHVzKGAke2luZGVudH0gIOKGqiAke2h1bWFufS4gU3BsaXQgJHtzdGFydEJsb2NrfeKAkyR7ZW5kQmxvY2t9IGF0ICR7bWlkfWApOw0KICAgICAgICBhd2FpdCBmZXRjaFJhbmdlV2l0aFNwbGl0KGFkZHJlc3MsIHN0YXJ0QmxvY2ssIG1pZCwgICAgIGV0aGVyc2NhbkFwaUtleSwgc2luaywgZGVwdGggKyAxLCBvblN0YXR1cyk7DQogICAgICAgIGF3YWl0IGZldGNoUmFuZ2VXaXRoU3BsaXQoYWRkcmVzcywgbWlkICsgMSwgIGVuZEJsb2NrLCBldGhlcnNjYW5BcGlLZXksIHNpbmssIGRlcHRoICsgMSwgb25TdGF0dXMpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIC8vIEhhcmQgZXJyb3JzIC0+IGV4cGxhaW4gYW5kIGJhaWwNCiAgICAgIGlmICgvaW52YWxpZCBhcGkga2V5fG1pc3NpbmcgYXBpIGtleXxpbnZhbGlkIGFkZHJlc3MvaS50ZXN0KGh1bWFuKSkgew0KICAgICAgICBjb25zb2xlLmVycm9yKGAke2luZGVudH0gIOKcliAke2h1bWFufS4gUGxlYXNlIGZpeCBpbnB1dHMuYCk7DQogICAgICAgIGlmICh0eXBlb2Ygb25TdGF0dXMgPT09ICJmdW5jdGlvbiIpIG9uU3RhdHVzKGAke2luZGVudH0gIOKcliAke2h1bWFufWApOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIC8vIFJhdGUgbGltaXQgLyBnZW5lcmljIE5PVE9LIC0+IHJldHJ5IHdpdGggYmFja29mZg0KICAgICAgY29uc29sZS53YXJuKGAke2luZGVudH0gICEgVHJhbnNpZW50IGVycm9yICgke2h1bWFufSkuIFJldHJ5aW5nIGluICR7YmFja29mZn1tcy4uLmApOw0KICAgICAgaWYgKHR5cGVvZiBvblN0YXR1cyA9PT0gImZ1bmN0aW9uIikgb25TdGF0dXMoYCR7aW5kZW50fSAgISAke2h1bWFufS4gUmV0cnlpbmcuLi5gKTsNCiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBiYWNrb2ZmKSk7DQogICAgICBjb250aW51ZTsNCg0KICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgIGNvbnN0IGJhY2tvZmYgPSBNYXRoLm1pbigyNTAwLCAyMDAgKiBNYXRoLnBvdygxLjYsIGF0dGVtcHQpKTsNCiAgICAgIGNvbnNvbGUud2FybihgJHtpbmRlbnR9ICAhIFJlcXVlc3QgZmFpbGVkICgke2UubWVzc2FnZX0pLiBSZXRyeWluZyBpbiAke2JhY2tvZmZ9bXMuLi5gKTsNCiAgICAgIGlmICh0eXBlb2Ygb25TdGF0dXMgPT09ICJmdW5jdGlvbiIpIG9uU3RhdHVzKGAke2luZGVudH0gICEgTmV0d29yayBlcnJvci4gUmV0cnlpbmcuLi5gKTsNCiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBiYWNrb2ZmKSk7DQogICAgICBjb250aW51ZTsNCiAgICB9DQogIH0NCg0KICAvLyBGYWxsYmFjayBhZnRlciBhbGwgcmV0cmllczogYmlzZWN0DQogIGlmIChzdGFydEJsb2NrIDwgZW5kQmxvY2spIHsNCiAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChzdGFydEJsb2NrICsgZW5kQmxvY2spIC8gMik7DQogICAgY29uc29sZS53YXJuKGAke2luZGVudH0gICEgRXhoYXVzdGVkIHJldHJpZXMgZm9yICR7c3RhcnRCbG9ja33igJMke2VuZEJsb2NrfTsgYmlzZWN0aW5nIGF0ICR7bWlkfS4uLmApOw0KICAgIGlmICh0eXBlb2Ygb25TdGF0dXMgPT09ICJmdW5jdGlvbiIpIG9uU3RhdHVzKGAke2luZGVudH0gIOKGqiBCaXNlY3QgZmFsbGJhY2sgYXQgJHttaWR9YCk7DQogICAgYXdhaXQgZmV0Y2hSYW5nZVdpdGhTcGxpdChhZGRyZXNzLCBzdGFydEJsb2NrLCBtaWQsICAgICBldGhlcnNjYW5BcGlLZXksIHNpbmssIGRlcHRoICsgMSwgb25TdGF0dXMpOw0KICAgIGF3YWl0IGZldGNoUmFuZ2VXaXRoU3BsaXQoYWRkcmVzcywgbWlkICsgMSwgIGVuZEJsb2NrLCBldGhlcnNjYW5BcGlLZXksIHNpbmssIGRlcHRoICsgMSwgb25TdGF0dXMpOw0KICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGZpbmRFYXJsaWVzdFR4QmxvY2soYWRkcmVzcywgZXRoZXJzY2FuQXBpS2V5KSB7DQogIGNvbnN0IHVybCA9IGVzMnVybCgNCiAgICBgbW9kdWxlPWFjY291bnQmYWN0aW9uPXR4bGlzdGAgKw0KICAgIGAmYWRkcmVzcz0ke2FkZHJlc3N9JnN0YXJ0YmxvY2s9MCZlbmRibG9jaz05OTk5OTk5OSZwYWdlPTEmb2Zmc2V0PTEmc29ydD1hc2MmYXBpa2V5PSR7ZXRoZXJzY2FuQXBpS2V5fWANCiAgKTsNCiAgdHJ5IHsNCiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpOw0KICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpOw0KICAgIGlmIChkYXRhPy5zdGF0dXMgPT09ICIxIiAmJiBBcnJheS5pc0FycmF5KGRhdGEucmVzdWx0KSAmJiBkYXRhLnJlc3VsdC5sZW5ndGggPiAwKSB7DQogICAgICBjb25zdCBiID0gTnVtYmVyKGRhdGEucmVzdWx0WzBdLmJsb2NrTnVtYmVyKTsNCiAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUoYikgPyBiIDogMDsNCiAgICB9DQogIH0gY2F0Y2ggKF8pIHt9DQogIHJldHVybiAwOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBmZXRjaFBvc3RNaW50QWN0aW9ucyhhZGRyZXNzLCBldGhlcnNjYW5BcGlLZXkpIHsNCiAgY29uc29sZS5sb2coYEZldGNoaW5nIHBvc3QtbWludCBhY3Rpb24gaGlzdG9yeSBmb3IgJHthZGRyZXNzfS4uLmApOw0KDQogIC8vIC0tLSBJbnB1dHMgJiBnbG9iYWxzIHdlIHJlbHkgb24gaW4geW91ciBhcHAgLS0tDQogIC8vIHdlYjMsIENPTlRSQUNUX0FERFJFU1MsIFJFTUlOVF9TRUxFQ1RPUiwgRVZFTlRfVE9QSUMNCiAgLy8gaGVscGVyczogZ2V0Q2h1bmtTaXplLCBmZXRjaFJhbmdlV2l0aFNwbGl0LCBmb3JtYXRTZWNvbmRzLA0KICAvLyAgICAgICAgICBnZXRTY2FuU3RhdGUsIHB1dFNjYW5TdGF0ZSwgY2xlYXJTY2FuU3RhdGUsDQogIC8vICAgICAgICAgIGdldEFjdGlvbnNDYWNoZSwgcHV0QWN0aW9uc0NhY2hlLA0KICAvLyAgICAgICAgICBub3JtYWxpemVTYWx0LCBjb21wdXRlUHJveHlBZGRyZXNzLCBtYWtlUnBjUmVxdWVzdA0KICAvLyBjYWNoZXMvZGI6IHJlbWludENhY2hlIChpbi1tZW1vcnkpLCBkYkluc3RhbmNlIChJbmRleGVkREIgaGFuZGxlKQ0KDQogIGNvbnN0IGxhdGVzdEJsb2NrID0gYXdhaXQgd2ViMy5ldGguZ2V0QmxvY2tOdW1iZXIoKTsNCiAgY29uc3QgQ0hVTktfU0laRSA9IGdldENodW5rU2l6ZSgpOw0KDQogIC8vIC0tLSBVSSBoYW5kbGVzIC0tLQ0KICBjb25zdCBwcm9ncmVzc0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRva2VuUHJvZ3Jlc3NUZXh0Iik7DQogIGNvbnN0IGV0ckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0clRleHQiKTsNCiAgY29uc3QgdG9rZW5Qcm9ncmVzc0JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2tlblByb2dyZXNzQmFyIik7DQogIGNvbnN0IHJwY1N0YXR1c0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJwY1N0YXR1cyIpOw0KDQogIC8vIHN0YXR1cyBoZWxwZXINCiAgY29uc3QgdXBkYXRlU3RhdHVzID0gKG1zZykgPT4geyBpZiAocHJvZ3Jlc3NFbCkgcHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IG1zZzsgfTsNCg0KICAvLyBoZWFydGJlYXQgKGxldHMgeW91IHNlZSBpZiB3ZSdyZSB3YWl0aW5nIG9uIG5ldHdvcmspDQogIHdpbmRvdy5fX3NjYW5MYXN0QWN0aXZpdHlUcyA9IERhdGUubm93KCk7DQogIGNvbnN0IGhlYXJ0YmVhdCA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICBjb25zdCBkdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAod2luZG93Ll9fc2Nhbkxhc3RBY3Rpdml0eVRzIHx8IERhdGUubm93KCkpKSAvIDEwMDApOw0KICAgIGlmIChycGNTdGF0dXNFbCkgcnBjU3RhdHVzRWwudGV4dENvbnRlbnQgPSBkdCA+PSAzID8gYOKPsyAke2R0fXMgc2luY2UgbGFzdCByZXBseWAgOiAiIjsNCiAgfSwgMjAwMCk7DQoNCiAgLy8gLS0tLS0tLS0gUmVzdW1lIGxvZ2ljIChhbmQgImZpcnN0IHR4IiBwcmUtc2tpcCkgLS0tLS0tLS0NCiAgY29uc3QgZm9yY2VSZXNjYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9yY2VSZXNjYW4iKT8uY2hlY2tlZDsNCiAgbGV0IHJlc3VtZUZyb20gPSAwOw0KDQogIHRyeSB7DQogICAgaWYgKGZvcmNlUmVzY2FuICYmIGRiSW5zdGFuY2UpIHsNCiAgICAgIGF3YWl0IGNsZWFyU2NhblN0YXRlKGRiSW5zdGFuY2UsIGFkZHJlc3MpOw0KICAgIH0gZWxzZSBpZiAoZGJJbnN0YW5jZSkgew0KICAgICAgY29uc3Qgc3QgPSBhd2FpdCBnZXRTY2FuU3RhdGUoZGJJbnN0YW5jZSwgYWRkcmVzcyk7DQogICAgICBpZiAoc3QgJiYgTnVtYmVyLmlzRmluaXRlKHN0Lmxhc3RTY2FubmVkQmxvY2spKSB7DQogICAgICAgIHJlc3VtZUZyb20gPSBNYXRoLm1pbihsYXRlc3RCbG9jaywgTnVtYmVyKHN0Lmxhc3RTY2FubmVkQmxvY2spICsgMSk7DQogICAgICB9DQogICAgfQ0KICB9IGNhdGNoIChlKSB7DQogICAgY29uc29sZS53YXJuKCJyZXN1bWUgY3Vyc29yIHJlYWQvY2xlYXIgZmFpbGVkOiIsIGUpOw0KICB9DQoNCiAgLy8gUHJlLXNraXAgZWFybHkgZW1wdHkgcmFuZ2VzIGJ5IGZpbmRpbmcgdGhlIGFkZHJlc3PigJkgZmlyc3QgdHggb25jZQ0KICB0cnkgew0KICAgIGNvbnN0IGVhcmxpZXN0ID0gYXdhaXQgZmluZEVhcmxpZXN0VHhCbG9jayhhZGRyZXNzLCBldGhlcnNjYW5BcGlLZXkpOw0KICAgIGlmIChlYXJsaWVzdCAmJiAocmVzdW1lRnJvbSA9PT0gMCB8fCByZXN1bWVGcm9tIDwgZWFybGllc3QpKSB7DQogICAgICBjb25zb2xlLmxvZyhgRWFybGllc3QgdHggZm9yICR7YWRkcmVzc30gYXQgYmxvY2sgJHtlYXJsaWVzdH0g4oCUIHNraXBwaW5nIGVhcmxpZXIgZW1wdHkgcmFuZ2VzLmApOw0KICAgICAgcmVzdW1lRnJvbSA9IGVhcmxpZXN0Ow0KICAgIH0NCiAgfSBjYXRjaCAoZSkgew0KICAgIGNvbnNvbGUud2FybigiZWFybGllc3QgYmxvY2sgcHJlZmxpZ2h0IGZhaWxlZDoiLCBlKTsNCiAgfQ0KDQogIC8vIC0tLS0tLS0tIEZldGNoIGFjY291bnQgdHhzIGluIFtyZXN1bWVGcm9tLi5sYXRlc3RCbG9ja10sIGNodW5rZWQgdy8gc3BsaXR0ZXIgLS0tLS0tLS0NCiAgbGV0IGFsbFRyYW5zYWN0aW9ucyA9IFtdOw0KICBjb25zdCB0b3RhbEJsb2NrcyA9IE1hdGgubWF4KDAsIGxhdGVzdEJsb2NrIC0gcmVzdW1lRnJvbSArIDEpOw0KICBjb25zdCB0b3RhbENodW5rcyA9IE1hdGgubWF4KDEsIE1hdGguY2VpbCh0b3RhbEJsb2NrcyAvIENIVU5LX1NJWkUpKTsNCiAgY29uc3QgcHJldkJhck1heCA9IHRva2VuUHJvZ3Jlc3NCYXIubWF4Ow0KICBjb25zdCBwcmV2QmFyVmFsID0gdG9rZW5Qcm9ncmVzc0Jhci52YWx1ZTsNCiAgdG9rZW5Qcm9ncmVzc0Jhci5tYXggPSB0b3RhbENodW5rczsNCiAgdG9rZW5Qcm9ncmVzc0Jhci52YWx1ZSA9IDA7DQoNCiAgbGV0IGNodW5rc0RvbmUgPSAwOw0KICBsZXQgbGFzdFVpVXBkYXRlID0gMDsNCiAgY29uc3Qgc3RhcnRlZEF0ID0gRGF0ZS5ub3coKTsNCg0KICBmb3IgKGxldCBzdGFydEJsb2NrID0gcmVzdW1lRnJvbTsgc3RhcnRCbG9jayA8PSBsYXRlc3RCbG9jazsgc3RhcnRCbG9jayArPSBDSFVOS19TSVpFKSB7DQogICAgY29uc3QgZW5kQmxvY2sgPSBNYXRoLm1pbihzdGFydEJsb2NrICsgQ0hVTktfU0laRSAtIDEsIGxhdGVzdEJsb2NrKTsNCg0KICAgIC8vIGR5bmFtaWMgc3BsaXQgdG8gc2F0aXNmeSBFdGhlcnNjYW4ncyAxMGsgY2FwICsgdmVyYm9zaXR5DQogICAgYXdhaXQgZmV0Y2hSYW5nZVdpdGhTcGxpdChhZGRyZXNzLCBzdGFydEJsb2NrLCBlbmRCbG9jaywgZXRoZXJzY2FuQXBpS2V5LCBhbGxUcmFuc2FjdGlvbnMpOw0KDQogICAgLy8gcHJvZ3Jlc3MgKyBFVEENCiAgICBjaHVua3NEb25lKys7DQogICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsNCiAgICBpZiAobm93IC0gbGFzdFVpVXBkYXRlID4gMzAwKSB7DQogICAgICBjb25zdCBlbGFwc2VkID0gKG5vdyAtIHN0YXJ0ZWRBdCkgLyAxMDAwOw0KICAgICAgY29uc3QgcmF0ZSA9IGNodW5rc0RvbmUgLyBNYXRoLm1heCgxLCBlbGFwc2VkKTsNCiAgICAgIGNvbnN0IHJlbWFpbmluZ0NodW5rcyA9IE1hdGgubWF4KDAsIHRvdGFsQ2h1bmtzIC0gY2h1bmtzRG9uZSk7DQogICAgICBjb25zdCByZW1haW5pbmdTZWMgPSByYXRlID4gMCA/IHJlbWFpbmluZ0NodW5rcyAvIHJhdGUgOiAwOw0KICAgICAgY29uc3QgcGN0ID0gTWF0aC5mbG9vcigoY2h1bmtzRG9uZSAvIHRvdGFsQ2h1bmtzKSAqIDEwMCk7DQoNCiAgICAgIGlmIChwcm9ncmVzc0VsKSB7DQogICAgICAgIHByb2dyZXNzVUkuc2V0U3RhZ2UoJ0ZldGNoaW5nIHRyYW5zYWN0aW9ucycsIGNodW5rc0RvbmUsIHRvdGFsQ2h1bmtzLCBgYmxvY2tzICR7c3RhcnRCbG9ja33ihpIke2VuZEJsb2NrfWApOw0KICAgICAgfQ0KICAgICAgcHJvZ3Jlc3NVSS5zZXRFdGEocmVtYWluaW5nU2VjKTsNCiAgICAgIHRva2VuUHJvZ3Jlc3NCYXIudmFsdWUgPSBjaHVua3NEb25lOw0KICAgICAgbGFzdFVpVXBkYXRlID0gbm93Ow0KICAgIH0NCg0KICAgIC8vIHNhdmUgcmVzdW1lIGN1cnNvciBhZnRlciBlYWNoIGNodW5rDQogICAgdHJ5IHsNCiAgICAgIGlmIChkYkluc3RhbmNlKSBhd2FpdCBwdXRTY2FuU3RhdGUoZGJJbnN0YW5jZSwgYWRkcmVzcywgZW5kQmxvY2spOw0KICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgIGNvbnNvbGUud2FybigicmVzdW1lIGN1cnNvciB3cml0ZSBmYWlsZWQ6IiwgZSk7DQogICAgfQ0KICB9DQoNCiAgLy8gcmVzdG9yZSBVSSBlbGVtZW50cyBmb3IgbmV4dCBwaGFzZQ0KICBpZiAoZXRyRWwpIGV0ckVsLnRleHRDb250ZW50ID0gIiI7DQogIHRva2VuUHJvZ3Jlc3NCYXIubWF4ID0gcHJldkJhck1heDsNCiAgdG9rZW5Qcm9ncmVzc0Jhci52YWx1ZSA9IHByZXZCYXJWYWw7DQoNCiAgLy8gZGVkdXBlIGJ5IGhhc2ggKHNvbWUgZXhwbG9yZXJzIGNhbiByZXR1cm4gZHVwbGljYXRlcyBvbiBlZGdlcykNCiAgaWYgKGFsbFRyYW5zYWN0aW9ucy5sZW5ndGgpIHsNCiAgICBjb25zdCBzZWVuID0gbmV3IFNldCgpOw0KICAgIGFsbFRyYW5zYWN0aW9ucyA9IGFsbFRyYW5zYWN0aW9ucy5maWx0ZXIodHggPT4gew0KICAgICAgY29uc3QgaCA9IHR4Lmhhc2ggfHwgdHguaGFzaD8udG9Mb3dlckNhc2UoKTsNCiAgICAgIGlmICghaCB8fCBzZWVuLmhhcyhoKSkgcmV0dXJuIGZhbHNlOw0KICAgICAgc2Vlbi5hZGQoaCk7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9KTsNCiAgfQ0KDQogIGNvbnNvbGUubG9nKGBGb3VuZCAke2FsbFRyYW5zYWN0aW9ucy5sZW5ndGh9IHRvdGFsIHRyYW5zYWN0aW9ucyBmb3IgJHthZGRyZXNzfS5gKTsNCiAgY29uc3QgZmV0Y2hlZCA9IGFsbFRyYW5zYWN0aW9ucy5sZW5ndGg7DQoNCiAgLy8gLS0tLS0tLS0gTG9hZCBwcmlvciBhY3Rpb25zIChmcm9tIG1lbW9yeSwgb3IgZnJvbSBEQiBpZiBtaXNzaW5nKSAtLS0tLS0tLQ0KICBjb25zdCBkYiA9IGRiSW5zdGFuY2UgfHwgYXdhaXQgb3BlbkRCKCk7DQogIGxldCBwcmlvciA9IHJlbWludENhY2hlW2FkZHJlc3NdOw0KICBpZiAoIXByaW9yKSB7DQogICAgdHJ5IHsgcHJpb3IgPSBhd2FpdCBnZXRBY3Rpb25zQ2FjaGUoZGIsIGFkZHJlc3MpOyB9DQogICAgY2F0Y2ggKF8pIHsgcHJpb3IgPSB7fTsgfQ0KICAgIHJlbWludENhY2hlW2FkZHJlc3NdID0gcHJpb3I7DQogIH0NCg0KICAvLyBJZiBubyBuZXcgdHJhbnNhY3Rpb25zIGF0IGFsbCwgcmV0dXJuIHByaW9yIHVuY2hhbmdlZA0KICBpZiAoZmV0Y2hlZCA9PT0gMCkgew0KICAgIGlmIChwcm9ncmVzc0VsKSBwcm9ncmVzc0VsLnRleHRDb250ZW50ID0NCiAgICAgIGBObyBuZXcgdHJhbnNhY3Rpb25zIOKAlCBrZWVwaW5nICR7T2JqZWN0LmtleXMocHJpb3IpLmxlbmd0aH0gYWN0aW9uLWtleXMgaW4gY2FjaGVgOw0KICAgIGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0KTsNCiAgICByZXR1cm4geyBhY3Rpb25zOiBwcmlvciwgZmV0Y2hlZCwgbmV3QWN0aW9uQ291bnQ6IDAgfTsNCiAgfQ0KDQogIC8vIC0tLS0tLS0tIFByZWZpbHRlciBjYW5kaWRhdGUgcmVtaW50IHR4cyB0byB0aGUgQ29pbnRvb2wgY29udHJhY3QgLS0tLS0tLS0NCiAgY29uc3QgbG93ZXJDb250cmFjdCA9IENPTlRSQUNUX0FERFJFU1MudG9Mb3dlckNhc2UoKTsNCiAgY29uc3QgY2FuZGlkYXRlcyA9IGFsbFRyYW5zYWN0aW9ucy5maWx0ZXIodHggPT4NCiAgICB0eC50byAmJiB0eC50by50b0xvd2VyQ2FzZSgpID09PSBsb3dlckNvbnRyYWN0ICYmDQogICAgdHguaW5wdXQgJiYgdHguaW5wdXQuc3RhcnRzV2l0aChSRU1JTlRfU0VMRUNUT1IpICYmDQogICAgdHguaXNFcnJvciAhPT0gIjEiDQogICk7DQoNCiAgLy8gLS0tLS0tLS0gRGVjb2RlIHBlci10eCBhY3Rpb25zIGludG8gYSBtYXA6ICI8bWludElkPi08c2FsdEtleT4iIC0+IFthY3Rpb25zXSAtLS0tLS0tLQ0KICBjb25zdCBpbmZvID0ge307DQogIGNvbnN0IGFuYWx5emVTdGFydCA9IERhdGUubm93KCk7DQogIGZvciAobGV0IGkgPSAwOyBpIDwgY2FuZGlkYXRlcy5sZW5ndGg7IGkrKykgew0KICAgIGNvbnN0IHR4ID0gY2FuZGlkYXRlc1tpXTsNCg0KICAgIC8vIGxpZ2h0d2VpZ2h0IHByb2dyZXNzL2V0YSB3aGlsZSBkZWNvZGluZw0KICAgIGlmIChpID09PSAwIHx8IGkgJSA1MCA9PT0gMCkgew0KICAgICAgY29uc3QgZWxhcHNlZCA9IChEYXRlLm5vdygpIC0gYW5hbHl6ZVN0YXJ0KSAvIDEwMDA7DQogICAgICBjb25zdCByYXRlID0gaSA+IDAgPyBpIC8gZWxhcHNlZCA6IDA7DQogICAgICBjb25zdCByZW1haW5pbmcgPSByYXRlID4gMCA/IChjYW5kaWRhdGVzLmxlbmd0aCAtIGkpIC8gcmF0ZSA6IDA7DQogICAgICBpZiAocHJvZ3Jlc3NFbCkgcHJvZ3Jlc3NFbC50ZXh0Q29udGVudCA9IGBBbmFseXppbmcgcG9zdC1taW50IGFjdGlvbnMgJHtpfS8ke2NhbmRpZGF0ZXMubGVuZ3RofS4uLmA7DQogICAgICBpZiAoZXRyRWwpIGV0ckVsLnRleHRDb250ZW50ID0gcmVtYWluaW5nID4gMiA/IGBFVEE6ICR7TWF0aC5yb3VuZChyZW1haW5pbmcpfXNgIDogIiI7DQogICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMCkpOyAvLyB5aWVsZCBVSSB0aHJlYWQNCiAgICB9DQoNCiAgICB0cnkgew0KICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IG1ha2VScGNSZXF1ZXN0KA0KICAgICAgICAoKSA9PiB3ZWIzLmV0aC5nZXRUcmFuc2FjdGlvblJlY2VpcHQodHguaGFzaCksDQogICAgICAgIGBSZWNlaXB0IGZvciByZW1pbnQgVFggJHt0eC5oYXNofWANCiAgICAgICk7DQogICAgICBjb25zdCBsb2dzID0gcmVjZWlwdC5sb2dzIHx8IFtdOw0KDQogICAgICAvLyB0eC5pbnB1dCA9IDB4ICsgNC1ieXRlIHNlbGVjdG9yICsgZW5jb2RlZCBwYXJhbXMsIHNvIHNsaWNlKDEwKQ0KICAgICAgY29uc3QgaW5wdXREYXRhID0gdHguaW5wdXQuc2xpY2UoMTApOw0KICAgICAgLy8gQUJJOiBmdW5jdGlvbiByZW1pbnQodWludDI1NltdIGlkcywgYnl0ZXMgcHJvb2YsIGJ5dGVzIHNhbHQpDQogICAgICBjb25zdCBwYXJhbXMgPSB3ZWIzLmV0aC5hYmkuZGVjb2RlUGFyYW1ldGVycyhbJ3VpbnQyNTZbXScsICdieXRlcycsICdieXRlcyddLCBpbnB1dERhdGEpOw0KDQogICAgICBsZXQgYWN0ZWRPbklkcyA9IHBhcmFtc1swXTsNCiAgICAgIGlmICghQXJyYXkuaXNBcnJheShhY3RlZE9uSWRzKSkgYWN0ZWRPbklkcyA9IFthY3RlZE9uSWRzXTsNCg0KICAgICAgY29uc3Qgc2FsdFJhdyA9IHBhcmFtc1syXTsNCiAgICAgIGNvbnN0IHNhbHRLZXkgPSBub3JtYWxpemVTYWx0KHNhbHRSYXcpOyAvLyBmb3IgbWFwIGtleXMgb25seQ0KDQogICAgICBmb3IgKGNvbnN0IG1pbnRJZFN0ciBvZiBhY3RlZE9uSWRzKSB7DQogICAgICAgIGNvbnN0IG1pbnRJZCA9IHBhcnNlSW50KG1pbnRJZFN0cik7DQoNCiAgICAgICAgLy8gY29tcHV0ZSBDUkVBVEUyIHByb3h5OyBza2lwIGludmFsaWRzDQogICAgICAgIGNvbnN0IHByb3h5QWRkcmVzcyA9IGNvbXB1dGVQcm94eUFkZHJlc3Mod2ViMywgQ09OVFJBQ1RfQUREUkVTUywgbWludElkLCBzYWx0UmF3LCBhZGRyZXNzKTsNCiAgICAgICAgaWYgKCFwcm94eUFkZHJlc3MpIHsNCiAgICAgICAgICBjb25zb2xlLndhcm4oYFNraXBwaW5nIGFjdGlvbiB3aXRoIGludmFsaWQgX3NhbHQgZm9yIHR4ICR7dHguaGFzaH1gKTsNCiAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnN0IHVuaXF1ZUtleSA9IGAke21pbnRJZH0tJHtzYWx0S2V5fWA7DQoNCiAgICAgICAgLy8gRmluZCB0aGUgZXZlbnQgbG9nIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhpcyBwcm94eSAodG9waWNzWzFdIGVuY29kZXMgdGhlIHByb3h5KQ0KICAgICAgICBjb25zdCBtYXRjaGluZ0xvZyA9IGxvZ3MuZmluZCgNCiAgICAgICAgICBsb2cgPT4gbG9nLnRvcGljcz8uaW5jbHVkZXMoRVZFTlRfVE9QSUMpICYmDQogICAgICAgICAgICAoJzB4JyArIGxvZy50b3BpY3NbMV0uc2xpY2UoMjYpKS50b0xvd2VyQ2FzZSgpID09PSBwcm94eUFkZHJlc3MudG9Mb3dlckNhc2UoKQ0KICAgICAgICApOw0KDQogICAgICAgIGNvbnN0IGFjdGlvbkRhdGEgPSB7IGhhc2g6IHR4Lmhhc2gsIHRpbWVTdGFtcDogTnVtYmVyKHR4LnRpbWVTdGFtcCkgfTsNCiAgICAgICAgaWYgKG1hdGNoaW5nTG9nKSB7DQogICAgICAgICAgLy8gZXZlbnQgY2FycmllcyB0ZXJtICYgcmFuayAodWludDI1NiwgdWludDI1NikNCiAgICAgICAgICBjb25zdCBkZWNvZGVkTG9nID0gd2ViMy5ldGguYWJpLmRlY29kZVBhcmFtZXRlcnMoWyd1aW50MjU2JywgJ3VpbnQyNTYnXSwgbWF0Y2hpbmdMb2cuZGF0YSk7DQogICAgICAgICAgYWN0aW9uRGF0YS50ZXJtID0gZGVjb2RlZExvZ1swXTsNCiAgICAgICAgICBhY3Rpb25EYXRhLnJhbmsgPSBkZWNvZGVkTG9nWzFdOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCFpbmZvW3VuaXF1ZUtleV0pIGluZm9bdW5pcXVlS2V5XSA9IFtdOw0KICAgICAgICBpbmZvW3VuaXF1ZUtleV0ucHVzaChhY3Rpb25EYXRhKTsNCiAgICAgIH0NCiAgICB9IGNhdGNoIChlKSB7DQogICAgICBjb25zb2xlLndhcm4oIkNvdWxkIG5vdCBkZWNvZGUgcG9zdC1taW50IGFjdGlvbiB0cmFuc2FjdGlvbjoiLCB0eC5oYXNoLCBlKTsNCiAgICB9DQogIH0NCg0KICAvLyBTb3J0IGVhY2ggYWN0aW9uIGxpc3QgY2hyb25vbG9naWNhbGx5DQogIGZvciAoY29uc3Qga2V5IGluIGluZm8pIHsNCiAgICBpbmZvW2tleV0uc29ydCgoYSwgYikgPT4gYS50aW1lU3RhbXAgLSBiLnRpbWVTdGFtcCk7DQogIH0NCg0KICAvLyAtLS0tLS0tLSBNZXJnZSB3aXRoIHByaW9yIG1hcCBhbmQgcGVyc2lzdCAtLS0tLS0tLQ0KICBjb25zdCBtZXJnZWQgPSB7IC4uLnByaW9yIH07DQogIGxldCBuZXdBY3Rpb25Db3VudCA9IDA7DQoNCiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaW5mbykpIHsNCiAgICBjb25zdCBleGlzdGluZyA9IEFycmF5LmlzQXJyYXkobWVyZ2VkW2tleV0pID8gbWVyZ2VkW2tleV0gOiBbXTsNCiAgICBjb25zdCBpbmNvbWluZyA9IGluZm9ba2V5XTsNCg0KICAgIC8vIGRlLWR1cGUgYnkgKGhhc2h8dGltZXN0YW1wKSBzaWduYXR1cmUNCiAgICBjb25zdCBzZWVuID0gbmV3IFNldChleGlzdGluZy5tYXAoYSA9PiBgJHthLmhhc2h9fCR7YS50aW1lU3RhbXB9YCkpOw0KICAgIGZvciAoY29uc3QgYSBvZiBpbmNvbWluZykgew0KICAgICAgY29uc3Qgc2lnID0gYCR7YS5oYXNofXwke2EudGltZVN0YW1wfWA7DQogICAgICBpZiAoIXNlZW4uaGFzKHNpZykpIHsNCiAgICAgICAgZXhpc3RpbmcucHVzaChhKTsNCiAgICAgICAgc2Vlbi5hZGQoc2lnKTsNCiAgICAgICAgbmV3QWN0aW9uQ291bnQrKzsNCiAgICAgIH0NCiAgICB9DQogICAgZXhpc3Rpbmcuc29ydCgoYSwgYikgPT4gYS50aW1lU3RhbXAgLSBiLnRpbWVTdGFtcCk7DQogICAgbWVyZ2VkW2tleV0gPSBleGlzdGluZzsNCiAgfQ0KDQogIHJlbWludENhY2hlW2FkZHJlc3NdID0gbWVyZ2VkOw0KICB0cnkgeyBhd2FpdCBwdXRBY3Rpb25zQ2FjaGUoZGIsIGFkZHJlc3MsIG1lcmdlZCk7IH0gY2F0Y2ggKF8pIHt9DQoNCiAgaWYgKHByb2dyZXNzRWwpIHByb2dyZXNzRWwudGV4dENvbnRlbnQgPSBgUG9zdC1taW50IGFjdGlvbnMgYW5hbHl6ZWQ6ICR7T2JqZWN0LmtleXMoaW5mbykubGVuZ3RofWA7DQogIGlmIChldHJFbCkgZXRyRWwudGV4dENvbnRlbnQgPSAiIjsNCg0KICBjbGVhckludGVydmFsKGhlYXJ0YmVhdCk7DQogIHJldHVybiB7IGFjdGlvbnM6IG1lcmdlZCwgZmV0Y2hlZCwgbmV3QWN0aW9uQ291bnQgfTsNCn0NCg0KKGZ1bmN0aW9uIGxvYWRVc2VyU2V0dGluZ3MoKXsNCiAgLy8gTG9hZCBFdGhlcmV1bSBhZGRyZXNzZXMNCiAgY29uc3QgYWRkcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aEFkZHJlc3MiKTsNCiAgaWYgKGFkZHJJbnB1dCkgew0KICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImV0aEFkZHJlc3MiKTsNCiAgICBpZiAoc2F2ZWQpIGFkZHJJbnB1dC52YWx1ZSA9IHNhdmVkOw0KICB9DQoNCiAgLy8gTG9hZCBjdXN0b20gUlBDcw0KICBjb25zdCBycGNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjdXN0b21SUEMiKTsNCiAgaWYgKHJwY0lucHV0KSB7DQogICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VzdG9tUlBDIik7DQogICAgaWYgKHNhdmVkKSBycGNJbnB1dC52YWx1ZSA9IHNhdmVkOw0KICB9DQoNCiAgLy8gTG9hZCBFdGhlcnNjYW4gQVBJIEtleQ0KICBjb25zdCBhcGlLZXlJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhlcnNjYW5BcGlLZXkiKTsNCiAgaWYgKGFwaUtleUlucHV0KSB7DQogICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZXRoZXJzY2FuQXBpS2V5Iik7DQogICAgaWYgKHNhdmVkKSBhcGlLZXlJbnB1dC52YWx1ZSA9IHNhdmVkOw0KICB9DQoNCiAgLy8gTG9hZCBDaHVuayBTaXplDQogIGNvbnN0IGNodW5rSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2h1bmtTaXplIik7DQogIGlmIChjaHVua0lucHV0KSB7DQogICAgY2h1bmtJbnB1dC52YWx1ZSA9IFN0cmluZyhnZXRDaHVua1NpemUoKSk7DQogIH0NCg0KICAvLyBMb2FkIEdhcyBSZWZyZXNoIEludGVydmFsDQogIGNvbnN0IGdhc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhc1JlZnJlc2hTZWNvbmRzIik7DQogIGlmIChnYXNJbnB1dCkgew0KICAgIGdhc0lucHV0LnZhbHVlID0gU3RyaW5nKGdldEdhc1JlZnJlc2hNcygpIC8gMTAwMCk7DQogIH0NCg0KfSkoKTsNCg0KKGZ1bmN0aW9uIHdpcmVTZXR0aW5nc1NhdmVzKCl7DQogIC8vIEhlbHBlciB0byBhdHRhY2ggc2F2ZSBoYW5kbGVycyB0byB0ZXh0L3RleHRhcmVhIGlucHV0cw0KICBmdW5jdGlvbiBhdHRhY2hTYXZlKGlucHV0LCBrZXksIHt0b2FzdExhYmVsLCBzYW5pdGl6ZX0gPSB7fSkgew0KICAgIGlmICghaW5wdXQpIHJldHVybjsNCiAgICBjb25zdCBzYXZlID0gKCkgPT4gew0KICAgICAgbGV0IHZhbCA9IGlucHV0LnZhbHVlOw0KICAgICAgaWYgKHR5cGVvZiBzYW5pdGl6ZSA9PT0gImZ1bmN0aW9uIikgdmFsID0gc2FuaXRpemUodmFsKTsNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsKTsNCiAgICAgIGlmICh0eXBlb2Ygc2hvd1RvYXN0ID09PSAiZnVuY3Rpb24iICYmIHRvYXN0TGFiZWwpIHsNCiAgICAgICAgc2hvd1RvYXN0KGAke3RvYXN0TGFiZWx9IHNhdmVkYCwgInN1Y2Nlc3MiKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIHNhdmUpOw0KICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCBzYXZlKTsNCiAgfQ0KDQogIC8vIEFkZHJlc3NlcywgQ3VzdG9tIFJQQ3MsIEV0aGVyc2NhbiBBUEkgS2V5ICh1bmNoYW5nZWQpDQogIGF0dGFjaFNhdmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aEFkZHJlc3MiKSwgImV0aEFkZHJlc3MiLCB7IHRvYXN0TGFiZWw6ICJBZGRyZXNzZXMiIH0pOw0KICBhdHRhY2hTYXZlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjdXN0b21SUEMiKSwgImN1c3RvbVJQQyIsIHsgdG9hc3RMYWJlbDogIkN1c3RvbSBSUENzIiB9KTsNCiAgYXR0YWNoU2F2ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoZXJzY2FuQXBpS2V5IiksICJldGhlcnNjYW5BcGlLZXkiLCB7IHRvYXN0TGFiZWw6ICJFdGhlcnNjYW4gQVBJIGtleSIsIHNhbml0aXplOiB2ID0+IHYudHJpbSgpIH0pOw0KDQoNCiAgY29uc3QgZ2FzUmVmcmVzaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhc1JlZnJlc2hTZWNvbmRzIik7DQogIGlmIChnYXNSZWZyZXNoSW5wdXQpIHsNCiAgICBjb25zdCBwZXJzaXN0R2FzUmVmcmVzaCA9ICh2YWwpID0+IHsNCiAgICAgIGNvbnN0IHYgPSBwYXJzZUludCh2YWwsIDEwKTsNCiAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikgJiYgdiA+PSA1ICYmIHYgPD0gNjApIHsNCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImdhc1JlZnJlc2hTZWNvbmRzIiwgU3RyaW5nKHYpKTsNCiAgICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICJmdW5jdGlvbiIpIHNob3dUb2FzdChgR2FzIHJlZnJlc2ggaW50ZXJ2YWwgc2F2ZWQgKCR7dn1zKWAsICJzdWNjZXNzIik7DQogICAgICAgIG1hcmtWYWxpZGl0eSgiZmllbGQtZ2FzUmVmcmVzaFNlY29uZHMiLCB0cnVlKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0eXBlb2Ygc2hvd1RvYXN0ID09PSAiZnVuY3Rpb24iKSBzaG93VG9hc3QoIkdhcyByZWZyZXNoIG11c3QgYmUgYmV0d2VlbiA1IGFuZCA2MCBzZWNvbmRzLiIsICJlcnJvciIpOw0KICAgICAgICBnYXNSZWZyZXNoSW5wdXQudmFsdWUgPSBTdHJpbmcoZ2V0R2FzUmVmcmVzaE1zKCkgLyAxMDAwKTsgLy8gcmV2ZXJ0DQogICAgICAgIG1hcmtWYWxpZGl0eSgiZmllbGQtZ2FzUmVmcmVzaFNlY29uZHMiLCBmYWxzZSwgIkdhcyByZWZyZXNoIG11c3QgYmUgYmV0d2VlbiA1IGFuZCA2MCBzZWNvbmRzLiIpOw0KICAgICAgfQ0KICAgIH07DQogICAgZ2FzUmVmcmVzaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHBlcnNpc3RHYXNSZWZyZXNoKGdhc1JlZnJlc2hJbnB1dC52YWx1ZSkpOw0KICAgIGdhc1JlZnJlc2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgKCkgPT4gcGVyc2lzdEdhc1JlZnJlc2goZ2FzUmVmcmVzaElucHV0LnZhbHVlKSk7DQogICAgZ2FzUmVmcmVzaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCAoZSkgPT4gew0KICAgICAgaWYgKGUua2V5ID09PSAiRW50ZXIiKSB7IGUucHJldmVudERlZmF1bHQoKTsgcGVyc2lzdEdhc1JlZnJlc2goZ2FzUmVmcmVzaElucHV0LnZhbHVlKTsgfQ0KICAgIH0pOw0KICB9DQoNCiAgLy8gQ2h1bmsgU2l6ZSAodmFsaWRhdGVkIG51bWJlciA+PSAxMDAwMCkNCiAgY29uc3QgY2h1bmtJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaHVua1NpemUiKTsNCiAgaWYgKGNodW5rSW5wdXQpIHsNCiAgICBjb25zdCBwZXJzaXN0Q2h1bmtTaXplID0gKHZhbCkgPT4gew0KICAgICAgY29uc3QgdiA9IHBhcnNlSW50KHZhbCwgMTApOw0KICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZSh2KSAmJiB2ID49IDEwMDAwMCkgew0KICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2h1bmtTaXplIiwgU3RyaW5nKHYpKTsNCiAgICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICJmdW5jdGlvbiIpIHNob3dUb2FzdChgQ2h1bmsgc2l6ZSBzYXZlZCAoJHt2fSlgLCAic3VjY2VzcyIpOw0KICAgICAgICBtYXJrVmFsaWRpdHkoImZpZWxkLWNodW5rU2l6ZSIsIHRydWUpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICJmdW5jdGlvbiIpIHNob3dUb2FzdCgiQ2h1bmsgc2l6ZSBtdXN0IGJlIGF0IGxlYXN0IDEwMCwwMDAuIiwgImVycm9yIik7DQogICAgICAgIGNodW5rSW5wdXQudmFsdWUgPSBTdHJpbmcoZ2V0Q2h1bmtTaXplKCkpOw0KICAgICAgICBtYXJrVmFsaWRpdHkoImZpZWxkLWNodW5rU2l6ZSIsIGZhbHNlLCAiQ2h1bmsgU2l6ZSBtdXN0IGJlIDEwMCwwMDAgb3IgaGlnaGVyLiIpOw0KICAgICAgfQ0KICAgIH07DQogICAgY2h1bmtJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCAoKSA9PiBwZXJzaXN0Q2h1bmtTaXplKGNodW5rSW5wdXQudmFsdWUpKTsNCiAgICBjaHVua0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCAgICgpID0+IHBlcnNpc3RDaHVua1NpemUoY2h1bmtJbnB1dC52YWx1ZSkpOw0KICAgIGNodW5rSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIChlKSA9PiB7DQogICAgICBpZiAoZS5rZXkgPT09ICJFbnRlciIpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBwZXJzaXN0Q2h1bmtTaXplKGNodW5rSW5wdXQudmFsdWUpOyB9DQogICAgfSk7DQogIH0NCn0pKCk7DQoNCi8vIC0tLSBSZXF1aXJlZCBmaWVsZHMgVUkgaGVscGVycyAtLS0NCmZ1bmN0aW9uIG1hcmtWYWxpZGl0eShmaWVsZElkLCBvaywgbXNnKSB7DQogIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRJZCk7DQogIGlmICghZmllbGQpIHJldHVybjsNCiAgZmllbGQuY2xhc3NMaXN0LnRvZ2dsZSgiaW52YWxpZCIsICFvayk7DQogIGNvbnN0IGVyckVsID0gZmllbGQucXVlcnlTZWxlY3RvcigiLmVycm9yLW1lc3NhZ2UiKTsNCiAgaWYgKGVyckVsKSBlcnJFbC50ZXh0Q29udGVudCA9IG1zZyB8fCBlcnJFbC50ZXh0Q29udGVudDsNCn0NCg0KZnVuY3Rpb24gaXNOb25FbXB0eVRleHRhcmVhKGlkKSB7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KICByZXR1cm4gISFlbCAmJiBlbC52YWx1ZS50cmltKCkubGVuZ3RoID4gMDsNCn0NCmZ1bmN0aW9uIGlzTm9uRW1wdHlJbnB1dChpZCkgew0KICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsNCiAgcmV0dXJuICEhZWwgJiYgZWwudmFsdWUudHJpbSgpLmxlbmd0aCA+IDA7DQp9DQoNCi8vIC0tLSBFdGhlcmV1bSBhZGRyZXNzIHZhbGlkYXRpb24gaGVscGVycyAtLS0NCmZ1bmN0aW9uIGlzVmFsaWRFdGhBZGRyZXNzKGFkZHIpew0KICBpZiAoIWFkZHIgfHwgdHlwZW9mIGFkZHIgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7DQogIGNvbnN0IHMgPSBhZGRyLnRyaW0oKTsNCiAgdHJ5IHsNCiAgICBpZiAod2luZG93LldlYjMgJiYgV2ViMy51dGlscyAmJiB0eXBlb2YgV2ViMy51dGlscy5pc0FkZHJlc3MgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgIHJldHVybiBXZWIzLnV0aWxzLmlzQWRkcmVzcyhzKTsNCiAgICB9DQogIH0gY2F0Y2ggKF8pIHt9DQogIC8vIEZhbGxiYWNrOiBiYXNpYyBoZXggZm9ybWF0IGNoZWNrDQogIHJldHVybiAvXjB4WzAtOWEtZkEtRl17NDB9JC8udGVzdChzKTsNCn0NCg0KZnVuY3Rpb24gdmFsaWRhdGVFdGhBZGRyZXNzZXNGaWVsZCgpew0KICBjb25zdCBmaWVsZElkID0gJ2ZpZWxkLWV0aEFkZHJlc3MnOw0KICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldGhBZGRyZXNzJyk7DQogIGlmICghZWwpIHJldHVybiB0cnVlOw0KICBjb25zdCByYXcgPSAoZWwudmFsdWUgfHwgJycpLnRyaW0oKTsNCiAgaWYgKCFyYXcpIHsNCiAgICBtYXJrVmFsaWRpdHkoZmllbGRJZCwgZmFsc2UsICdBdCBsZWFzdCBvbmUgRXRoZXJldW0gYWRkcmVzcyBpcyByZXF1aXJlZC4nKTsNCiAgICByZXR1cm4gZmFsc2U7DQogIH0NCiAgY29uc3QgbGluZXMgPSByYXcuc3BsaXQoJ1xuJykubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTsNCiAgY29uc3QgaW52YWxpZCA9IFtdOw0KICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7DQogICAgY29uc3QgYSA9IGxpbmVzW2ldOw0KICAgIGlmICghaXNWYWxpZEV0aEFkZHJlc3MoYSkpIGludmFsaWQucHVzaCh7IGxpbmU6IGkgKyAxLCB2YWx1ZTogYSB9KTsNCiAgfQ0KICBpZiAoaW52YWxpZC5sZW5ndGgpIHsNCiAgICBjb25zdCBmaXJzdCA9IGludmFsaWRbMF07DQogICAgY29uc3QgbXNnID0gYEludmFsaWQgRXRoZXJldW0gYWRkcmVzcyBvbiBsaW5lICR7Zmlyc3QubGluZX06ICR7Zmlyc3QudmFsdWV9YDsNCiAgICBtYXJrVmFsaWRpdHkoZmllbGRJZCwgZmFsc2UsIG1zZyk7DQogICAgcmV0dXJuIGZhbHNlOw0KICB9DQogIG1hcmtWYWxpZGl0eShmaWVsZElkLCB0cnVlKTsNCiAgcmV0dXJuIHRydWU7DQp9DQoNCi8vIFZhbGlkYXRlIGFsbCByZXF1aXJlZCBzZXR0aW5nczsgcmV0dXJucyBib29sZWFuDQpmdW5jdGlvbiB2YWxpZGF0ZVNldHRpbmdzKCkgew0KICBjb25zdCBva0FkZHIgID0gaXNOb25FbXB0eVRleHRhcmVhKCJldGhBZGRyZXNzIik7DQogIG1hcmtWYWxpZGl0eSgiZmllbGQtZXRoQWRkcmVzcyIsIG9rQWRkciwgIkF0IGxlYXN0IG9uZSBFdGhlcmV1bSBhZGRyZXNzIGlzIHJlcXVpcmVkLiIpOw0KDQogIGNvbnN0IG9rUlBDICAgPSBpc05vbkVtcHR5VGV4dGFyZWEoImN1c3RvbVJQQyIpOw0KICBtYXJrVmFsaWRpdHkoImZpZWxkLWN1c3RvbVJQQyIsIG9rUlBDLCAiRW50ZXIgYXQgbGVhc3Qgb25lIFJQQyBlbmRwb2ludC4iKTsNCg0KICBjb25zdCBva0tleSAgID0gaXNOb25FbXB0eUlucHV0KCJldGhlcnNjYW5BcGlLZXkiKTsNCiAgbWFya1ZhbGlkaXR5KCJmaWVsZC1ldGhlcnNjYW5BcGlLZXkiLCBva0tleSwgIkV0aGVyc2NhbiBBUEkga2V5IGlzIHJlcXVpcmVkLiIpOw0KICB0cnkgeyBjb25zdCBoZWxwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldGhlcnNjYW5BcGlIZWxwJyk7IGlmKGhlbHApIGhlbHAuc3R5bGUuZGlzcGxheSA9IG9rS2V5ID8gJ25vbmUnIDogJ2Jsb2NrJzsgfSBjYXRjaCB7fQ0KDQogIGNvbnN0IGNodW5rViAgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2h1bmtTaXplIik/LnZhbHVlIHx8ICIiLCAxMCk7DQogIGNvbnN0IG9rQ2h1bmsgPSBOdW1iZXIuaXNGaW5pdGUoY2h1bmtWKSAmJiBjaHVua1YgPj0gMTAwMDA7DQogIG1hcmtWYWxpZGl0eSgiZmllbGQtY2h1bmtTaXplIiwgb2tDaHVuaywgIkNodW5rIFNpemUgbXVzdCBiZSAxMCwwMDAgb3IgaGlnaGVyLiIpOw0KDQogIGNvbnN0IGdhc1YgICAgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FzUmVmcmVzaFNlY29uZHMiKT8udmFsdWUgfHwgIiIsIDEwKTsNCiAgY29uc3Qgb2tHYXMgICA9IE51bWJlci5pc0Zpbml0ZShnYXNWKSAmJiBnYXNWID49IDUgJiYgZ2FzViA8PSA2MDsNCiAgbWFya1ZhbGlkaXR5KCJmaWVsZC1nYXNSZWZyZXNoU2Vjb25kcyIsIG9rR2FzLCAiR2FzIHJlZnJlc2ggbXVzdCBiZSBiZXR3ZWVuIDUgYW5kIDYwIHNlY29uZHMuIik7DQoNCiAgcmV0dXJuIG9rQWRkciAmJiBva1JQQyAmJiBva0tleSAmJiBva0NodW5rICYmIG9rR2FzOw0KfQ0KDQovLyBSdW4gdmFsaWRhdGlvbiBvbiBsb2FkIGFuZCB3aGVuZXZlciB1c2VyIGVkaXRzIHJlcXVpcmVkIGZpZWxkcw0Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCB2YWxpZGF0ZVNldHRpbmdzKTsNClsiZXRoQWRkcmVzcyIsImN1c3RvbVJQQyIsImV0aGVyc2NhbkFwaUtleSIsImNodW5rU2l6ZSIsImdhc1JlZnJlc2hTZWNvbmRzIl0uZm9yRWFjaChpZCA9PiB7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KICBpZiAoIWVsKSByZXR1cm47DQogIGVsLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgdmFsaWRhdGVTZXR0aW5ncyk7DQogIGVsLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCB2YWxpZGF0ZVNldHRpbmdzKTsNCn0pOw0KDQovLyBWYWxpZGF0ZSBFdGhlcmV1bSBhZGRyZXNzZXMgb24gYmx1ciBzcGVjaWZpY2FsbHkgZm9yIEFkZHJlc3MgdGV4dGFyZWENCigoKSA9PiB7DQogIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V0aEFkZHJlc3MnKTsNCiAgaWYgKCFlbCkgcmV0dXJuOw0KICBlbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdmFsaWRhdGVFdGhBZGRyZXNzZXNGaWVsZCk7DQp9KSgpOw0KDQoNCg0KLy8gLS0tIFNDQU4gRlVOQ1RJT04gLS0tDQphc3luYyBmdW5jdGlvbiBzY2FuTWludHMoKSB7DQogIC8vIERFTEVURUQ6IEluaXRpYWwgYmxvY2sgdGhhdCBtYW5hZ2VkIHRoZSBzY2FuIGJ1dHRvbidzIHN0YXRlLg0KDQogIGNvbnN0IGFkZHJlc3NJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhBZGRyZXNzIikudmFsdWUudHJpbSgpOw0KICBpZiAoIWFkZHJlc3NJbnB1dCkgew0KICAgIGFsZXJ0KCJQbGVhc2UgZW50ZXIgYXQgbGVhc3Qgb25lIEV0aGVyZXVtIGFkZHJlc3MuIik7DQogICAgLy8gREVMRVRFRDogcmVzdG9yZVNjYW5CdG4oKTsNCiAgICByZXR1cm47DQogIH0NCiAgY29uc3QgYWRkcmVzc2VzID0gYWRkcmVzc0lucHV0LnNwbGl0KCJcbiIpLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7DQogIGNvbnN0IHJwY0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVJQQyIpLnZhbHVlLnRyaW0oKTsNCiAgcnBjRW5kcG9pbnRzID0gcnBjSW5wdXQuc3BsaXQoIlxuIikubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTsNCiAgY29uc3QgZXRoZXJzY2FuQXBpS2V5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aGVyc2NhbkFwaUtleSIpLnZhbHVlLnRyaW0oKTsNCiAgaWYgKCFldGhlcnNjYW5BcGlLZXkpIHsNCiAgICBhbGVydCgiUGxlYXNlIGVudGVyIGFuIEV0aGVyc2NhbiBBUEkgS2V5LiIpOw0KICAgIC8vIERFTEVURUQ6IHJlc3RvcmVTY2FuQnRuKCk7DQogICAgcmV0dXJuOw0KICB9DQogIHNhdmVVc2VyUHJlZmVyZW5jZXMoYWRkcmVzc0lucHV0LCBycGNJbnB1dCwgZXRoZXJzY2FuQXBpS2V5KTsNCg0KICB3ZWIzID0gbmV3IFdlYjMocnBjRW5kcG9pbnRzWzBdKTsNCiAgRVRIRVJTQ0FOX0NIQUlOX0lEID0gYXdhaXQgd2ViMy5ldGguZ2V0Q2hhaW5JZCgpOw0KDQogIGNvbnRyYWN0ID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KGNvaW50b29sQWJpLCBDT05UUkFDVF9BRERSRVNTKTsNCiAgY29udHJhY3Quc2V0UHJvdmlkZXIod2ViMy5jdXJyZW50UHJvdmlkZXIpOw0KDQogIHdpbmRvdy5wcm9ncmVzc1VJLnNob3codHJ1ZSk7DQogIHdpbmRvdy5wcm9ncmVzc1VJLnNldFR5cGUoJ0NvaW50b29sJyk7DQogIGNvbnN0IGFkZHJlc3NQcm9ncmVzc1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkcmVzc1Byb2dyZXNzVGV4dCIpOw0KICBjb25zdCB0b2tlblByb2dyZXNzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRva2VuUHJvZ3Jlc3NCYXIiKTsNCiAgY29uc3QgdG9rZW5Qcm9ncmVzc1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9rZW5Qcm9ncmVzc1RleHQiKTsNCiAgY29uc3QgZXRyVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldHJUZXh0Iik7DQoNCiAgY29uc3QgZm9yY2VSZXNjYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9yY2VSZXNjYW4nKS5jaGVja2VkOw0KDQogIGZvciAobGV0IGkgPSAwOyBpIDwgYWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7DQogICAgY29uc3QgYWRkciA9IGFkZHJlc3Nlc1tpXTsNCiAgICBwcm9ncmVzc1VJLnNldEFkZHJlc3MoaSsxLCBhZGRyZXNzZXMubGVuZ3RoLCBhZGRyKTsNCg0KICAgIGlmIChmb3JjZVJlc2Nhbikgew0KICAgICAgaWYgKHJlbWludENhY2hlW2FkZHJdKSBkZWxldGUgcmVtaW50Q2FjaGVbYWRkcl07DQogICAgICB0cnkgeyBpZiAoZGJJbnN0YW5jZSkgYXdhaXQgY2xlYXJBY3Rpb25zQ2FjaGUoZGJJbnN0YW5jZSwgYWRkcik7IH0gY2F0Y2ggKF8pIHt9DQogICAgfQ0KDQogICAgaWYgKCFyZW1pbnRDYWNoZVthZGRyXSkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgaWYgKGRiSW5zdGFuY2UpIHJlbWludENhY2hlW2FkZHJdID0gYXdhaXQgZ2V0QWN0aW9uc0NhY2hlKGRiSW5zdGFuY2UsIGFkZHIpOw0KICAgICAgfSBjYXRjaCAoXykgeyAvKiBpZ25vcmUgKi8gfQ0KICAgIH0NCg0KICAgIGNvbnN0IHsgYWN0aW9uczogcG9zdE1pbnRBY3Rpb25zLCBmZXRjaGVkLCBuZXdBY3Rpb25Db3VudCB9ID0NCiAgICAgIGF3YWl0IGZldGNoUG9zdE1pbnRBY3Rpb25zKGFkZHIsIGV0aGVyc2NhbkFwaUtleSk7DQoNCiAgICBpZiAoIWZvcmNlUmVzY2FuICYmIGZldGNoZWQgPT09IDApIHsNCiAgICAgIHRva2VuUHJvZ3Jlc3NCYXIudmFsdWUgPSAwOw0KICAgICAgdG9rZW5Qcm9ncmVzc0Jhci5tYXggPSAxOw0KICAgICAgdG9rZW5Qcm9ncmVzc1RleHQudGV4dENvbnRlbnQgPQ0KICAgICAgICBgTm8gbmV3IHRyYW5zYWN0aW9ucyFgOw0KICAgICAgY29udGludWU7DQogICAgfQ0KDQogICAgaWYgKG5ld0FjdGlvbkNvdW50ID09PSAwKSB7DQogICAgICB0b2tlblByb2dyZXNzVGV4dC50ZXh0Q29udGVudCA9IGBObyBuZXcgcmVtaW50IGFjdGlvbnMgZm9yICR7c2hvcnRBZGRyKGFkZHIpfSwgY2hlY2tpbmcgZm9yIG5ldyBtaW50c+KApmA7DQogICAgfQ0KDQogICAgbGV0IG1heElkOw0KICAgIHRyeSB7DQogICAgICBtYXhJZCA9IGF3YWl0IG1ha2VScGNSZXF1ZXN0KCgpID0+IGNvbnRyYWN0Lm1ldGhvZHMubWFwKGFkZHIsIFNBTFRfQllURVNfVE9fUVVFUlkpLmNhbGwoKSwgYEdldCBNYXggSUQgZm9yICR7YWRkcn1gKTsNCiAgICAgIHRva2VuUHJvZ3Jlc3NCYXIubWF4ID0gbWF4SWQ7DQogICAgICB0b2tlblByb2dyZXNzVGV4dC50ZXh0Q29udGVudCA9IGBGb3VuZCAke21heElkfSBwb3RlbnRpYWwgbWludHMgZm9yIHNhbHQgJHtTQUxUX0JZVEVTX1RPX1FVRVJZfS4gQW5hbHl6aW5nLi4uYDsNCiAgICB9IGNhdGNoKGUpIHsNCiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gZmV0Y2ggbWludCBjb3VudCBmb3IgJHthZGRyfS4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5gKTsNCiAgICAgIGNvbnRpbnVlOw0KICAgIH0NCg0KICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7DQogICAgbGV0IGxhc3RVaVVwZGF0ZSA9IDA7DQoNCiAgICBmb3IgKGxldCBtaW50SWQgPSAxOyBtaW50SWQgPD0gbWF4SWQ7IG1pbnRJZCsrKSB7DQogICAgICB0b2tlblByb2dyZXNzQmFyLnZhbHVlID0gbWludElkOw0KICAgICAgdG9rZW5Qcm9ncmVzc1RleHQudGV4dENvbnRlbnQgPSBgUHJvY2Vzc2luZyBtaW50ICR7bWludElkfSBvZiAke21heElkfS4uLmA7DQoNCiAgICAgIGNvbnN0IHVuaXF1ZUlkID0gYCR7bWludElkfS0ke2FkZHIudG9Mb3dlckNhc2UoKX1gOw0KICAgICAgY29uc3QgZXhpc3RpbmdNaW50ID0gYXdhaXQgZ2V0TWludEJ5VW5pcXVlSWQoZGJJbnN0YW5jZSwgdW5pcXVlSWQpOw0KICAgICAgY29uc3QgdW5pcXVlS2V5Rm9yTG9va3VwID0gYCR7bWludElkfS0ke25vcm1hbGl6ZVNhbHQoZXhpc3RpbmdNaW50Py5TYWx0IHx8IFNBTFRfQllURVNfVE9fUVVFUlkpfWA7DQoNCiAgICAgIGNvbnN0IHNjYW5uZWRBY3Rpb25zID0gcG9zdE1pbnRBY3Rpb25zW3VuaXF1ZUtleUZvckxvb2t1cF0gfHwgW107DQogICAgICBjb25zdCBzY2FubmVkQ291bnQgICA9IHNjYW5uZWRBY3Rpb25zLmxlbmd0aDsNCiAgICAgIGNvbnN0IHN0b3JlZENvdW50ICAgID0gZXhpc3RpbmdNaW50ID8gKGV4aXN0aW5nTWludC5BY3Rpb25zIHx8IFtdKS5sZW5ndGggOiAwOw0KDQogICAgICBjb25zdCBsYXRlc3RBY3Rpb25Db3VudCA9IE1hdGgubWF4KHNjYW5uZWRDb3VudCwgc3RvcmVkQ291bnQpOw0KDQogICAgICBpZiAoZXhpc3RpbmdNaW50ICYmICFmb3JjZVJlc2NhbiAmJiBsYXRlc3RBY3Rpb25Db3VudCA9PT0gc3RvcmVkQ291bnQpIHsNCiAgICAgICAgbWludElkICs9IE51bWJlcihleGlzdGluZ01pbnQuVk1VcykgLSAxOw0KICAgICAgICBjb250aW51ZTsNCiAgICAgIH0NCg0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcHJveHlBZGRyZXNzRm9yQ3JlYXRpb24gPSBjb21wdXRlUHJveHlBZGRyZXNzKHdlYjMsIENPTlRSQUNUX0FERFJFU1MsIG1pbnRJZCwgU0FMVF9CWVRFU19UT19RVUVSWSwgYWRkcik7DQogICAgICAgIGNvbnN0IGV0aGVyc2NhblVybCA9IGVzMnVybCgNCiAgICAgICAgICBgbW9kdWxlPWNvbnRyYWN0JmFjdGlvbj1nZXRjb250cmFjdGNyZWF0aW9uYCArDQogICAgICAgICAgYCZjb250cmFjdGFkZHJlc3Nlcz0ke3Byb3h5QWRkcmVzc0ZvckNyZWF0aW9ufWAgKw0KICAgICAgICAgIGAmYXBpa2V5PSR7ZXRoZXJzY2FuQXBpS2V5fWANCiAgICAgICAgKTsNCg0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGV0aGVyc2NhblVybCk7DQogICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgRXRoZXJzY2FuIEFQSSBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCk7DQogICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQoNCiAgICAgICAgaWYgKGRhdGEuc3RhdHVzICE9PSAiMSIgfHwgIWRhdGEucmVzdWx0IHx8IGRhdGEucmVzdWx0Lmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgIGNvbnNvbGUud2FybihgRXRoZXJzY2FuOiBObyBjcmVhdGlvbiBpbmZvIGZvciBtaW50ICR7bWludElkfWApOw0KICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3QgdHhIYXNoID0gZGF0YS5yZXN1bHRbMF0udHhIYXNoOw0KICAgICAgICBjb25zdCBibG9ja051bWJlciA9IGRhdGEucmVzdWx0WzBdLmJsb2NrTnVtYmVyOw0KICAgICAgICBjb25zdCB0eCA9IGF3YWl0IG1ha2VScGNSZXF1ZXN0KCgpID0+IHdlYjMuZXRoLmdldFRyYW5zYWN0aW9uKHR4SGFzaCksIGBUWCBEZXRhaWxzIGZvciAke21pbnRJZH1gKTsNCiAgICAgICAgbGV0IG1pbnRCbG9ja1RzID0gYmxvY2tUc0NhY2hlLmdldChibG9ja051bWJlcik7DQogICAgICAgIGlmIChtaW50QmxvY2tUcyA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgY29uc3QgYmxrID0gYXdhaXQgbWFrZVJwY1JlcXVlc3QoKCkgPT4gd2ViMy5ldGguZ2V0QmxvY2soYmxvY2tOdW1iZXIpLCBgQmxvY2sgRGV0YWlscyBmb3IgJHttaW50SWR9YCk7DQogICAgICAgICAgbWludEJsb2NrVHMgPSBOdW1iZXIoYmxrLnRpbWVzdGFtcCk7DQogICAgICAgICAgYmxvY2tUc0NhY2hlLnNldChibG9ja051bWJlciwgbWludEJsb2NrVHMpOw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCBtYWtlUnBjUmVxdWVzdCgoKSA9PiB3ZWIzLmV0aC5nZXRUcmFuc2FjdGlvblJlY2VpcHQodHhIYXNoKSwgYFJlY2VpcHQgZm9yICR7bWludElkfWApOw0KICAgICAgICBpZiAoIXR4IHx8IG1pbnRCbG9ja1RzID09PSB1bmRlZmluZWQgfHwgIXJlY2VpcHQpIHsNCiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgZnVsbCBkZXRhaWxzIGZvciBUWCAke3R4SGFzaH1gKTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBpbnB1dERhdGEgPSB0eC5pbnB1dC5zbGljZSgxMCk7DQogICAgICAgIGNvbnN0IGRlY29kZWRUeFBhcmFtcyA9IHdlYjMuZXRoLmFiaS5kZWNvZGVQYXJhbWV0ZXJzKFsndWludDI1NicsICdieXRlcycsICdieXRlcyddLCBpbnB1dERhdGEpOw0KICAgICAgICBjb25zdCBzYWx0ID0gZGVjb2RlZFR4UGFyYW1zWzJdOw0KICAgICAgICBjb25zdCB0b3RhbE1pbnRzSW5UeCA9IGRlY29kZWRUeFBhcmFtc1swXTsNCiAgICAgICAgY29uc3QgcHJveHlBZGRyZXNzID0gY29tcHV0ZVByb3h5QWRkcmVzcyh3ZWIzLCBDT05UUkFDVF9BRERSRVNTLCBtaW50SWQsIHNhbHQsIGFkZHIpOw0KICAgICAgICBjb25zdCBtYXRjaGluZ0xvZyA9IHJlY2VpcHQubG9ncy5maW5kKGxvZyA9PiBsb2cudG9waWNzLmluY2x1ZGVzKEVWRU5UX1RPUElDKSAmJiAoJzB4JyArIGxvZy50b3BpY3NbMV0uc2xpY2UoMjYpKS50b0xvd2VyQ2FzZSgpID09PSBwcm94eUFkZHJlc3MudG9Mb3dlckNhc2UoKSk7DQogICAgICAgIGlmICghbWF0Y2hpbmdMb2cpIHsNCiAgICAgICAgICBjb25zb2xlLndhcm4oYE5vIG1hdGNoaW5nIGxvZyBmb3IgbWludCAke21pbnRJZH0gaW4gVFggJHt0eEhhc2h9YCk7DQogICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBkZWNvZGVkTG9nID0gd2ViMy5ldGguYWJpLmRlY29kZVBhcmFtZXRlcnMoWyd1aW50MjU2JywgJ3VpbnQyNTYnXSwgbWF0Y2hpbmdMb2cuZGF0YSk7DQogICAgICAgIGNvbnN0IHRlcm0gPSBkZWNvZGVkTG9nWzBdOw0KICAgICAgICBjb25zdCBiYXNlUmFuayA9IGRlY29kZWRMb2dbMV07DQogICAgICAgIGNvbnN0IHVuaXF1ZUFjdGlvbktleSA9IGAke21pbnRJZH0tJHtub3JtYWxpemVTYWx0KHNhbHQpfWA7DQogICAgICAgIGNvbnN0IGFjdGlvbnNGcm9tU2NhbiA9IHBvc3RNaW50QWN0aW9uc1t1bmlxdWVBY3Rpb25LZXldIHx8IFtdOw0KDQogICAgICAgIGxldCBhY3Rpb25zID0gYWN0aW9uc0Zyb21TY2FuOw0KICAgICAgICBpZiAoZXhpc3RpbmdNaW50ICYmIEFycmF5LmlzQXJyYXkoZXhpc3RpbmdNaW50LkFjdGlvbnMpKSB7DQogICAgICAgICAgY29uc3QgcHJpb3IgPSBleGlzdGluZ01pbnQuQWN0aW9uczsNCiAgICAgICAgICBpZiAocHJpb3IubGVuZ3RoID4gYWN0aW9uc0Zyb21TY2FuLmxlbmd0aCkgew0KICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoYWN0aW9uc0Zyb21TY2FuLm1hcChhID0+IGAke2EuaGFzaH18JHthLnRpbWVTdGFtcH1gKSk7DQogICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBhY3Rpb25zRnJvbVNjYW4uc2xpY2UoKTsNCiAgICAgICAgICAgIGZvciAoY29uc3QgYSBvZiBwcmlvcikgew0KICAgICAgICAgICAgICBjb25zdCBzaWcgPSBgJHthLmhhc2h9fCR7YS50aW1lU3RhbXB9YDsNCiAgICAgICAgICAgICAgaWYgKCFzZWVuLmhhcyhzaWcpKSBtZXJnZWQucHVzaChhKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1lcmdlZC5zb3J0KChhLGIpID0+IE51bWJlcihhLnRpbWVTdGFtcCkgLSBOdW1iZXIoYi50aW1lU3RhbXApKTsNCiAgICAgICAgICAgIGFjdGlvbnMgPSBtZXJnZWQ7DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgY29uc3QgbWludFRpbWVzdGFtcCA9IG1pbnRCbG9ja1RzOw0KICAgICAgICBjb25zdCBsYXN0QWN0aW9uID0gYWN0aW9ucy5sZW5ndGggPiAwID8gYWN0aW9uc1thY3Rpb25zLmxlbmd0aCAtIDFdIDogbnVsbDsNCiAgICAgICAgY29uc3QgbGF0ZXN0QWN0aW9uVGltZXN0YW1wID0gbGFzdEFjdGlvbiA/IE51bWJlcihsYXN0QWN0aW9uLnRpbWVTdGFtcCkgOiBtaW50VGltZXN0YW1wOw0KICAgICAgICBsZXQgZWZmZWN0aXZlVGVybURheXM7DQogICAgICAgIGxldCBtYXR1cml0eVRpbWVzdGFtcDsNCg0KICAgICAgICBpZiAobGFzdEFjdGlvbiAmJiAobGFzdEFjdGlvbi50ZXJtID09IG51bGwgfHwgTnVtYmVyKGxhc3RBY3Rpb24udGVybSkgPT09IDApKSB7DQogICAgICAgICAgZWZmZWN0aXZlVGVybURheXMgPSBOdW1iZXIodGVybSk7DQogICAgICAgICAgbWF0dXJpdHlUaW1lc3RhbXAgPSAwOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGVmZmVjdGl2ZVRlcm1EYXlzID0gbGFzdEFjdGlvbiAmJiBsYXN0QWN0aW9uLnRlcm0gIT0gbnVsbA0KICAgICAgICAgICAgPyBOdW1iZXIobGFzdEFjdGlvbi50ZXJtKQ0KICAgICAgICAgICAgOiBOdW1iZXIodGVybSk7DQoNCiAgICAgICAgICBtYXR1cml0eVRpbWVzdGFtcCA9IGxhdGVzdEFjdGlvblRpbWVzdGFtcCArIChlZmZlY3RpdmVUZXJtRGF5cyAqIDg2NDAwKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGxldCBzdGF0dXM7DQogICAgICAgIGNvbnN0IG5vdyA9IGx1eG9uLkRhdGVUaW1lLm5vdygpLnRvU2Vjb25kcygpOw0KICAgICAgICBpZiAobWF0dXJpdHlUaW1lc3RhbXAgPiBub3cpIHsNCiAgICAgICAgICBzdGF0dXMgPSAiTWF0dXJpbmciOw0KICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbnMubGVuZ3RoID4gMCkgew0KICAgICAgICAgIHN0YXR1cyA9ICJDbGFpbWVkIjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBzdGF0dXMgPSAiQ2xhaW1hYmxlIjsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnN0IGVmZmVjdGl2ZUJhc2VSYW5rID0gKGxhc3RBY3Rpb24gJiYgbGFzdEFjdGlvbi5yYW5rICE9IG51bGwpDQogICAgICAgICAgPyBCaWdJbnQobGFzdEFjdGlvbi5yYW5rKQ0KICAgICAgICAgIDogQmlnSW50KGJhc2VSYW5rKTsNCg0KICAgICAgICBjb25zdCBzdGFydFJhbmsgPSBlZmZlY3RpdmVCYXNlUmFuazsNCiAgICAgICAgY29uc3QgZW5kUmFuayA9IHN0YXJ0UmFuayArIEJpZ0ludCh0b3RhbE1pbnRzSW5UeCkgLSAxbjsNCiAgICAgICAgY29uc3QgbWF0dXJpdHlEYXRlID0gKG1hdHVyaXR5VGltZXN0YW1wID4gMCkNCiAgICAgICAgICA/IGx1eG9uLkRhdGVUaW1lLmZyb21TZWNvbmRzKG1hdHVyaXR5VGltZXN0YW1wKQ0KICAgICAgICAgIDogbnVsbDsNCg0KICAgICAgICBjb25zdCBncm91cGVkTWludERldGFpbHMgPSB7DQogICAgICAgICAgSUQ6IHVuaXF1ZUlkLA0KICAgICAgICAgIE1pbnRfaWRfU3RhcnQ6IG1pbnRJZCwNCiAgICAgICAgICBUWF9IYXNoOiB0eEhhc2gsDQogICAgICAgICAgU2FsdDogc2FsdCwNCiAgICAgICAgICBSYW5rX1JhbmdlOiBgJHtzdGFydFJhbmsudG9TdHJpbmcoKX0tJHtlbmRSYW5rLnRvU3RyaW5nKCl9YCwNCiAgICAgICAgICBUZXJtOiBTdHJpbmcoZWZmZWN0aXZlVGVybURheXMpLA0KICAgICAgICAgIFZNVXM6IHRvdGFsTWludHNJblR4LnRvU3RyaW5nKCksDQogICAgICAgICAgU3RhdHVzOiBzdGF0dXMsDQogICAgICAgICAgQWN0aW9uczogYWN0aW9ucywNCiAgICAgICAgICBMYXRlc3RfQWN0aW9uX1RpbWVzdGFtcDogbGF0ZXN0QWN0aW9uVGltZXN0YW1wLA0KICAgICAgICAgIE1hdHVyaXR5X1RpbWVzdGFtcDogbWF0dXJpdHlUaW1lc3RhbXAsDQogICAgICAgICAgTWF0dXJpdHlfRGF0ZV9GbXQ6IG1hdHVyaXR5RGF0ZSA/IG1hdHVyaXR5RGF0ZS50b0Zvcm1hdCgneXl5eSBMTEwgZGQsIGhoOm1tIGEnKSA6ICIiLA0KICAgICAgICAgIG1hdHVyaXR5RGF0ZU9ubHk6ICAgbWF0dXJpdHlEYXRlID8gbWF0dXJpdHlEYXRlLnRvRm9ybWF0KCd5eXl5LU1NLWRkJykgOiAiIiwNCiAgICAgICAgICBPd25lcjogYWRkcg0KICAgICAgICB9Ow0KDQogICAgICAgIGlmIChleGlzdGluZ01pbnQgJiYgQXJyYXkuaXNBcnJheShleGlzdGluZ01pbnQuQWN0aW9ucykgJiYgZXhpc3RpbmdNaW50LkFjdGlvbnMubGVuZ3RoID4gYWN0aW9ucy5sZW5ndGgpIHsNCiAgICAgICAgICBhY3Rpb25zID0gZXhpc3RpbmdNaW50LkFjdGlvbnMuc2xpY2UoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGF3YWl0IHNhdmVNaW50KGRiSW5zdGFuY2UsIGdyb3VwZWRNaW50RGV0YWlscyk7DQogICAgICAgIGNvaW50b29sVGFibGUudXBkYXRlT3JBZGREYXRhKFtncm91cGVkTWludERldGFpbHNdKTsNCg0KICAgICAgICB1cGRhdGVDYWxlbmRhcigpOw0KICAgICAgICBtaW50SWQgKz0gTnVtYmVyKHRvdGFsTWludHNJblR4KSAtIDE7DQogICAgICB9IGNhdGNoKGVycikgew0KICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcHJvY2VzcyBtaW50IElEICR7bWludElkfTpgLCBlcnIpOw0KICAgICAgfQ0KDQogICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOw0KICAgICAgaWYgKG5vdyAtIGxhc3RVaVVwZGF0ZSA+IDEwMDApIHsNCiAgICAgICAgY29uc3QgZWxhcHNlZFNlY29uZHMgPSAobm93IC0gc3RhcnRUaW1lKSAvIDEwMDA7DQogICAgICAgIGlmIChlbGFwc2VkU2Vjb25kcyA+IDMpIHsNCiAgICAgICAgICBjb25zdCByYXRlID0gbWludElkIC8gTWF0aC5tYXgoZWxhcHNlZFNlY29uZHMsIDAuMDAwMSk7DQogICAgICAgICAgY29uc3QgcmVtYWluaW5nSXRlbXMgPSBNYXRoLm1heCgwLCBtYXhJZCAtIG1pbnRJZCk7DQogICAgICAgICAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IHJlbWFpbmluZ0l0ZW1zIC8gTWF0aC5tYXgocmF0ZSwgMC4wMDAxKTsNCiAgICAgICAgICBwcm9ncmVzc1VJLnNldEV0YShyZW1haW5pbmdTZWNvbmRzKTsNCiAgICAgICAgfQ0KICAgICAgICB1cGRhdGVTdW1tYXJ5U3RhdHMoKTsNCiAgICAgICAgbGFzdFVpVXBkYXRlID0gbm93Ow0KICAgICAgfQ0KICAgIH0NCiAgICBldHJUZXh0LnRleHRDb250ZW50ID0gIiI7DQogIH0NCg0KICB0b2tlblByb2dyZXNzVGV4dC50ZXh0Q29udGVudCA9ICJBZGRyZXNzIHNjYW5uaW5nIGNvbXBsZXRlLiI7DQogIHNldFRpbWVvdXQoKCkgPT4gew0KICAgIC8vIE9ubHkgaGlkZSB0aGUgY29udGFpbmVyIGlmIHdlIGFyZSBOT1QgcGFydCBvZiBhICJTY2FuIEFsbCIgc2VxdWVuY2UuDQogICAgaWYgKCF3aW5kb3cuX19zY2FuQWxsQWN0aXZlKSB7DQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ3Jlc3NDb250YWluZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgZXRyVGV4dC50ZXh0Q29udGVudCA9ICIiOw0KICAgIH0NCiAgfSwgMTAwMCk7DQp9DQoNCi8vIC0tLSBJTklUSUFMSVpBVElPTiAmIENBTEVOREFSIC0tLQ0KbGV0IGNhbGVuZGFyUGlja2VyOw0KZnVuY3Rpb24gc2V0TWF0dXJpdHlIZWFkZXJGaWx0ZXIoZGF0ZU9iaikgew0KICBjb25zdCBmb3JtYXR0ZWREYXRlID0gbHV4b24uRGF0ZVRpbWUuZnJvbUpTRGF0ZShkYXRlT2JqKS50b0Zvcm1hdCgneXl5eSBMTEwgZGQnKTsNCg0KICBjb25zdCBtYXR1cml0eUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYnVsYXRvci1jb2xbdGFidWxhdG9yLWZpZWxkPSJNYXR1cml0eV9EYXRlX0ZtdCJdIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlciBpbnB1dCcpOw0KICBpZiAobWF0dXJpdHlJbnB1dCkgew0KICAgIG1hdHVyaXR5SW5wdXQudmFsdWUgPSBmb3JtYXR0ZWREYXRlOw0KICAgIG1hdHVyaXR5SW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTsNCiAgICBjb25zdCBlbnRlckV2ZW50ID0gbmV3IEtleWJvYXJkRXZlbnQoJ2tleWRvd24nLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGtleTogJ0VudGVyJywgY29kZTogJ0VudGVyJywga2V5Q29kZTogMTMgfSk7DQogICAgbWF0dXJpdHlJbnB1dC5kaXNwYXRjaEV2ZW50KGVudGVyRXZlbnQpOw0KICB9DQoNCiAgLy8gQWxzbyBlbnN1cmUgU3RhdHVzIGFuZCBUeXBlIGhlYWRlciBmaWx0ZXJzIGFyZSByZXNldCB0byBBbGwgdXNpbmcgVGFidWxhdG9yIEFQSQ0KICB0cnkgew0KICAgIGlmICh3aW5kb3cuY29pbnRvb2xUYWJsZSAmJiB0eXBlb2Ygd2luZG93LmNvaW50b29sVGFibGUuc2V0SGVhZGVyRmlsdGVyVmFsdWUgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgIHdpbmRvdy5jb2ludG9vbFRhYmxlLnNldEhlYWRlckZpbHRlclZhbHVlKCdTdGF0dXMnLCAnJyk7DQogICAgICAvLyBUeXBlIGNvbHVtbiB1c2VzIGZpZWxkICdTb3VyY2VUeXBlJyBpbiB1bmlmaWVkIHZpZXcNCiAgICAgIHdpbmRvdy5jb2ludG9vbFRhYmxlLnNldEhlYWRlckZpbHRlclZhbHVlKCdTb3VyY2VUeXBlJywgJycpOw0KICAgIH0gZWxzZSB7DQogICAgICAvLyBGYWxsYmFjayB0byBET00tYmFzZWQgc2V0dGVyDQogICAgICB0cnkgeyBzZXRTdGF0dXNIZWFkZXJGaWx0ZXIoJycpOyB9IGNhdGNoIHt9DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYnVsYXRvci1jb2xbdGFidWxhdG9yLWZpZWxkPSJTb3VyY2VUeXBlIl0gLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyJyk7DQogICAgICAgIGNvbnN0IHNlbCAgPSByb290ID8gcm9vdC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKSA6IG51bGw7DQogICAgICAgIGNvbnN0IGlucCAgPSByb290ID8gcm9vdC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpICA6IG51bGw7DQogICAgICAgIGNvbnN0IHYgICAgPSAnJzsNCiAgICAgICAgaWYgKHNlbCkgew0KICAgICAgICAgIHNlbC52YWx1ZSA9IHY7DQogICAgICAgICAgc2VsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSkpOw0KICAgICAgICAgIHNlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCAgeyBidWJibGVzOiB0cnVlIH0pKTsNCiAgICAgICAgfSBlbHNlIGlmIChpbnApIHsNCiAgICAgICAgICBpbnAudmFsdWUgPSB2Ow0KICAgICAgICAgIGlucC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCAgeyBidWJibGVzOiB0cnVlIH0pKTsNCiAgICAgICAgICBpbnAuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7DQogICAgICAgICAgaW5wLmRpc3BhdGNoRXZlbnQobmV3IEtleWJvYXJkRXZlbnQoJ2tleWRvd24nLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGtleTogJ0VudGVyJywgY29kZTogJ0VudGVyJywga2V5Q29kZTogMTMgfSkpOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIHt9DQogICAgfQ0KICB9IGNhdGNoIHt9DQp9DQpmdW5jdGlvbiB1cGRhdGVDYWxlbmRhcigpIHsNCiAgZ2V0QWxsTWludHMoZGJJbnN0YW5jZSkudGhlbihhbGxUb2tlbnMgPT4gew0KICAgIGNvbnN0IG5vd1NlYyAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTsNCiAgICBjb25zdCBkYXRlTWFwID0ge307DQoNCiAgICBmb3IgKGNvbnN0IHJvdyBvZiBhbGxUb2tlbnMpIHsNCiAgICAgIGNvbnN0IHQgPSBOdW1iZXIocm93Lk1hdHVyaXR5X1RpbWVzdGFtcCB8fCAwKTsNCiAgICAgIGNvbnN0IGxpdmUgPSBjb21wdXRlTGl2ZVN0YXR1cyhyb3cpOyAgLy8gcmV1c2UgeW91ciBsaXZlIHN0YXR1cyBoZWxwZXINCg0KICAgICAgaWYgKGxpdmUgPT09ICdNYXR1cmluZycgJiYgTnVtYmVyLmlzRmluaXRlKHQpICYmIHQgPiBub3dTZWMpIHsNCiAgICAgICAgY29uc3Qga2V5ID0gcm93Lm1hdHVyaXR5RGF0ZU9ubHkgJiYgcm93Lm1hdHVyaXR5RGF0ZU9ubHkubGVuZ3RoDQogICAgICAgICAgPyByb3cubWF0dXJpdHlEYXRlT25seQ0KICAgICAgICAgIDogbHV4b24uRGF0ZVRpbWUuZnJvbVNlY29uZHModCkudG9Gb3JtYXQoJ3l5eXktTU0tZGQnKTsNCiAgICAgICAgZGF0ZU1hcFtrZXldID0gKGRhdGVNYXBba2V5XSB8fCAwKSArIE51bWJlcihyb3cuVk1VcyB8fCAwKTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICBpZiAoY2FsZW5kYXJQaWNrZXIpIGNhbGVuZGFyUGlja2VyLmRlc3Ryb3koKTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FsZW5kYXIiKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCg0KICAgIGNhbGVuZGFyUGlja2VyID0gZmxhdHBpY2tyKCIjY2FsZW5kYXIiLCB7DQogICAgICBpbmxpbmU6IHRydWUsDQogICAgICBvbkRheUNyZWF0ZTogZnVuY3Rpb24oZE9iaiwgZFN0ciwgZnAsIGRheUVsZW0pIHsNCiAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGRheUVsZW0uZGF0ZU9iaiA/IGdldExvY2FsRGF0ZVN0cmluZyhkYXlFbGVtLmRhdGVPYmopIDogIiI7DQogICAgICAgIGlmIChkYXRlTWFwW2RhdGVTdHJdKSB7DQogICAgICAgICAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7DQogICAgICAgICAgYmFkZ2UudGV4dENvbnRlbnQgPSBkYXRlTWFwW2RhdGVTdHJdOw0KICAgICAgICAgIGJhZGdlLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7dG9wOi0ycHg7cmlnaHQ6LTJweDtoZWlnaHQ6MTZweDtsaW5lLWhlaWdodDoxNnB4O3BhZGRpbmc6MCA0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjlweDtiYWNrZ3JvdW5kLWNvbG9yOiMwNjNkODU7Y29sb3I6eWVsbG93O2JvcmRlci1yYWRpdXM6NHB4O2N1cnNvcjpwb2ludGVyOyI7DQogICAgICAgICAgYmFkZ2UuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgc2V0TWF0dXJpdHlIZWFkZXJGaWx0ZXIoZGF5RWxlbS5kYXRlT2JqKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBkYXlFbGVtLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsNCiAgICAgICAgICBkYXlFbGVtLmFwcGVuZENoaWxkKGJhZGdlKTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihzZWxlY3RlZERhdGVzKSB7DQogICAgICAgIGlmIChzZWxlY3RlZERhdGVzLmxlbmd0aCkgew0KICAgICAgICAgIHNldE1hdHVyaXR5SGVhZGVyRmlsdGVyKHNlbGVjdGVkRGF0ZXNbMF0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgICAsDQogICAgICBvblJlYWR5OiBmdW5jdGlvbihzZWxlY3RlZERhdGVzLCBkYXRlU3RyLCBpbnN0YW5jZSl7IF9fZml4RmxhdHBpY2tySGVhZGVyKGluc3RhbmNlKTsgfSwNCiAgICAgIG9uTW9udGhDaGFuZ2U6IGZ1bmN0aW9uKHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHIsIGluc3RhbmNlKXsgX19maXhGbGF0cGlja3JIZWFkZXIoaW5zdGFuY2UpOyB9LA0KICAgICAgb25ZZWFyQ2hhbmdlOiBmdW5jdGlvbihzZWxlY3RlZERhdGVzLCBkYXRlU3RyLCBpbnN0YW5jZSl7IF9fZml4RmxhdHBpY2tySGVhZGVyKGluc3RhbmNlKTsgfQ0KICAgIH0pOw0KDQogICAgLy8ga2VlcCB0aGUgZ2xvYmFsIHBvaW50ZXIgZnJlc2gNCiAgICB3aW5kb3cuX2NhbGVuZGFyID0gY2FsZW5kYXJQaWNrZXI7DQogIH0pLmNhdGNoKGVyciA9PiB7DQogICAgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgbWludHMgZm9yIGNhbGVuZGFyIHVwZGF0ZToiLCBlcnIpOw0KICB9KTsNCn0NCg0KDQoNCi8vIC0tLSAqKiogTkVXOiBXQUxMRVQgQ09OTkVDVElPTiAmIENMQUlNSU5HIExPR0lDICoqKiAtLS0NCg0KYXN5bmMgZnVuY3Rpb24gY29ubmVjdFdhbGxldCgpIHsNCiAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHsNCiAgICBhbGVydCgiV2ViMyB3YWxsZXQgbm90IGRldGVjdGVkLiBQbGVhc2UgaW5zdGFsbCBhIHdhbGxldCBsaWtlIE1ldGFNYXNrIG9yIFJhYmJ5LiIpOw0KICAgIHJldHVybjsNCiAgfQ0KICB0cnkgew0KICAgIHdlYjNXYWxsZXQgPSBuZXcgV2ViMyh3aW5kb3cuZXRoZXJldW0pOw0KICAgIHdpbmRvdy53ZWIzV2FsbGV0ID0gd2ViM1dhbGxldDsgLy8gZXhwb3NlIGZvciBvdGhlciBzY3JpcHRzDQogICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pOw0KICAgIGNvbnN0IGNoYWluSWRIZXggPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTsNCiAgICBjb25zdCBjaGFpbklkID0gcGFyc2VJbnQoY2hhaW5JZEhleCwgMTYpOw0KICAgIGlmIChjaGFpbklkICE9PSAxKSB7DQogICAgICAvLyBOb3Qgb24gRXRoZXJldW0gTWFpbm5ldDogc2hvdyBtZXNzYWdlIGFuZCBwcmV2ZW50IGNvbm5lY3RpbmcNCiAgICAgIGFsZXJ0KCdQbGVhc2Ugc3dpdGNoIHlvdXIgd2FsbGV0IHRvIEV0aGVyZXVtIE1haW5uZXQgdG8gdXNlIHRoZSBhcHAuJyk7DQogICAgICAvLyBFbnN1cmUgVUkgcmVtYWlucyBpbiBkaXNjb25uZWN0ZWQgc3RhdGUNCiAgICAgIGNvbm5lY3RlZEFjY291bnQgPSBudWxsOw0KICAgICAgd2luZG93LmNvbm5lY3RlZEFjY291bnQgPSBudWxsOw0KICAgICAgdHJ5IHsgd2luZG93LndlYjNXYWxsZXQgPSBudWxsOyB9IGNhdGNoIHt9DQogICAgICBjb25zdCBidG5UeHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdFdhbGxldFRleHQnKTsNCiAgICAgIGlmIChidG5UeHQpIGJ0blR4dC50ZXh0Q29udGVudCA9ICdDb25uZWN0IFdhbGxldCc7DQogICAgICBhd2FpdCB1cGRhdGVOZXR3b3JrQmFkZ2UoKTsNCiAgICAgIHRyeSB7IHdpbmRvdy51cGRhdGVNaW50Q29ubmVjdEhpbnQ/LigpOyB3aW5kb3cudXBkYXRlU3Rha2VDb25uZWN0SGludD8uKCk7IH0gY2F0Y2gge30NCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBjb25uZWN0ZWRBY2NvdW50ID0gYWNjb3VudHNbMF07DQogICAgd2luZG93LmNvbm5lY3RlZEFjY291bnQgPSBjb25uZWN0ZWRBY2NvdW50OyAvLyBleHBvc2UgZm9yIG90aGVyIHNjcmlwdHMNCg0KICAgIGNvbnN0IGJ0blR4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0V2FsbGV0VGV4dCcpOw0KICAgIGlmIChidG5UeHQpIGJ0blR4dC50ZXh0Q29udGVudCA9IGAke2Nvbm5lY3RlZEFjY291bnQuc2xpY2UoMCwgNil9Li4uJHtjb25uZWN0ZWRBY2NvdW50LnNsaWNlKC00KX1gOw0KDQogICAgYXdhaXQgdXBkYXRlTmV0d29ya0JhZGdlKCk7DQogICAgdHJ5IHsgd2luZG93LnByZWZpbGxTdGFrZUFtb3VudEZyb21CYWxhbmNlPy4oKTsgd2luZG93LnVwZGF0ZVN0YWtlU3RhcnRFbmFibGVkPy4oKTsgfSBjYXRjaCB7fQ0KICAgIHRyeSB7IHdpbmRvdy51cGRhdGVNaW50Q29ubmVjdEhpbnQ/LigpOyB3aW5kb3cudXBkYXRlU3Rha2VDb25uZWN0SGludD8uKCk7IH0gY2F0Y2gge30NCiAgICBfX3VwZGF0ZVdhbGxldEV5ZVNpemUoKTsNCg0KICAgIC8vIGtlZXAgVUkgaW4gc3luYw0KICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVBbGxMaXN0ZW5lcnM/LignY2hhaW5DaGFuZ2VkJyk7DQogICAgd2luZG93LmV0aGVyZXVtLnJlbW92ZUFsbExpc3RlbmVycz8uKCdhY2NvdW50c0NoYW5nZWQnKTsNCiAgICB3aW5kb3cuZXRoZXJldW0ub24/LignY2hhaW5DaGFuZ2VkJywgYXN5bmMgKGNpZEhleCkgPT4gew0KICAgICAgY29uc3QgY2lkID0gcGFyc2VJbnQoY2lkSGV4LCAxNik7DQogICAgICBhd2FpdCB1cGRhdGVOZXR3b3JrQmFkZ2UoKTsNCiAgICAgIGlmIChjaWQgIT09IDEpIHsNCiAgICAgICAgYWxlcnQoJ1BsZWFzZSBzd2l0Y2ggeW91ciB3YWxsZXQgdG8gRXRoZXJldW0gTWFpbm5ldCB0byB1c2UgdGhlIGFwcC4nKTsNCiAgICAgICAgYXdhaXQgZGlzY29ubmVjdFdhbGxldCgpOw0KICAgICAgICB0cnkgeyB3aW5kb3cudXBkYXRlTWludENvbm5lY3RIaW50Py4oKTsgd2luZG93LnVwZGF0ZVN0YWtlQ29ubmVjdEhpbnQ/LigpOyB9IGNhdGNoIHt9DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGlmIChjb2ludG9vbFRhYmxlKSBjb2ludG9vbFRhYmxlLnJlZHJhdyh0cnVlKTsNCiAgICB9KTsNCiAgICB3aW5kb3cuZXRoZXJldW0ub24/LignYWNjb3VudHNDaGFuZ2VkJywgKGFjY3MpID0+IHsNCiAgICAgIGNvbm5lY3RlZEFjY291bnQgPSBhY2NzPy5bMF0gfHwgbnVsbDsNCiAgICAgIHdpbmRvdy5jb25uZWN0ZWRBY2NvdW50ID0gY29ubmVjdGVkQWNjb3VudDsNCiAgICAgIGNvbnN0IGJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3RXYWxsZXRUZXh0Jyk7DQogICAgICBpZiAoYnQpIGJ0LnRleHRDb250ZW50ID0gY29ubmVjdGVkQWNjb3VudA0KICAgICAgICA/IGAke2Nvbm5lY3RlZEFjY291bnQuc2xpY2UoMCwgNil9Li4uJHtjb25uZWN0ZWRBY2NvdW50LnNsaWNlKC00KX1gDQogICAgICAgIDogJ0Nvbm5lY3QgV2FsbGV0JzsNCiAgICAgIHNlbGVjdGVkUm93cy5jbGVhcigpOw0KICAgICAgcmVmcmVzaEJ1bGtVSSgpOw0KICAgICAgaWYgKGNvaW50b29sVGFibGUpIGNvaW50b29sVGFibGUucmVkcmF3KHRydWUpOw0KICAgICAgdHJ5IHsgd2luZG93LnByZWZpbGxTdGFrZUFtb3VudEZyb21CYWxhbmNlPy4oKTsgd2luZG93LnVwZGF0ZVN0YWtlU3RhcnRFbmFibGVkPy4oKTsgfSBjYXRjaCB7fQ0KICAgICAgdHJ5IHsgd2luZG93LnVwZGF0ZU1pbnRDb25uZWN0SGludD8uKCk7IHdpbmRvdy51cGRhdGVTdGFrZUNvbm5lY3RIaW50Py4oKTsgfSBjYXRjaCB7fQ0KICAgIH0pOw0KDQogICAgc2VsZWN0ZWRSb3dzLmNsZWFyKCk7DQogICAgcmVmcmVzaEJ1bGtVSSgpOw0KICAgIGlmIChjb2ludG9vbFRhYmxlKSBjb2ludG9vbFRhYmxlLnJlZHJhdyh0cnVlKTsNCiAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICBhbGVydCgiRmFpbGVkIHRvIGNvbm5lY3Qgd2FsbGV0LiIpOw0KICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICB9DQp9YXN5bmMgZnVuY3Rpb24gaGFuZGxlQ2xhaW1BY3Rpb24ocm93KSB7DQogIC8vIDEpIFJlcXVpcmUgd2FsbGV0DQogIGlmICghd2ViM1dhbGxldCB8fCAhY29ubmVjdGVkQWNjb3VudCkgew0KICAgIGFsZXJ0KCJQbGVhc2UgY29ubmVjdCB0aGUgd2FsbGV0IHRoYXQgb3ducyB0aGlzIG1pbnQuIik7DQogICAgcmV0dXJuOw0KICB9DQogIC8vIDFiKSBSZXF1aXJlIEV0aGVyZXVtIG1haW5uZXQNCiAgdHJ5IHsNCiAgICBjb25zdCBjaGFpbklkID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7DQogICAgaWYgKHBhcnNlSW50KGNoYWluSWQsIDE2KSAhPT0gMSkgew0KICAgICAgYWxlcnQoIlBsZWFzZSBzd2l0Y2ggeW91ciB3YWxsZXQgdG8gRXRoZXJldW0gTWFpbm5ldCB0byBjbGFpbS9yZW1pbnQuIik7DQogICAgICByZXR1cm47DQogICAgfQ0KICB9IGNhdGNoIHsNCiAgICBhbGVydCgiQ291bGQgbm90IHJlYWQgY3VycmVudCBuZXR3b3JrLiBQbGVhc2Ugc3dpdGNoIHRvIEV0aGVyZXVtIE1haW5uZXQuIik7DQogICAgcmV0dXJuOw0KICB9DQoNCiAgY29uc3QgdzMgPSB3ZWIzV2FsbGV0IHx8IHdlYjM7DQoNCiAgLy8g4pyFIE5FVzogSGFuZGxlIHJlZ3VsYXIgWEVOIFN0YWtlIHdpdGhkcmF3YWwNCiAgaWYgKFN0cmluZyhyb3cuU291cmNlVHlwZSkgPT09ICdTdGFrZScpIHsNCiAgICAvLyDinIUgRklYOiBNaW5pbWFsIEFCSSBmb3IgdGhlIGNvcnJlY3QgJ3dpdGhkcmF3KCknIGZ1bmN0aW9uIChubyBwYXJhbWV0ZXJzKQ0KICAgIHRyeSB7DQogICAgICAvLyBYRU5fRVRIIGFkZHJlc3MgaXMgYWxyZWFkeSBkZWZpbmVkIGluIGFwcC5qcw0KICAgICAgY29uc3QgeGVuQ29udHJhY3QgPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5BYmksIFhFTl9FVEgpOw0KICAgICAgLy8g4pyFIEZJWDogQ2FsbCB3aXRoZHJhdygpIHdpdGggbm8gYXJndW1lbnRzDQogICAgICBjb25zdCB0eCA9IGF3YWl0IHhlbkNvbnRyYWN0Lm1ldGhvZHMud2l0aGRyYXcoKS5zZW5kKHsgZnJvbTogY29ubmVjdGVkQWNjb3VudCB9KTsNCg0KICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgICAgc2hvd1RvYXN0KGBTdGFrZSB3aXRoZHJhdyBzdWJtaXR0ZWQ6ICR7dHgudHJhbnNhY3Rpb25IYXNofWAsICJzdWNjZXNzIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBhbGVydChgU3Rha2Ugd2l0aGRyYXcgc3VibWl0dGVkOiAke3R4LnRyYW5zYWN0aW9uSGFzaH1gKTsNCiAgICAgIH0NCg0KICAgICAgLy8gUmVmcmVzaCB0aGUgVUkgaW1tZWRpYXRlbHkNCiAgICAgIGlmICh0eXBlb2Ygd2luZG93LnJlZnJlc2hVbmlmaWVkID09PSAnZnVuY3Rpb24nKSB7IHRyeSB7IGF3YWl0IHdpbmRvdy5yZWZyZXNoVW5pZmllZCgpOyB9IGNhdGNoIHt9IH0NCiAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsNCiAgICAgIGFsZXJ0KGVycj8ubWVzc2FnZSB8fCAiU3Rha2Ugd2l0aGRyYXcgZmFpbGVkLiIpOw0KICAgIH0NCiAgICByZXR1cm47IC8vIEVuZCB0aGUgZnVuY3Rpb24gaGVyZSBmb3IgdGhpcyBjYXNlDQogIH0NCg0KICAvLyBORVc6IFN0YWtlIFhFTkZUIOKGkiBlbmRTdGFrZSh0b2tlbklkKQ0KICBpZiAoU3RyaW5nKHJvdy5Tb3VyY2VUeXBlKSA9PT0gJ1N0YWtlIFhFTkZUJykgew0KICAgIC8vIFN0YWtlIE5GVHMgZG9u4oCZdCBoYXZlIOKAnHJlbWludOKAnTsganVzdCBlbmQgdGhlIHN0YWtlLg0KICAgIGNvbnN0IHRva2VuSWQgPSBOdW1iZXIocm93Lk1pbnRfaWRfU3RhcnQgfHwgcm93LnRva2VuSWQpOw0KICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHRva2VuSWQpKSB7IGFsZXJ0KCJCYWQgU3Rha2UgWEVORlQgdG9rZW5JZC4iKTsgcmV0dXJuOyB9DQoNCiAgICAvLyBVc2UgdGhlIGFkZHJlc3MgZXhwb3J0ZWQgYnkgeGVuZnQtc3Rha2UuanMsIGZhbGxiYWNrIHRvIGNhbm9uaWNhbCBtYWlubmV0IGFkZHJlc3MNCiAgICBjb25zdCBTVEFLRV9BRERSID0NCiAgICAgICh3aW5kb3cueGVuZnRTdGFrZSAmJiB3aW5kb3cueGVuZnRTdGFrZS5DT05UUkFDVF9BRERSRVNTKSB8fA0KICAgICAgJzB4ZkVkQTAzYjkxNTE0RDMxYjQzNWQ0RTE1MTlGZDllNjk5QzI5QmJGQyc7DQoNCiAgICB0cnkgew0KICAgICAgY29uc3Qgc3Rha2UgPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5mdFN0YWtlQWJpLCBTVEFLRV9BRERSKTsNCiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgc3Rha2UubWV0aG9kcy5lbmRTdGFrZSh0b2tlbklkKS5zZW5kKHsgZnJvbTogY29ubmVjdGVkQWNjb3VudCB9KTsNCg0KICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgICAgc2hvd1RvYXN0KGBTdGFrZSBYRU5GVCAjJHt0b2tlbklkfSBlbmQgc3VibWl0dGVkOiAke3R4LnRyYW5zYWN0aW9uSGFzaH1gLCAic3VjY2VzcyIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgYWxlcnQoYFN0YWtlIFhFTkZUICMke3Rva2VuSWR9IGVuZCBzdWJtaXR0ZWQ6ICR7dHgudHJhbnNhY3Rpb25IYXNofWApOw0KICAgICAgfQ0KDQogICAgICAvLyBSZWZyZXNoIHRoZSBtZXJnZWQgdmlldzsgdGhlIHNjYW4gd2lsbCBsYXRlciBwaWNrIHVwIHRoZSBvbi1jaGFpbiBlbmQgYWN0aW9uLg0KICAgICAgaWYgKHR5cGVvZiB3aW5kb3cucmVmcmVzaFVuaWZpZWQgPT09ICdmdW5jdGlvbicpIHsgdHJ5IHsgYXdhaXQgd2luZG93LnJlZnJlc2hVbmlmaWVkKCk7IH0gY2F0Y2gge30gfQ0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgY29uc29sZS5lcnJvcihlcnIpOw0KICAgICAgYWxlcnQoZXJyPy5tZXNzYWdlIHx8ICJTdGFrZSBYRU5GVCBlbmQgZmFpbGVkLiIpOw0KICAgIH0NCiAgICByZXR1cm47DQogIH0NCg0KICAvLyBYRU5GVHM6IG9ubHkgImNsYWltIiBpcyBtZWFuaW5nZnVsIOKAlCBjYWxsIHRvcnJlbnQuYnVsa0NsYWltTWludFJld2FyZCh0b2tlbklkLCB0bykNCiAgaWYgKFN0cmluZyhyb3cuU291cmNlVHlwZSkgPT09ICdYRU5GVCcpIHsNCiAgICBjb25zdCBhY3Rpb24gPSBhd2FpdCBjaG9vc2VBY3Rpb25EaWFsb2coJ2NsYWltJywgcm93KTsNCiAgICBpZiAoYWN0aW9uICE9PSAnY2xhaW0nKSByZXR1cm47DQoNCiAgICBjb25zdCB0b2tlbklkID0gTnVtYmVyKHJvdy5YZW5mdF9pZCB8fCByb3cuTWludF9pZF9TdGFydCB8fCByb3cudG9rZW5JZCk7DQogICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodG9rZW5JZCkpIHsgYWxlcnQoIkJhZCBYRU5GVCB0b2tlbklkLiIpOyByZXR1cm47IH0NCg0KICAgIGNvbnN0IFRPUlJFTlRfQUREUiA9DQogICAgICAodHlwZW9mIFhFTkZUX1RPUlJFTlQgPT09ICdzdHJpbmcnICYmIFhFTkZUX1RPUlJFTlQpIHx8DQogICAgICAod2luZG93LnhlbmZ0ICYmIHdpbmRvdy54ZW5mdC5DT05UUkFDVF9BRERSRVNTKSB8fA0KICAgICAgJzB4MGEyNTI2NjNEQkNjMGIwNzMwNjNENjQyMGE0MDMxOWU0MzhDZmE1OSc7DQoNCiAgICBjb25zdCBYRl9BQkkgPSAodHlwZW9mIHdpbmRvdy54ZW5mdEFiaSAhPT0gJ3VuZGVmaW5lZCcgJiYgQXJyYXkuaXNBcnJheSh3aW5kb3cueGVuZnRBYmkpKQ0KICAgICAgPyBbLi4ud2luZG93LnhlbmZ0QWJpLA0KICAgICAgICB7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9XSwNCiAgICAgICAgICAibmFtZSI6ImJ1bGtDbGFpbU1pbnRSZXdhcmQiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9XQ0KICAgICAgOiBbeyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifV0sDQogICAgICAgICJuYW1lIjoiYnVsa0NsYWltTWludFJld2FyZCIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn1dOw0KDQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IHRvcnJlbnQgPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5mdEFiaSwgVE9SUkVOVF9BRERSKTsNCiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgdG9ycmVudC5tZXRob2RzLmJ1bGtDbGFpbU1pbnRSZXdhcmQodG9rZW5JZCwgY29ubmVjdGVkQWNjb3VudCkNCiAgICAgICAgLnNlbmQoeyBmcm9tOiBjb25uZWN0ZWRBY2NvdW50IH0pOw0KICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgICAgc2hvd1RvYXN0KGBYRU5GVCAjJHt0b2tlbklkfSBjbGFpbSBzdWJtaXR0ZWQ6ICR7dHgudHJhbnNhY3Rpb25IYXNofWAsICJzdWNjZXNzIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBhbGVydChgWEVORlQgIyR7dG9rZW5JZH0gY2xhaW0gc3VibWl0dGVkOiAke3R4LnRyYW5zYWN0aW9uSGFzaH1gKTsNCiAgICAgIH0NCiAgICAgIGlmICh0eXBlb2Ygd2luZG93LnJlZnJlc2hVbmlmaWVkID09PSAnZnVuY3Rpb24nKSB7IHRyeSB7IGF3YWl0IHdpbmRvdy5yZWZyZXNoVW5pZmllZCgpOyB9IGNhdGNoIHt9IH0NCiAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsNCiAgICAgIGFsZXJ0KGVycj8ubWVzc2FnZSB8fCAiWEVORlQgY2xhaW0gZmFpbGVkLiIpOw0KICAgIH0NCiAgICByZXR1cm47DQogIH0NCg0KICAvLyBDb2luVG9vbCBwYXRoICh1bmNoYW5nZWQpDQogIGNvbnN0IGFjdGlvbiA9IGF3YWl0IGNob29zZUFjdGlvbkRpYWxvZygnY2xhaW0nLCByb3cpOw0KICBpZiAoIWFjdGlvbiB8fCAoYWN0aW9uICE9PSAnY2xhaW0nICYmIGFjdGlvbiAhPT0gJ3JlbWludCcpKSByZXR1cm47DQoNCiAgY29uc3Qgc3RhcnRJZCAgPSBOdW1iZXIocm93Lk1pbnRfaWRfU3RhcnQpOw0KICBjb25zdCB2bXVDb3VudCA9IE51bWJlcihyb3cuVk1VcyB8fCAxKTsNCiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoc3RhcnRJZCkgfHwgIU51bWJlci5pc0Zpbml0ZSh2bXVDb3VudCkgfHwgdm11Q291bnQgPCAxKSB7DQogICAgYWxlcnQoIkJhZCBNaW50X2lkX1N0YXJ0IG9yIFZNVXMuIik7DQogICAgcmV0dXJuOw0KICB9DQogIGNvbnN0IGlkcyAgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiB2bXVDb3VudCB9LCAoXywgaSkgPT4gc3RhcnRJZCArIGkpOw0KICBjb25zdCBzYWx0ID0gZW5zdXJlQnl0ZXMocm93LlNhbHQpOw0KDQogIGNvbnN0IG1pbnRlciA9IGNvbm5lY3RlZEFjY291bnQ7DQogIGxldCBkYXRhSGV4Ow0KICBpZiAoYWN0aW9uID09PSAnY2xhaW0nKSB7DQogICAgZGF0YUhleCA9IGJ1aWxkQ2xhaW1EYXRhKG1pbnRlciwgWEVOX0VUSCk7DQogIH0gZWxzZSB7DQogICAgY29uc3QgdGVybSA9IGF3YWl0IG9wZW5SZW1pbnRUZXJtRGlhbG9nKCk7DQogICAgaWYgKHRlcm0gPT0gbnVsbCkgcmV0dXJuOyAvLyBjYW5jZWxsZWQNCiAgICBkYXRhSGV4ID0gYnVpbGRSZW1pbnREYXRhKG1pbnRlciwgdGVybSk7DQogIH0NCg0KICBhd2FpdCBzZW5kQ29pbnRvb2xUeCh7IGlkcywgZGF0YUhleCwgc2FsdCwgdzMsIG1pbnREYXRhOiByb3csIGFjdGlvbiB9KTsNCn0NCg0KDQpmdW5jdGlvbiBjbGVhbkhleEFkZHIoYWRkcikgew0KICBpZiAoIWFkZHIpIHJldHVybiBhZGRyOw0KICByZXR1cm4gJzB4JyArIFN0cmluZyhhZGRyKS50cmltKCkucmVwbGFjZSgvXjB4L2ksICcnKS50b0xvd2VyQ2FzZSgpOw0KfQ0KDQpmdW5jdGlvbiBlbnN1cmVIZXhCeXRlcyhzKSB7DQogIGlmICghcykgcmV0dXJuIHM7DQogIGNvbnN0IHN0ciA9IFN0cmluZyhzKS50cmltKCk7DQogIHJldHVybiBzdHIuc3RhcnRzV2l0aCgnMHgnKSA/IHN0ciA6IHdlYjMudXRpbHMudXRmOFRvSGV4KHN0cik7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHJlc29sdmVYZW5BZGRyZXNzKCkgew0KICAvLyBIYW5kbGVzIGJvdGggYSBwbGFpbiBzdHJpbmcgY29uc3RhbnQgb3IgYSBwZXItY2hhaW4gbWFwDQogIC8vIGUuZy4gWEVOX0NSWVBUT19BRERSRVNTID0gIjB4Li4uIiAgT1IgIHsgIjEiOiAiMHguLi4iLCAiNTYiOiAiMHguLi4iICwgZXRoOiAiMHguLi4iIH0NCiAgY29uc3QgY2lkID0gKHR5cGVvZiB3ZWIzV2FsbGV0ICE9PSAndW5kZWZpbmVkJykgPyBhd2FpdCB3ZWIzV2FsbGV0LmV0aC5nZXRDaGFpbklkKCkgOiBudWxsOw0KICBjb25zdCB2YWwgPSAodHlwZW9mIFhFTl9DUllQVE9fQUREUkVTUyA9PT0gJ3N0cmluZycpDQogICAgPyBYRU5fQ1JZUFRPX0FERFJFU1MNCiAgICA6IChYRU5fQ1JZUFRPX0FERFJFU1M/LltTdHJpbmcoY2lkKV0gPz8gWEVOX0NSWVBUT19BRERSRVNTPy5ldGggPz8gWEVOX0NSWVBUT19BRERSRVNTPy5FVEgpOw0KICBpZiAoIXZhbCkgdGhyb3cgbmV3IEVycm9yKCdYRU4gYWRkcmVzcyBub3QgY29uZmlndXJlZCBmb3IgdGhpcyBuZXR3b3JrLicpOw0KICByZXR1cm4gY2xlYW5IZXhBZGRyKHZhbCk7DQp9DQoNCndpbmRvdy5vbmxvYWQgPSBhc3luYyAoKSA9PiB7DQogIGxvYWRVc2VyUHJlZmVyZW5jZXMoKTsNCiAgdHJ5IHsgaW5pdFNob3dNYXNrVG9nZ2xlcygpOyB9IGNhdGNoIHt9DQogIHZhbGlkYXRlSW5wdXRzKCk7DQogIC8vIENoZWNrIGlmIHdlIHNob3VsZCBhdXRvLXJ1biBSUEMgaW1wb3J0IGZvciBzaW5nbGUgUlBDDQogIGNoZWNrQXV0b0ltcG9ydFJQQ3MoKTsNCiAgdHJ5IHsNCiAgICBkYkluc3RhbmNlID0gYXdhaXQgb3BlbkRCKCk7DQogICAgd2luZG93LmRiSW5zdGFuY2UgPSBkYkluc3RhbmNlOw0KICAgIGNvbnN0IHN0b3JlZE1pbnRzID0gYXdhaXQgZ2V0QWxsTWludHMoZGJJbnN0YW5jZSk7DQogICAgcG9wdWxhdGVUYWJsZShzdG9yZWRNaW50cyk7DQogICAgZW5zdXJlQnVsa0JhcigpOw0KICAgIHJlZnJlc2hCdWxrVUkoKTsNCiAgICBpZiAoc3RvcmVkTWludHMubGVuZ3RoID4gMCkgew0KICAgICAgdXBkYXRlQ2FsZW5kYXIoKTsNCiAgICB9DQogIH0gY2F0Y2ggKGVycikgew0KICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlOiIsIGVycik7DQogIH0NCn07DQoNCi8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIGlucHV0cyBmb3IgdmFsaWRhdGlvbiBhbmQgc2F2aW5nDQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIikuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCB2YWxpZGF0ZUlucHV0cyk7DQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoZXJzY2FuQXBpS2V5IikuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCB2YWxpZGF0ZUlucHV0cyk7DQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoQWRkcmVzcyIpLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgdmFsaWRhdGVJbnB1dHMpOw0KDQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NhbkJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc2Nhbk1pbnRzKTsNCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25uZWN0V2FsbGV0QnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVXYWxsZXRDb25uZWN0Q2xpY2spOw0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVJQQyIpLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCBmdW5jdGlvbigpew0KICBzYXZlVXNlclByZWZlcmVuY2VzKA0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhBZGRyZXNzIikudmFsdWUsDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVJQQyIpLnZhbHVlLA0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhlcnNjYW5BcGlLZXkiKS52YWx1ZQ0KICApOw0KfSk7DQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoQWRkcmVzcyIpLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLCBmdW5jdGlvbigpew0KICBzYXZlVXNlclByZWZlcmVuY2VzKA0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhBZGRyZXNzIikudmFsdWUsDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVJQQyIpLnZhbHVlLA0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhlcnNjYW5BcGlLZXkiKS52YWx1ZQ0KICApOw0KfSk7DQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoZXJzY2FuQXBpS2V5IikuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsIGZ1bmN0aW9uKCl7DQogIHNhdmVVc2VyUHJlZmVyZW5jZXMoDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aEFkZHJlc3MiKS52YWx1ZSwNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIikudmFsdWUsDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aGVyc2NhbkFwaUtleSIpLnZhbHVlDQogICk7DQp9KTsNCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb3dubG9hZEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKXsNCiAgaWYoY29pbnRvb2xUYWJsZSl7IGNvaW50b29sVGFibGUuZG93bmxvYWQoImNzdiIsICJjb2ludG9vbC1taW50cy1kZXRhaWxlZC5jc3YiKTsgfQ0KfSk7DQoNCi8vIC0tLSBTVEFUVVMgQ0hJUCBGSUxURVJJTkcgLS0tDQovLyBhcHAuanMNCg0KLy8gLS0tIFNUQVRVUyBDSElQIEZJTFRFUklORyAtLS0NCmZ1bmN0aW9uIHNldFN0YXR1c0hlYWRlckZpbHRlcihzdGF0dXNUZXh0KSB7DQogIC8vIDEuIFVwZGF0ZSB0aGUgVUkgdG8gc2hvdyB3aGljaCBjaGlwIGlzIGFjdGl2ZS4gVGhpcyBzaG91bGQgcnVuIGZvciBldmVyeSBjbGljay4NCiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbHRlci1jaGlwcyAuY2hpcCcpLmZvckVhY2goY2hpcCA9PiB7DQogICAgY2hpcC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCAoY2hpcC5kYXRhc2V0LmZpbHRlciB8fCAnJykgPT09IChzdGF0dXNUZXh0IHx8ICcnKSk7DQogIH0pOw0KDQogIC8vIDIuIEZpbmQgdGhlIHNlbGVjdCAobmV3KSBvciBpbnB1dCAoZmFsbGJhY2spIGZvciB0aGUgU3RhdHVzIGhlYWRlciBmaWx0ZXIuDQogIGNvbnN0IHN0YXR1c0ZpbHRlclJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFidWxhdG9yLWNvbFt0YWJ1bGF0b3ItZmllbGQ9IlN0YXR1cyJdIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlcicpOw0KICBpZiAoIXN0YXR1c0ZpbHRlclJvb3QpIHsNCiAgICBpZiAod2luZG93LmNvaW50b29sVGFibGUpIHNldFRpbWVvdXQoKCkgPT4gc2V0U3RhdHVzSGVhZGVyRmlsdGVyKHN0YXR1c1RleHQpLCAyMDApOw0KICAgIHJldHVybjsNCiAgfQ0KICBjb25zdCBzZWxlY3RFbCA9IHN0YXR1c0ZpbHRlclJvb3QucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7DQogIGNvbnN0IGlucHV0RWwgID0gc3RhdHVzRmlsdGVyUm9vdC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpOw0KDQogIC8vIDMuIFNldCB0aGUgc3RhdHVzIGZpbHRlciB2YWx1ZSBhbmQgdHJpZ2dlciBUYWJ1bGF0b3IgdG8gcmUtZmlsdGVyLg0KICAvLyBBbiBlbXB0eSBzdHJpbmcgZm9yIHN0YXR1c1RleHQgKGZyb20gdGhlICJBbGwiIGNoaXApIHdpbGwgY2xlYXIgdGhpcyBzcGVjaWZpYyBmaWx0ZXINCiAgLy8gd2l0aG91dCBhZmZlY3Rpbmcgb3RoZXIgZmlsdGVycyBsaWtlIHRoZSBkYXRlLg0KICBjb25zdCB2YWx1ZSA9IHN0YXR1c1RleHQgfHwgIiI7DQogIGlmIChzZWxlY3RFbCkgew0KICAgIHNlbGVjdEVsLnZhbHVlID0gdmFsdWU7DQogICAgc2VsZWN0RWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7DQogICAgc2VsZWN0RWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTsNCiAgfSBlbHNlIGlmIChpbnB1dEVsKSB7DQogICAgaW5wdXRFbC52YWx1ZSA9IHZhbHVlOw0KICAgIGlucHV0RWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTsNCiAgICBpbnB1dEVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSkpOw0KICAgIGlucHV0RWwuZGlzcGF0Y2hFdmVudChuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHsgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSwga2V5OiAnRW50ZXInLCBjb2RlOiAnRW50ZXInLCBrZXlDb2RlOiAxMyB9KSk7DQogIH0NCg0KICAvLyA0LiBUbyBlbnN1cmUgYSBjb25zaXN0ZW50IHZpZXcsIHJlLWFwcGx5IGEgZGVmYXVsdCBzb3J0IGFmdGVyIHRoZSBmaWx0ZXIgY2hhbmdlcy4NCiAgaWYgKHR5cGVvZiBjb2ludG9vbFRhYmxlPy5zZXRTb3J0ID09PSAnZnVuY3Rpb24nKSB7DQogICAgdHJ5IHsNCiAgICAgIGNvaW50b29sVGFibGUuc2V0U29ydCgiTWF0dXJpdHlfRGF0ZV9GbXQiLCAiYXNjIik7DQogICAgfSBjYXRjaCAoXykge30NCiAgfQ0KfQ0KDQovLyBOZXcgaGVscGVyOiBzZXQgdGhlIE1hdHVyaXR5IERhdGUgaGVhZGVyIGZpbHRlciB2YWx1ZSBwcm9ncmFtbWF0aWNhbGx5IChieSB0ZXh0KQ0KZnVuY3Rpb24gc2V0TWF0dXJpdHlIZWFkZXJGaWx0ZXJUZXh0KHRleHQpIHsNCiAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJ1bGF0b3ItY29sW3RhYnVsYXRvci1maWVsZD0iTWF0dXJpdHlfRGF0ZV9GbXQiXSAudGFidWxhdG9yLWhlYWRlci1maWx0ZXInKTsNCiAgY29uc3QgaW5wdXQgPSByb290ID8gcm9vdC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpIDogbnVsbDsNCiAgaWYgKCFpbnB1dCkgew0KICAgIGlmICh3aW5kb3cuY29pbnRvb2xUYWJsZSkgc2V0VGltZW91dCgoKSA9PiBzZXRNYXR1cml0eUhlYWRlckZpbHRlclRleHQodGV4dCksIDIwMCk7DQogICAgcmV0dXJuOw0KICB9DQogIGlucHV0LnZhbHVlID0gdGV4dCB8fCAiIjsNCiAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pKTsNCiAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7DQp9DQoNCg0KLy8gRGVsZXRlIGNvbnRlbnQgb2YgQUxMIEluZGV4ZWREQnMgKHN0b3JlcyBvbmx5OyBEQiBzaGVsbHMgcmVtYWluKQ0KYXN5bmMgZnVuY3Rpb24gY2xlYXJBbGxBcHBEYXRhKCkgew0KICAvLyBEQl9Db2ludG9vbA0KICB0cnkgew0KICAgIGNvbnN0IGN0RGIgPSBhd2FpdCBvcGVuREIoKTsNCiAgICBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICBjbGVhclN0b3JlKGN0RGIsICJtaW50cyIpLA0KICAgICAgY2xlYXJTdG9yZShjdERiLCAic2NhblN0YXRlIiksDQogICAgICBjbGVhclN0b3JlKGN0RGIsICJhY3Rpb25zQ2FjaGUiKS5jYXRjaCgoKSA9PiB7fSkNCiAgICBdKTsNCiAgfSBjYXRjaCAoXykge30NCg0KICAvLyBEQl9YZW5mdA0KICB0cnkgew0KICAgIGlmICh3aW5kb3cueGVuZnQ/Lm9wZW5EQikgew0KICAgICAgY29uc3QgeGZEYiA9IGF3YWl0IHdpbmRvdy54ZW5mdC5vcGVuREIoKTsNCiAgICAgIGF3YWl0IGNsZWFyU3RvcmUoeGZEYiwgInhlbmZ0cyIpOw0KICAgIH0NCiAgfSBjYXRjaCAoXykge30NCg0KICAvLyBEQi1YZW5mdC1TdGFrZQ0KICB0cnkgew0KICAgIGlmICh3aW5kb3cueGVuZnRTdGFrZT8ub3BlbkRCKSB7DQogICAgICBjb25zdCBzdGFrZURiID0gYXdhaXQgd2luZG93LnhlbmZ0U3Rha2Uub3BlbkRCKCk7DQogICAgICBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgIGNsZWFyU3RvcmUoc3Rha2VEYiwgInN0YWtlcyIpLA0KICAgICAgICBjbGVhclN0b3JlKHN0YWtlRGIsICJzY2FuU3RhdGUiKQ0KICAgICAgXSk7DQogICAgfQ0KICB9IGNhdGNoIChfKSB7fQ0KDQogIC8vIOKchSBEQi1YZW4tU3Rha2UgKHJlZ3VsYXIgc3Rha2VzKQ0KICB0cnkgew0KICAgIGlmICh3aW5kb3cueGVuU3Rha2U/Lm9wZW5EQikgew0KICAgICAgY29uc3QgeHNEYiA9IGF3YWl0IHdpbmRvdy54ZW5TdGFrZS5vcGVuREIoKTsNCiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgY2xlYXJTdG9yZSh4c0RiLCAic3Rha2VzIiksDQogICAgICAgIGNsZWFyU3RvcmUoeHNEYiwgInNjYW5TdGF0ZSIpDQogICAgICBdKTsNCiAgICB9DQogIH0gY2F0Y2ggKF8pIHt9DQp9DQoNCg0KLy8gcmVhZCBhbGwgZnJvbSBhIHN0b3JlDQpmdW5jdGlvbiBnZXRBbGxGcm9tU3RvcmUoZGIsIHN0b3JlTmFtZSkgew0KICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAicmVhZG9ubHkiKTsNCiAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7DQogICAgY29uc3QgcmVxID0gc3RvcmUuZ2V0QWxsKCk7DQogICAgcmVxLm9uc3VjY2VzcyA9IGUgPT4gcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQgfHwgW10pOw0KICAgIHJlcS5vbmVycm9yID0gZSA9PiByZWplY3QoZSk7DQogIH0pOw0KfQ0KDQovLyBjbGVhciBhIHN0b3JlDQpmdW5jdGlvbiBjbGVhclN0b3JlKGRiLCBzdG9yZU5hbWUpIHsNCiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgInJlYWR3cml0ZSIpOw0KICAgIGNvbnN0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTsNCiAgICBjb25zdCByZXEgPSBzdG9yZS5jbGVhcigpOw0KICAgIHJlcS5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKCk7DQogICAgcmVxLm9uZXJyb3IgPSBlID0+IHJlamVjdChlKTsNCiAgfSk7DQp9DQoNCi8vIGJ1bGsgcHV0DQpmdW5jdGlvbiBidWxrUHV0KGRiLCBzdG9yZU5hbWUsIGl0ZW1zKSB7DQogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW1zKSB8fCBpdGVtcy5sZW5ndGggPT09IDApIHJldHVybiByZXNvbHZlKCk7DQogICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICJyZWFkd3JpdGUiKTsNCiAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7DQogICAgZm9yIChjb25zdCBpdCBvZiBpdGVtcykgc3RvcmUucHV0KGl0KTsNCiAgICB0eC5vbmNvbXBsZXRlID0gKCkgPT4gcmVzb2x2ZSgpOw0KICAgIHR4Lm9uZXJyb3IgPSBlID0+IHJlamVjdChlKTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGdldEdhc1JlZnJlc2hNcygpIHsNCiAgY29uc3QgdiA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJnYXNSZWZyZXNoU2Vjb25kcyIpIHx8ICI1IiwgMTApOw0KICBjb25zdCBzZWNvbmRzID0gTnVtYmVyLmlzRmluaXRlKHYpICYmIHYgPj0gNSA/IHYgOiA1Ow0KICByZXR1cm4gc2Vjb25kcyAqIDEwMDA7DQp9DQoNCi8vIGNvbGxlY3QgYWxsIHNldHRpbmdzIG9uIHRoZSBTZXR0aW5ncyB0YWIgKCsgb3B0aW9uYWwgdGhyb3R0bGUpDQpmdW5jdGlvbiBjb2xsZWN0U2V0dGluZ3NTbmFwc2hvdCgpIHsNCiAgY29uc3Qgc2V0dGluZ3MgPSB7DQogICAgZXRoQWRkcmVzczogKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhBZGRyZXNzIik/LnZhbHVlID8/ICIiKS50cmltKCksDQogICAgY3VzdG9tUlBDOiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVJQQyIpPy52YWx1ZSA/PyAiIikudHJpbSgpLA0KICAgIGV0aGVyc2NhbkFwaUtleTogKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldGhlcnNjYW5BcGlLZXkiKT8udmFsdWUgPz8gIiIpLnRyaW0oKSwNCiAgICBjaHVua1NpemU6IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2h1bmtTaXplIik/LnZhbHVlID8/ICIiKS50cmltKCksDQogICAgZ2FzUmVmcmVzaFNlY29uZHM6IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FzUmVmcmVzaFNlY29uZHMiKT8udmFsdWUgPz8gIiIpLnRyaW0oKSwNCiAgICBtaW50VGVybURheXM6IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWludFRlcm1EYXlzIik/LnZhbHVlID8/IChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWludFRlcm1EYXlzIikgfHwgIiIpKS50cmltKCksDQogICAgdGhlbWU6IChmdW5jdGlvbigpeyB0cnkgeyByZXR1cm4gZ2V0U3RvcmVkVGhlbWUoKTsgfSBjYXRjaCB7IHJldHVybiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRoZW1lIikgfHwgInN5c3RlbSIpOyB9IH0pKCksDQogICAgdm11Q2hhcnRFeHBhbmRlZDogKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ2bXVDaGFydEV4cGFuZGVkIikgfHwgJzAnKSwNCiAgICAvLyBQZXJzaXN0IHRoZSBsYXN0IGFjdGl2ZSB0YWIgaWQgKERhc2hib2FyZC9NaW50L1NldHRpbmdzL0Fib3V0KQ0KICAgIGFjdGl2ZVRhYjogKGZ1bmN0aW9uKCl7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlVGFiSWQnKTsNCiAgICAgICAgaWYgKHN0b3JlZCkgcmV0dXJuIHN0b3JlZDsNCiAgICAgIH0gY2F0Y2gge30NCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiLXBhbmVsLmFjdGl2ZScpOw0KICAgICAgICByZXR1cm4gcCA/IHAuaWQgOiAndGFiLWRhc2hib2FyZCc7DQogICAgICB9IGNhdGNoIHt9DQogICAgICByZXR1cm4gJ3RhYi1kYXNoYm9hcmQnOw0KICAgIH0pKCksDQogICAgLy8gTmV3OiBwZXJzaXN0IHNob3cvbWFzayBzdGF0ZXMgKGRlZmF1bHQgQVBJIGtleSB2aXNpYmxlIG9uIGZpcnN0IHJ1bikNCiAgICBldGhlcnNjYW5BcGlLZXlWaXNpYmxlOiAoZnVuY3Rpb24oKXsgY29uc3Qgdj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZXRoZXJzY2FuQXBpS2V5VmlzaWJsZSIpOyByZXR1cm4gdj09bnVsbD8nMSc6djsgfSkoKSwNCiAgICBldGhBZGRyZXNzTWFza2VkOiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImV0aEFkZHJlc3NNYXNrZWQiKSB8fCAnMCcpLA0KICAgIGNvbm5lY3RXYWxsZXRNYXNrZWQ6IChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY29ubmVjdFdhbGxldE1hc2tlZCIpIHx8ICcwJykNCiAgfTsNCiAgY29uc3QgdGhyb3R0bGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZXRoZXJzY2FuVGhyb3R0bGVNcyIpOw0KICBpZiAodGhyb3R0bGUpIHNldHRpbmdzLmV0aGVyc2NhblRocm90dGxlTXMgPSB0aHJvdHRsZTsNCiAgcmV0dXJuIHNldHRpbmdzOw0KfQ0KDQpmdW5jdGlvbiBhcHBseVNldHRpbmdzU25hcHNob3Qoc2V0dGluZ3MpIHsNCiAgaWYgKCFzZXR0aW5ncyB8fCB0eXBlb2Ygc2V0dGluZ3MgIT09ICJvYmplY3QiKSByZXR1cm47DQogIGNvbnN0IHNldFZhbCA9IChpZCwgdikgPT4geyBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsgaWYgKGVsKSBlbC52YWx1ZSA9IHYgPz8gIiI7IH07DQogIHNldFZhbCgiZXRoQWRkcmVzcyIsIHNldHRpbmdzLmV0aEFkZHJlc3MpOw0KICBzZXRWYWwoImN1c3RvbVJQQyIsIHNldHRpbmdzLmN1c3RvbVJQQyk7DQogIHNldFZhbCgiZXRoZXJzY2FuQXBpS2V5Iiwgc2V0dGluZ3MuZXRoZXJzY2FuQXBpS2V5KTsNCiAgc2V0VmFsKCJjaHVua1NpemUiLCBzZXR0aW5ncy5jaHVua1NpemUpOw0KICBzZXRWYWwoImdhc1JlZnJlc2hTZWNvbmRzIiwgc2V0dGluZ3MuZ2FzUmVmcmVzaFNlY29uZHMpOw0KICBzZXRWYWwoIm1pbnRUZXJtRGF5cyIsIHNldHRpbmdzLm1pbnRUZXJtRGF5cyk7DQoNCiAgaWYgKHR5cGVvZiBzZXR0aW5ncy5ldGhBZGRyZXNzID09PSAic3RyaW5nIikgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImV0aEFkZHJlc3MiLCBzZXR0aW5ncy5ldGhBZGRyZXNzKTsNCiAgaWYgKHR5cGVvZiBzZXR0aW5ncy5jdXN0b21SUEMgPT09ICJzdHJpbmciKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY3VzdG9tUlBDIiwgc2V0dGluZ3MuY3VzdG9tUlBDKTsNCiAgaWYgKHR5cGVvZiBzZXR0aW5ncy5ldGhlcnNjYW5BcGlLZXkgPT09ICJzdHJpbmciKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZXRoZXJzY2FuQXBpS2V5Iiwgc2V0dGluZ3MuZXRoZXJzY2FuQXBpS2V5KTsNCiAgaWYgKHNldHRpbmdzLmNodW5rU2l6ZSAhPSBudWxsKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2h1bmtTaXplIiwgU3RyaW5nKHNldHRpbmdzLmNodW5rU2l6ZSkpOw0KICBpZiAodHlwZW9mIHNldHRpbmdzLmV0aGVyc2NhblRocm90dGxlTXMgPT09ICJzdHJpbmciKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZXRoZXJzY2FuVGhyb3R0bGVNcyIsIHNldHRpbmdzLmV0aGVyc2NhblRocm90dGxlTXMpOw0KICBpZiAoc2V0dGluZ3MuZ2FzUmVmcmVzaFNlY29uZHMgIT0gbnVsbCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImdhc1JlZnJlc2hTZWNvbmRzIiwgU3RyaW5nKHNldHRpbmdzLmdhc1JlZnJlc2hTZWNvbmRzKSk7DQogIGlmIChzZXR0aW5ncy5taW50VGVybURheXMgIT0gbnVsbCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm1pbnRUZXJtRGF5cyIsIFN0cmluZyhzZXR0aW5ncy5taW50VGVybURheXMpKTsNCiAgaWYgKHNldHRpbmdzLmV0aGVyc2NhbkFwaUtleVZpc2libGUgIT0gbnVsbCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImV0aGVyc2NhbkFwaUtleVZpc2libGUiLCBTdHJpbmcoc2V0dGluZ3MuZXRoZXJzY2FuQXBpS2V5VmlzaWJsZSkpOw0KICBpZiAoc2V0dGluZ3MuZXRoQWRkcmVzc01hc2tlZCAhPSBudWxsKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZXRoQWRkcmVzc01hc2tlZCIsIFN0cmluZyhzZXR0aW5ncy5ldGhBZGRyZXNzTWFza2VkKSk7DQogIGlmIChzZXR0aW5ncy5jb25uZWN0V2FsbGV0TWFza2VkICE9IG51bGwpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjb25uZWN0V2FsbGV0TWFza2VkIiwgU3RyaW5nKHNldHRpbmdzLmNvbm5lY3RXYWxsZXRNYXNrZWQpKTsNCg0KICAvLyBUaGVtZSBwZXJzaXN0ZW5jZSBhbmQgYXBwbGljYXRpb24gKHN1cHBvcnRzIGxpZ2h0L2Rhcms7IGxlZ2FjeSAnc3lzdGVtJyBtYXBzIHRvIE9TKQ0KICB0cnkgew0KICAgIGxldCB0aGVtZSA9IHNldHRpbmdzLnRoZW1lOw0KICAgIGlmICghKHRoZW1lID09PSAnZGFyaycgfHwgdGhlbWUgPT09ICdsaWdodCcgfHwgdGhlbWUgPT09ICdzeXN0ZW0nKSkgdGhlbWUgPSBnZXRTdG9yZWRUaGVtZSgpOw0KICAgIHN0b3JlVGhlbWUodGhlbWUpOw0KICAgIGFwcGx5VGhlbWUodGhlbWUpOw0KICAgIC8vIFVwZGF0ZSBoZWFkZXIgbWVudSBpbmRpY2F0b3INCiAgICB0cnkgeyB1cGRhdGVUaGVtZU1lbnVVSSgpOyB9IGNhdGNoIHt9DQogIH0gY2F0Y2gge30NCg0KICAvLyBSZXN0b3JlIGFjdGl2ZSB0YWIgKGlmIHByb3ZpZGVkKQ0KICB0cnkgew0KICAgIGlmIChzZXR0aW5ncy5hY3RpdmVUYWIpIHsNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY3RpdmVUYWJJZCcsIHNldHRpbmdzLmFjdGl2ZVRhYik7DQogICAgICBpZiAodHlwZW9mIHdpbmRvdy5zZXRBY3RpdmVUYWIgPT09ICdmdW5jdGlvbicpIHsNCiAgICAgICAgd2luZG93LnNldEFjdGl2ZVRhYihzZXR0aW5ncy5hY3RpdmVUYWIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc3QgaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZXR0aW5ncy5hY3RpdmVUYWIpID8gc2V0dGluZ3MuYWN0aXZlVGFiIDogJ3RhYi1kYXNoYm9hcmQnOw0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLXBhbmVsJykuZm9yRWFjaChwID0+IHAuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgcC5pZCA9PT0gaWQpKTsNCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1idXR0b24nKS5mb3JFYWNoKGIgPT4gYi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCAoYi5kYXRhc2V0LnRhcmdldCA9PT0gaWQpKSk7DQogICAgICB9DQogICAgfQ0KICB9IGNhdGNoIHt9DQoNCiAgLy8gaWYgTWludCB0YWIgaXMgcHJlc2VudCwgcmVmcmVzaCBwcmV2aWV3DQogIHRyeSB7DQogICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWludFRlcm1EYXlzIik7DQogICAgaWYgKGVsKSB7DQogICAgICBjb25zdCBldnQgPSBuZXcgRXZlbnQoJ2lucHV0JywgeyBidWJibGVzOiB0cnVlIH0pOw0KICAgICAgZWwuZGlzcGF0Y2hFdmVudChldnQpOw0KICAgIH0NCiAgfSBjYXRjaCAoXykge30NCg0KICAvLyBBcHBseSBWTVUgY2hhcnQgZXhwYW5kL2NvbGxhcHNlIGZyb20gc2V0dGluZ3MNCiAgdHJ5IHsNCiAgICBpZiAoc2V0dGluZ3Mudm11Q2hhcnRFeHBhbmRlZCAhPSBudWxsKSB7DQogICAgICBjb25zdCB3YW50T3BlbiA9IFN0cmluZyhzZXR0aW5ncy52bXVDaGFydEV4cGFuZGVkKSA9PT0gJzEnIHx8IFN0cmluZyhzZXR0aW5ncy52bXVDaGFydEV4cGFuZGVkKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7DQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm11Q2hhcnRFeHBhbmRlZCcsIHdhbnRPcGVuID8gJzEnIDogJzAnKTsNCiAgICAgIC8vIElmIGNoYXJ0IFVJIGV4aXN0cyBub3csIGFwcGx5IGltbWVkaWF0ZWx5DQogICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZtdUNoYXJ0VG9nZ2xlJykpIHsNCiAgICAgICAgc2V0Vm11Q2hhcnRFeHBhbmRlZFN0YXRlKHdhbnRPcGVuKTsNCiAgICAgIH0NCiAgICB9DQogIH0gY2F0Y2ggKF8pIHt9DQoNCiAgLy8gQXBwbHkgc2hvdy9tYXNrIHN0YXRlcyB0byBVSSBpZiBlbGVtZW50cyBleGlzdCAoYXZvaWQgPz8gZm9yIGJyb2FkZXIgY29tcGF0aWJpbGl0eSkNCiAgdHJ5IHsNCiAgICB2YXIgYXBpVmlzUmF3ID0gKHNldHRpbmdzICYmIHNldHRpbmdzLmV0aGVyc2NhbkFwaUtleVZpc2libGUgIT0gbnVsbCkNCiAgICAgID8gc2V0dGluZ3MuZXRoZXJzY2FuQXBpS2V5VmlzaWJsZQ0KICAgICAgOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZXRoZXJzY2FuQXBpS2V5VmlzaWJsZScpOw0KICAgIHZhciBhZGRyTWFza1JhdyA9IChzZXR0aW5ncyAmJiBzZXR0aW5ncy5ldGhBZGRyZXNzTWFza2VkICE9IG51bGwpDQogICAgICA/IHNldHRpbmdzLmV0aEFkZHJlc3NNYXNrZWQNCiAgICAgIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2V0aEFkZHJlc3NNYXNrZWQnKTsNCiAgICB2YXIgd2FsbGV0TWFza1JhdyA9IChzZXR0aW5ncyAmJiBzZXR0aW5ncy5jb25uZWN0V2FsbGV0TWFza2VkICE9IG51bGwpDQogICAgICA/IHNldHRpbmdzLmNvbm5lY3RXYWxsZXRNYXNrZWQNCiAgICAgIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nvbm5lY3RXYWxsZXRNYXNrZWQnKTsNCiAgICB2YXIgYXBpVmlzID0gU3RyaW5nKChhcGlWaXNSYXcgPT0gbnVsbCA/ICcxJyA6IGFwaVZpc1JhdykpID09PSAnMSc7DQogICAgdmFyIGFkZHJNYXNrID0gU3RyaW5nKGFkZHJNYXNrUmF3IHx8ICcwJykgPT09ICcxJzsNCiAgICB2YXIgd2FsbGV0TWFzayA9IFN0cmluZyh3YWxsZXRNYXNrUmF3IHx8ICcwJykgPT09ICcxJzsNCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V0aGVyc2NhbkFwaUtleScpKSBzZXRBcGlLZXlWaXNpYmlsaXR5KGFwaVZpcyk7DQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldGhBZGRyZXNzJykpIHNldEV0aEFkZHJlc3NNYXNrZWQoYWRkck1hc2spOw0KICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdFdhbGxldEJ0bicpKSBzZXRDb25uZWN0V2FsbGV0TWFza2VkKHdhbGxldE1hc2spOw0KICB9IGNhdGNoKF8pIHt9DQp9DQoNCi8vIEV4cG9ydDogYnVuZGxlcyBDb2ludG9vbERCICsgREJfWGVuZnQgKyBTZXR0aW5ncw0KZnVuY3Rpb24gZm9ybWF0QmFja3VwRmlsZU5hbWUobm93ID0gbmV3IERhdGUoKSl7DQogIGNvbnN0IG1vbnRocyA9IFsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwdCIsIk9jdCIsIk5vdiIsIkRlYyJdOyAvLyBOT1RFOiAiU2VwdCIgcGVyIHJlcXVlc3QNCiAgY29uc3QgeSA9IG5vdy5nZXRGdWxsWWVhcigpOw0KICBjb25zdCBtID0gbW9udGhzW25vdy5nZXRNb250aCgpXTsNCiAgY29uc3QgZCA9IFN0cmluZyhub3cuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAiMCIpOw0KICBsZXQgaCA9IG5vdy5nZXRIb3VycygpOw0KICBjb25zdCBhbSA9IGggPCAxMjsNCiAgaCA9IGggJSAxMjsgaWYgKGggPT09IDApIGggPSAxMjsgLy8gMTItaG91ciBjbG9jaywgbm8gbGVhZGluZyB6ZXJvDQogIGNvbnN0IG1tID0gU3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICIwIik7DQogIGNvbnN0IHNzID0gU3RyaW5nKG5vdy5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsICIwIik7DQogIGNvbnN0IHN1ZmZpeCA9IGFtID8gIkFNIiA6ICJQTSI7DQogIHJldHVybiBgbWludHNjYW5uZXItYmFja3VwLSR7eX0tJHttfS0ke2R9XyR7aH0tJHttbX0tJHtzc31fJHtzdWZmaXh9Lmpzb25gOw0KfQ0KYXN5bmMgZnVuY3Rpb24gZXhwb3J0QmFja3VwKCkgew0KICAvLyAtLS0gREJfQ29pbnRvb2wgLS0tDQogIGNvbnN0IGN0RGIgPSBhd2FpdCBvcGVuREIoKTsNCiAgY29uc3QgW21pbnRzLCBzY2FuU3RhdGUsIGFjdGlvbnNDYWNoZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgZ2V0QWxsRnJvbVN0b3JlKGN0RGIsICJtaW50cyIpLA0KICAgIGdldEFsbEZyb21TdG9yZShjdERiLCAic2NhblN0YXRlIiksDQogICAgLy8gYWN0aW9uc0NhY2hlIHdhcyBhZGRlZCBpbiBEQiB2MzsgaWYgbm90IHByZXNlbnQsIHJlc29sdmUgdG8gW10NCiAgICBnZXRBbGxGcm9tU3RvcmUoY3REYiwgImFjdGlvbnNDYWNoZSIpLmNhdGNoKCgpID0+IFtdKQ0KICBdKTsNCg0KICAvLyAtLS0gREJfWGVuZnQgKG9wdGlvbmFsIGlmIG1vZHVsZSB1bmF2YWlsYWJsZS9lbXB0eSkgLS0tDQogIGxldCB4ZW5mdFJvd3MgPSBbXTsNCiAgdHJ5IHsNCiAgICBpZiAod2luZG93LnhlbmZ0Py5vcGVuREIgJiYgd2luZG93LnhlbmZ0Py5nZXRBbGwpIHsNCiAgICAgIGNvbnN0IHhmRGIgPSBhd2FpdCB3aW5kb3cueGVuZnQub3BlbkRCKCk7DQogICAgICB4ZW5mdFJvd3MgPSBhd2FpdCB3aW5kb3cueGVuZnQuZ2V0QWxsKHhmRGIpOw0KICAgIH0NCiAgfSBjYXRjaCAoXykgew0KICAgIC8vIGlnbm9yZTsgd2Ugc3RpbGwgZXhwb3J0IHdoYXQgd2UgaGF2ZQ0KICB9DQoNCiAgLy8gLS0tIERCLVhlbmZ0LVN0YWtlIChORVcpIC0tLQ0KICBsZXQgc3Rha2VYZW5mdFJvd3MgPSBbXTsNCiAgbGV0IHN0YWtlWGVuZnRTdGF0ZSA9IFtdOw0KICB0cnkgew0KICAgIGlmICh3aW5kb3cueGVuZnRTdGFrZT8ub3BlbkRCKSB7DQogICAgICBjb25zdCBzdGFrZURiID0gYXdhaXQgd2luZG93LnhlbmZ0U3Rha2Uub3BlbkRCKCk7DQogICAgICBbc3Rha2VYZW5mdFJvd3MsIHN0YWtlWGVuZnRTdGF0ZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgIGdldEFsbEZyb21TdG9yZShzdGFrZURiLCAic3Rha2VzIiksDQogICAgICAgIGdldEFsbEZyb21TdG9yZShzdGFrZURiLCAic2NhblN0YXRlIikNCiAgICAgIF0pOw0KICAgIH0NCiAgfSBjYXRjaCAoXykge30NCg0KDQogIC8vIC0tLSBEQi1YZW4tU3Rha2UgKE5FVykgLS0tDQogIGxldCBzdGFrZVJvd3MgPSBbXTsNCiAgbGV0IHN0YWtlU3RhdGUgPSBbXTsNCiAgdHJ5IHsNCiAgICBpZiAod2luZG93LnhlblN0YWtlPy5vcGVuREIpIHsgLy8NCiAgICAgIGNvbnN0IHhzRGIgPSBhd2FpdCB3aW5kb3cueGVuU3Rha2Uub3BlbkRCKCk7IC8vDQogICAgICBbc3Rha2VSb3dzLCBzdGFrZVN0YXRlXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgZ2V0QWxsRnJvbVN0b3JlKHhzRGIsICJzdGFrZXMiKSwgLy8NCiAgICAgICAgZ2V0QWxsRnJvbVN0b3JlKHhzRGIsICJzY2FuU3RhdGUiKSAvLw0KICAgICAgXSk7DQogICAgfQ0KICB9IGNhdGNoIChfKSB7fQ0KDQogIGNvbnN0IHBheWxvYWQgPSB7DQogICAgZmlsZVR5cGU6ICJtaW50c2Nhbm5lci1iYWNrdXAiLA0KICAgIHZlcnNpb246IDQsIC8vIEJ1bXAgdmVyc2lvbiBmb3IgcmVndWxhciBTdGFrZSBkYXRhDQogICAgZXhwb3J0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLA0KICAgIHNldHRpbmdzOiBjb2xsZWN0U2V0dGluZ3NTbmFwc2hvdCgpLA0KICAgIGRhdGFiYXNlczogWw0KICAgICAgew0KICAgICAgICBuYW1lOiAiREJfQ29pbnRvb2wiLA0KICAgICAgICB2ZXJzaW9uOiAzLA0KICAgICAgICBzdG9yZXM6IHsgbWludHMsIHNjYW5TdGF0ZSwgYWN0aW9uc0NhY2hlIH0NCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIG5hbWU6ICJEQl9YZW5mdCIsDQogICAgICAgIHZlcnNpb246IDEsDQogICAgICAgIHN0b3JlczogeyB4ZW5mdHM6IHhlbmZ0Um93cyB9DQogICAgICB9LA0KICAgICAgew0KICAgICAgICBuYW1lOiAiREItWGVuZnQtU3Rha2UiLA0KICAgICAgICB2ZXJzaW9uOiAyLA0KICAgICAgICBzdG9yZXM6IHsgc3Rha2VzOiBzdGFrZVhlbmZ0Um93cywgc2NhblN0YXRlOiBzdGFrZVhlbmZ0U3RhdGUgfQ0KICAgICAgfSwNCiAgICAgIC8vIEFERCBUSElTIE5FVyBPQkpFQ1QNCiAgICAgIHsNCiAgICAgICAgbmFtZTogIkRCLVhlbi1TdGFrZSIsDQogICAgICAgIHZlcnNpb246IDEsIC8vDQogICAgICAgIHN0b3JlczogeyBzdGFrZXM6IHN0YWtlUm93cywgc2NhblN0YXRlOiBzdGFrZVN0YXRlIH0NCiAgICAgIH0NCiAgICBdDQogIH07DQoNCiAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpOw0KICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2pzb25dLCB7IHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiB9KTsNCiAgY29uc3QgZmlsZU5hbWUgPSBmb3JtYXRCYWNrdXBGaWxlTmFtZShuZXcgRGF0ZSgpKTsNCg0KICAvLyBzYXZlIHBpY2tlciDihpIgd2ViIHNoYXJlIOKGkiBhbmNob3IgZmFsbGJhY2sNCiAgaWYgKHR5cGVvZiB3aW5kb3cuc2hvd1NhdmVGaWxlUGlja2VyID09PSAiZnVuY3Rpb24iKSB7DQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IGhhbmRsZSA9IGF3YWl0IHdpbmRvdy5zaG93U2F2ZUZpbGVQaWNrZXIoew0KICAgICAgICBzdWdnZXN0ZWROYW1lOiBmaWxlTmFtZSwNCiAgICAgICAgdHlwZXM6IFt7IGRlc2NyaXB0aW9uOiAiSlNPTiIsIGFjY2VwdDogeyAiYXBwbGljYXRpb24vanNvbiI6IFsiLmpzb24iXSB9IH1dDQogICAgICB9KTsNCiAgICAgIGNvbnN0IHdyaXRhYmxlID0gYXdhaXQgaGFuZGxlLmNyZWF0ZVdyaXRhYmxlKCk7DQogICAgICBhd2FpdCB3cml0YWJsZS53cml0ZShibG9iKTsNCiAgICAgIGF3YWl0IHdyaXRhYmxlLmNsb3NlKCk7DQogICAgICByZXR1cm47DQogICAgfSBjYXRjaCAoXykge30NCiAgfQ0KICBpZiAodHlwZW9mIG5hdmlnYXRvci5jYW5TaGFyZSA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgbmF2aWdhdG9yLnNoYXJlID09PSAiZnVuY3Rpb24iKSB7DQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGVOYW1lLCB7IHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiB9KTsNCiAgICAgIGlmIChuYXZpZ2F0b3IuY2FuU2hhcmUoeyBmaWxlczogW2ZpbGVdIH0pKSB7DQogICAgICAgIGF3YWl0IG5hdmlnYXRvci5zaGFyZSh7IGZpbGVzOiBbZmlsZV0sIHRpdGxlOiAiTWludCBTY2FubmVyIEJhY2t1cCIsIHRleHQ6ICJNaW50IFNjYW5uZXIgYmFja3VwIGZpbGUiIH0pOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgfSBjYXRjaCAoXykge30NCiAgfQ0KDQogIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7DQogIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7DQogIGEuaHJlZiA9IHVybDsNCiAgYS5kb3dubG9hZCA9IGZpbGVOYW1lOw0KICBhLnRhcmdldCA9ICJfYmxhbmsiOw0KICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOw0KICBhLmNsaWNrKCk7DQogIHNldFRpbWVvdXQoKCkgPT4geyBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7IGEucmVtb3ZlKCk7IH0sIDApOw0KfQ0KDQovLyBJbXBvcnQ6IHN1cHBvcnRzIG5ldyAibWludHNjYW5uZXItYmFja3VwIiBBTkQgbGVnYWN5ICJjb2ludG9vbC1iYWNrdXAiDQphc3luYyBmdW5jdGlvbiBpbXBvcnRCYWNrdXBGcm9tRmlsZShmaWxlKSB7DQogIGlmICghZmlsZSkgcmV0dXJuOw0KDQogIGNvbnN0IHRleHQgPSBhd2FpdCBmaWxlLnRleHQoKTsNCiAgbGV0IGRhdGE7DQogIHRyeSB7IGRhdGEgPSBKU09OLnBhcnNlKHRleHQpOyB9DQogIGNhdGNoIHsgYWxlcnQoIkludmFsaWQgYmFja3VwIGZpbGUuIik7IHJldHVybjsgfQ0KDQogIC8vIE5ldyBtdWx0aS1EQiBmb3JtYXQNCiAgaWYgKGRhdGEgJiYgZGF0YS5maWxlVHlwZSA9PT0gIm1pbnRzY2FubmVyLWJhY2t1cCIgJiYgQXJyYXkuaXNBcnJheShkYXRhLmRhdGFiYXNlcykpIHsNCiAgICBhcHBseVNldHRpbmdzU25hcHNob3QoZGF0YS5zZXR0aW5ncyB8fCB7fSk7IC8vIHNldHRpbmdzIGZpcnN0DQoNCiAgICBmb3IgKGNvbnN0IGRiRGVmIG9mIGRhdGEuZGF0YWJhc2VzKSB7DQogICAgICBjb25zdCBuYW1lID0gZGJEZWY/Lm5hbWU7DQogICAgICBjb25zdCBzdG9yZXMgPSBkYkRlZj8uc3RvcmVzIHx8IHt9Ow0KDQogICAgICBpZiAobmFtZSA9PT0gIkRCX0NvaW50b29sIikgew0KICAgICAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EQigpOw0KICAgICAgICBhd2FpdCBjbGVhclN0b3JlKGRiLCAibWludHMiKS5jYXRjaCgoKT0+e30pOw0KICAgICAgICBhd2FpdCBjbGVhclN0b3JlKGRiLCAic2NhblN0YXRlIikuY2F0Y2goKCk9Pnt9KTsNCiAgICAgICAgYXdhaXQgY2xlYXJTdG9yZShkYiwgImFjdGlvbnNDYWNoZSIpLmNhdGNoKCgpPT57fSk7DQogICAgICAgIGF3YWl0IGJ1bGtQdXQoZGIsICJtaW50cyIsIHN0b3Jlcy5taW50cyB8fCBbXSk7DQogICAgICAgIGF3YWl0IGJ1bGtQdXQoZGIsICJzY2FuU3RhdGUiLCBzdG9yZXMuc2NhblN0YXRlIHx8IFtdKTsNCiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RvcmVzLmFjdGlvbnNDYWNoZSkpIHsNCiAgICAgICAgICBhd2FpdCBidWxrUHV0KGRiLCAiYWN0aW9uc0NhY2hlIiwgc3RvcmVzLmFjdGlvbnNDYWNoZSk7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgaWYgKG5hbWUgPT09ICJEQl9YZW5mdCIgJiYgd2luZG93LnhlbmZ0Py5vcGVuREIpIHsNCiAgICAgICAgY29uc3QgeGZEYiA9IGF3YWl0IHdpbmRvdy54ZW5mdC5vcGVuREIoKTsNCiAgICAgICAgYXdhaXQgY2xlYXJTdG9yZSh4ZkRiLCAieGVuZnRzIikuY2F0Y2goKCk9Pnt9KTsNCiAgICAgICAgYXdhaXQgYnVsa1B1dCh4ZkRiLCAieGVuZnRzIiwgc3RvcmVzLnhlbmZ0cyB8fCBbXSk7DQogICAgICB9DQoNCiAgICAgIGlmIChuYW1lID09PSAiREItWGVuZnQtU3Rha2UiICYmIHdpbmRvdy54ZW5mdFN0YWtlPy5vcGVuREIpIHsNCiAgICAgICAgY29uc3Qgc3Rha2VEYiA9IGF3YWl0IHdpbmRvdy54ZW5mdFN0YWtlLm9wZW5EQigpOw0KICAgICAgICBhd2FpdCBjbGVhclN0b3JlKHN0YWtlRGIsICJzdGFrZXMiKS5jYXRjaCgoKSA9PiB7fSk7DQogICAgICAgIGF3YWl0IGNsZWFyU3RvcmUoc3Rha2VEYiwgInNjYW5TdGF0ZSIpLmNhdGNoKCgpID0+IHt9KTsNCiAgICAgICAgYXdhaXQgYnVsa1B1dChzdGFrZURiLCAic3Rha2VzIiwgc3RvcmVzLnN0YWtlcyB8fCBbXSk7DQogICAgICAgIGF3YWl0IGJ1bGtQdXQoc3Rha2VEYiwgInNjYW5TdGF0ZSIsIHN0b3Jlcy5zY2FuU3RhdGUgfHwgW10pOw0KICAgICAgfQ0KDQogICAgICAvLyBBREQgVEhJUyBORVcgQkxPQ0sgZm9yIERCLVhlbi1TdGFrZQ0KICAgICAgaWYgKG5hbWUgPT09ICJEQi1YZW4tU3Rha2UiICYmIHdpbmRvdy54ZW5TdGFrZT8ub3BlbkRCKSB7IC8vDQogICAgICAgIGNvbnN0IHhzRGIgPSBhd2FpdCB3aW5kb3cueGVuU3Rha2Uub3BlbkRCKCk7IC8vDQogICAgICAgIGF3YWl0IGNsZWFyU3RvcmUoeHNEYiwgInN0YWtlcyIpLmNhdGNoKCgpID0+IHt9KTsgLy8NCiAgICAgICAgYXdhaXQgY2xlYXJTdG9yZSh4c0RiLCAic2NhblN0YXRlIikuY2F0Y2goKCkgPT4ge30pOyAvLw0KICAgICAgICBhd2FpdCBidWxrUHV0KHhzRGIsICJzdGFrZXMiLCBzdG9yZXMuc3Rha2VzIHx8IFtdKTsNCiAgICAgICAgYXdhaXQgYnVsa1B1dCh4c0RiLCAic2NhblN0YXRlIiwgc3RvcmVzLnNjYW5TdGF0ZSB8fCBbXSk7DQogICAgICB9DQogICAgfQ0KDQogICAgYWxlcnQoIkJhY2t1cCBpbXBvcnRlZC4gVGhlIGFwcCB3aWxsIG5vdyByZWxvYWQuIik7DQogICAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCksIDEwMCk7DQogICAgcmV0dXJuOw0KICB9DQoNCiAgLy8gTGVnYWN5IHNpbmdsZS1EQiBmb3JtYXQNCiAgaWYgKCFkYXRhIHx8IGRhdGEuZmlsZVR5cGUgIT09ICJjb2ludG9vbC1iYWNrdXAiIHx8ICFkYXRhLnN0b3Jlcykgew0KICAgIGFsZXJ0KCJJbnZhbGlkIGJhY2t1cCBzdHJ1Y3R1cmUuIik7DQogICAgcmV0dXJuOw0KICB9DQoNCiAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTsNCiAgYXdhaXQgY2xlYXJTdG9yZShkYiwgIm1pbnRzIik7DQogIGF3YWl0IGNsZWFyU3RvcmUoZGIsICJzY2FuU3RhdGUiKTsNCiAgYXdhaXQgYnVsa1B1dChkYiwgIm1pbnRzIiwgZGF0YS5zdG9yZXMubWludHMgfHwgW10pOw0KICBhd2FpdCBidWxrUHV0KGRiLCAic2NhblN0YXRlIiwgZGF0YS5zdG9yZXMuc2NhblN0YXRlIHx8IFtdKTsNCiAgYXBwbHlTZXR0aW5nc1NuYXBzaG90KGRhdGEuc2V0dGluZ3MgfHwge30pOw0KDQogIGFsZXJ0KCJCYWNrdXAgaW1wb3J0ZWQgc3VjY2Vzc2Z1bGx5LiBUaGUgYXBwIHdpbGwgbm93IHJlbG9hZC4iKTsNCiAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCksIDEwMCk7DQp9DQoNCi8vIFByb21pc2UtYmFzZWQgREIgZGVsZXRpb24gd2l0aCBibG9ja2VkIGhhbmRsaW5nDQpmdW5jdGlvbiBkZWxldGVEYXRhYmFzZUJ5TmFtZShuYW1lKSB7DQogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShuYW1lKTsNCiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKCdzdWNjZXNzJyk7DQogICAgICByZXEub25lcnJvciAgID0gKGUpID0+IHJlamVjdChlLnRhcmdldD8uZXJyb3IgfHwgbmV3IEVycm9yKCdkZWxldGUgZmFpbGVkJykpOw0KICAgICAgcmVxLm9uYmxvY2tlZCA9ICgpID0+IHJlc29sdmUoJ2Jsb2NrZWQnKTsgLy8gYW5vdGhlciB0YWIgaG9sZHMgaXQgb3Blbg0KICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgIHJlc29sdmUoJ3N1Y2Nlc3MnKTsgLy8gaWYgZGVsZXRlRGF0YWJhc2UgdGhyb3dzIChyYXJlKSwgdHJlYXQgYXMgYmVzdC1lZmZvcnQNCiAgICB9DQogIH0pOw0KfQ0KDQovLyBCYWNrdXAgJiBSZXN0b3JlIHdpcmluZyAocnVucyBhZnRlciBET00gaXMgYXZhaWxhYmxlKQ0KKGZ1bmN0aW9uIHdpcmVCYWNrdXBSZXN0b3JlKCl7DQogIGNvbnN0IGV4cG9ydEJ0biAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhwb3J0QmFja3VwQnRuIik7DQogIGNvbnN0IGltcG9ydElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydEJhY2t1cElucHV0Iik7DQogIGNvbnN0IGltcG9ydExhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydEJhY2t1cEJ0biIpOyAvLyBUaGUgYnV0dG9uLXN0eWxlZCBsYWJlbA0KDQogIGlmIChleHBvcnRCdG4pIHsNCiAgICBleHBvcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBleHBvcnRCYWNrdXApOw0KICB9DQoNCiAgaWYgKGltcG9ydExhYmVsICYmIGltcG9ydElucHV0KSB7DQogICAgLy8gVGhpcyBmdW5jdGlvbiBoYW5kbGVzIHRoZSBpbXBvcnQgcHJvY2VzcyBhZnRlciB1c2VyIGNvbmZpcm1hdGlvbi4NCiAgICBjb25zdCBzdGFydEltcG9ydFByb2Nlc3MgPSBhc3luYyAoKSA9PiB7DQogICAgICBjb25zdCBvayA9IGNvbmZpcm0oDQogICAgICAgICJUaGlzIHdpbGwgcGVybWFuZW50bHkgREVMRVRFIHlvdXIgY3VycmVudCBkYXRhIChEQl9Db2ludG9vbCwgREJfWGVuZnQsIERCLVhlbmZ0LVN0YWtlLCBhbmQgREItWGVuLVN0YWtlKSBiZWZvcmUgaW1wb3J0aW5nLlxuXG5Db250aW51ZT8iDQogICAgICApOw0KICAgICAgaWYgKCFvaykgcmV0dXJuOw0KDQogICAgICB0cnkgew0KICAgICAgICBhd2FpdCBjbGVhckFsbEFwcERhdGEoKTsNCiAgICAgIH0gY2F0Y2goZSkgew0KICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gY2xlYXIgYXBwIGRhdGEgYmVmb3JlIGltcG9ydDoiLCBlKTsNCiAgICAgIH0NCg0KICAgICAgLy8gUHJvZ3JhbW1hdGljYWxseSBjbGljayB0aGUgaGlkZGVuIGZpbGUgaW5wdXQgdG8gb3BlbiB0aGUgZmlsZSBwaWNrZXIuDQogICAgICBpbXBvcnRJbnB1dC5jbGljaygpOw0KICAgIH07DQoNCiAgICAvLyBIYW5kbGUgY2xpY2tzIG9uIHRoZSBzdHlsZWQgbGFiZWwuDQogICAgaW1wb3J0TGFiZWwuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gew0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRoZSBsYWJlbCdzIGRlZmF1bHQgYWN0aW9uLg0KICAgICAgc3RhcnRJbXBvcnRQcm9jZXNzKCk7DQogICAgfSk7DQoNCiAgICAvLyBIYW5kbGUga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eSAoRW50ZXIvU3BhY2UpLg0KICAgIGltcG9ydExhYmVsLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCAoZSkgPT4gew0KICAgICAgaWYgKGUua2V5ID09PSAiRW50ZXIiIHx8IGUua2V5ID09PSAiICIpIHsNCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICBzdGFydEltcG9ydFByb2Nlc3MoKTsNCiAgICAgIH0NCiAgICB9KTsNCg0KICAgIC8vIFRoZSBhY3R1YWwgaW1wb3J0IGhhcHBlbnMgd2hlbiBhIGZpbGUgaXMgc2VsZWN0ZWQgdmlhIHRoZSBpbnB1dC4NCiAgICBpbXBvcnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCAoKSA9PiB7DQogICAgICBjb25zdCBmaWxlID0gaW1wb3J0SW5wdXQuZmlsZXMgJiYgaW1wb3J0SW5wdXQuZmlsZXNbMF07DQogICAgICBpZiAoZmlsZSkgew0KICAgICAgICBpbXBvcnRCYWNrdXBGcm9tRmlsZShmaWxlKTsNCiAgICAgIH0NCiAgICAgIC8vIFJlc2V0IHRoZSBpbnB1dCBzbyB0aGUgdXNlciBjYW4gc2VsZWN0IHRoZSBzYW1lIGZpbGUgYWdhaW4gaWYgbmVlZGVkLg0KICAgICAgaW1wb3J0SW5wdXQudmFsdWUgPSAiIjsNCiAgICB9KTsNCiAgfQ0KfSkoKTsNCg0KDQoNCg0KdHJ5IHsgdXBkYXRlTmV0d29ya0JhZGdlKCk7IH0gY2F0Y2gge30NCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0V2FsbGV0QnRuJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlV2FsbGV0Q29ubmVjdENsaWNrKTsNCg0KLy8gV2lyZSB1cCB0aGUgY2hpcHMgb25jZQ0KKGZ1bmN0aW9uIGluaXRTdGF0dXNDaGlwcygpew0KICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLWNoaXBzJyk7DQogIGlmICghY29udGFpbmVyKSByZXR1cm47DQogIGNvbnN0IE1PTlRIUyA9IFsnSmFuJywnRmViJywnTWFyJywnQXByJywnTWF5JywnSnVuJywnSnVsJywnQXVnJywnU2VwJywnT2N0JywnTm92JywnRGVjJ107DQoNCiAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICBjb25zdCBidG4gPSBlLnRhcmdldC5jbG9zZXN0KCcuY2hpcCcpOw0KICAgIGlmICghYnRuKSByZXR1cm47DQoNCiAgICAvLyBUb2dnbGUgYWN0aXZlIGhpZ2hsaWdodA0KICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY2hpcCcpLmZvckVhY2goY2hpcCA9PiBjaGlwLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGNoaXAgPT09IGJ0bikpOw0KDQogICAgY29uc3QgYWN0aW9uID0gYnRuLmRhdGFzZXQuZmlsdGVyIHx8ICcnOw0KDQogICAgaWYgKGFjdGlvbiA9PT0gJycpIHsNCiAgICAgIC8vIEFsbDogY2xlYXIgYWxsIGhlYWRlciBmaWx0ZXJzIGFuZCBlbnN1cmUgU3RhdHVzIGlzIHNldCB0byBBbGwNCiAgICAgIGlmICh3aW5kb3cuY29pbnRvb2xUYWJsZSkgew0KICAgICAgICB3aW5kb3cuY29pbnRvb2xUYWJsZS5jbGVhckhlYWRlckZpbHRlcigpOw0KICAgICAgICB0cnkgeyB3aW5kb3cuY29pbnRvb2xUYWJsZS5zZXRIZWFkZXJGaWx0ZXJWYWx1ZSgnU3RhdHVzJywgJycpOyB9IGNhdGNoIChfKSB7fQ0KICAgICAgICB0cnkgeyB3aW5kb3cuY29pbnRvb2xUYWJsZS5zZXRTb3J0KCdNYXR1cml0eV9EYXRlX0ZtdCcsICdhc2MnKTsgfSBjYXRjaCAoXykge30NCiAgICAgIH0NCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOw0KICAgIGxldCB5ID0gbm93LmdldEZ1bGxZZWFyKCk7DQogICAgbGV0IG0gPSBub3cuZ2V0TW9udGgoKTsgLy8gMC4uMTENCiAgICBsZXQgdmFsdWUgPSAnJzsNCg0KICAgIHN3aXRjaCAoYWN0aW9uKSB7DQogICAgICBjYXNlICd0aGlzLW1vbnRoJzoNCiAgICAgICAgdmFsdWUgPSBgJHt5fSAke01PTlRIU1ttXX1gOw0KICAgICAgICBicmVhazsNCiAgICAgIGNhc2UgJ25leHQtbW9udGgnOg0KICAgICAgICBtID0gKG0gKyAxKSAlIDEyOw0KICAgICAgICBpZiAobSA9PT0gMCkgeSArPSAxOw0KICAgICAgICB2YWx1ZSA9IGAke3l9ICR7TU9OVEhTW21dfWA7DQogICAgICAgIGJyZWFrOw0KICAgICAgY2FzZSAndGhpcy15ZWFyJzoNCiAgICAgICAgdmFsdWUgPSBTdHJpbmcoeSk7DQogICAgICAgIGJyZWFrOw0KICAgICAgY2FzZSAnbmV4dC15ZWFyJzoNCiAgICAgICAgdmFsdWUgPSBTdHJpbmcoeSArIDEpOw0KICAgICAgICBicmVhazsNCiAgICAgIGNhc2UgJ3llYXItcGx1cy0yJzoNCiAgICAgICAgdmFsdWUgPSBTdHJpbmcoeSArIDIpOw0KICAgICAgICBicmVhazsNCiAgICAgIGNhc2UgJ3llYXItcGx1cy0zJzoNCiAgICAgICAgdmFsdWUgPSBTdHJpbmcoeSArIDMpOw0KICAgICAgICBicmVhazsNCiAgICAgIGRlZmF1bHQ6DQogICAgICAgIHZhbHVlID0gJyc7DQogICAgfQ0KDQogICAgLy8gQXBwbHkgdGhlIG1hdHVyaXR5IGZpbHRlciAobW9udGgveWVhciBvciB5ZWFyIG9ubHk7IG5vIGRheSBwYXJ0KQ0KICAgIHNldE1hdHVyaXR5SGVhZGVyRmlsdGVyVGV4dCh2YWx1ZSk7DQoNCiAgICAvLyBLZWVwIFN0YXR1cyBoZWFkZXIgZmlsdGVyIGF0IEFsbA0KICAgIHRyeSB7IHdpbmRvdy5jb2ludG9vbFRhYmxlPy5zZXRIZWFkZXJGaWx0ZXJWYWx1ZSgnU3RhdHVzJywgJycpOyB9IGNhdGNoIChfKSB7fQ0KICAgIHRyeSB7IHdpbmRvdy5jb2ludG9vbFRhYmxlPy5zZXRTb3J0KCdNYXR1cml0eV9EYXRlX0ZtdCcsICdhc2MnKTsgfSBjYXRjaCAoXykge30NCiAgfSk7DQp9KSgpOw0KDQovKiA9PT0gQVVUTy1DT05ORUNUIFdBTExFVCBPTiBQQUdFIExPQUQgKGFkZGVkIGJ5IG9wdGltaXplcikgPT09ICovDQooZnVuY3Rpb24oKSB7DQogIGNvbnN0IHJlYWR5ID0gKCkgPT4gbmV3IFByb21pc2UociA9PiB7DQogICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykgew0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHIoKSwgeyBvbmNlOiB0cnVlIH0pOw0KICAgIH0gZWxzZSB7IHIoKTsgfQ0KICB9KTsNCiAgKGFzeW5jICgpID0+IHsNCiAgICBhd2FpdCByZWFkeSgpOw0KICAgIGlmICghd2luZG93LmV0aGVyZXVtKSByZXR1cm47IC8vIG5vIGluamVjdGVkIHdhbGxldCBwcmVzZW50DQogICAgdHJ5IHsNCiAgICAgIC8vIE9ubHkgYXV0by1jb25uZWN0IGlmIHRoZSBzaXRlIGlzIGFscmVhZHkgYXV0aG9yaXplZCBieSB0aGUgd2FsbGV0DQogICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2FjY291bnRzJyB9KTsNCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5sZW5ndGggPiAwKSB7DQogICAgICAgIGlmICh0eXBlb2YgY29ubmVjdFdhbGxldCA9PT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgIGF3YWl0IGNvbm5lY3RXYWxsZXQoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyBGYWxsYmFjayBtaW5pbWFsIHNldHVwDQogICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHdpbmRvdy53ZWIzV2FsbGV0ID0gbmV3IFdlYjMod2luZG93LmV0aGVyZXVtKTsNCiAgICAgICAgICB9IGNhdGNoIChlKSB7fQ0KICAgICAgICAgIGNvbnN0IGFjY3QgPSBleGlzdGluZ1swXTsNCiAgICAgICAgICB3aW5kb3cuY29ubmVjdGVkQWNjb3VudCA9IGFjY3Q7DQogICAgICAgICAgY29uc3QgYnRuVHh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3RXYWxsZXRUZXh0Jyk7DQogICAgICAgICAgaWYgKGJ0blR4dCkgYnRuVHh0LnRleHRDb250ZW50ID0gYCR7YWNjdC5zbGljZSgwLDYpfS4uLiR7YWNjdC5zbGljZSgtNCl9YDsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgIGNvbnNvbGUud2FybignQXV0by1jb25uZWN0IHdhbGxldCBmYWlsZWQ6JywgZSk7DQogICAgfQ0KICB9KSgpOw0KfSkoKTsNCi8qID09PSBFTkQgQVVUTy1DT05ORUNUID09PSAqLw0KDQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gew0KDQoNCiAgLy8gY1JhbmsgKGdsb2JhbFJhbmspDQogIHVwZGF0ZUNyYW5rU3RhdHVzKCk7ICAgICAvLyBpbml0aWFsIFVJDQogIGNvbnN0IGNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVmcmVzaENyYW5rQnRuJyk7DQogIGlmIChjQnRuKSB7DQogICAgY0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHsNCiAgICAgIGNCdG4uZGlzYWJsZWQgPSB0cnVlOw0KICAgICAgdHJ5IHsgYXdhaXQgZmV0Y2hYZW5HbG9iYWxSYW5rKCk7IH0NCiAgICAgIGZpbmFsbHkgeyBjQnRuLmRpc2FibGVkID0gZmFsc2U7IH0NCiAgICB9KTsNCiAgfQ0KDQogIC8vIGluaXRpYWwgb25lLXRpbWUgZmV0Y2ggYXQgbG9hZA0KICBmZXRjaFhlbkdsb2JhbFJhbmsoKTsNCg0KICAvLyBpbml0aWFsIHN0YXR1cyB0ZXh0DQogIHVwZGF0ZVhlblByaWNlU3RhdHVzKCk7DQoNCiAgLy8gd2lyZSBidXR0b24gaW4gU2V0dGluZ3MNCiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZnJlc2hYZW5QcmljZUJ0bicpOw0KICBpZiAoYnRuKSB7DQogICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4gew0KICAgICAgYnRuLmRpc2FibGVkID0gdHJ1ZTsNCiAgICAgIHRyeSB7IGF3YWl0IGZldGNoWGVuVXNkUHJpY2UoKTsgfQ0KICAgICAgZmluYWxseSB7IGJ0bi5kaXNhYmxlZCA9IGZhbHNlOyB9DQogICAgfSk7DQogIH0NCg0KICAvLyBpbml0aWFsIGZldGNoICsgcGVyaW9kaWMgcmVmcmVzaCAob3B0aW9uYWwpDQogIGZldGNoWGVuVXNkUHJpY2UoKTsNCiAgc2V0SW50ZXJ2YWwoZmV0Y2hYZW5Vc2RQcmljZSwgNjBfMDAwKTsNCn0pOw0KDQoNCmZ1bmN0aW9uIHVwZGF0ZURvd25sb2FkQnV0dG9uc1Zpc2liaWxpdHkoKXsNCiAgY29uc3QgY3N2QnRuICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dubG9hZEJ0bicpOw0KICBjb25zdCBqc29uQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkSnNvbkJ0bicpOw0KICBjb25zdCBoYXNSb3dzID0gISEod2luZG93LmNvaW50b29sVGFibGUgJiYgdHlwZW9mIHdpbmRvdy5jb2ludG9vbFRhYmxlLmdldERhdGFDb3VudCA9PT0gJ2Z1bmN0aW9uJw0KICAgID8gd2luZG93LmNvaW50b29sVGFibGUuZ2V0RGF0YUNvdW50KCkgPiAwDQogICAgOiAod2luZG93LmNvaW50b29sVGFibGU/LmdldERhdGE/LigpPy5sZW5ndGggfHwgMCkgPiAwKTsNCg0KICBjb25zdCBkaXNwbGF5ID0gaGFzUm93cyA/ICcnIDogJ25vbmUnOw0KICBpZiAoY3N2QnRuKSAgY3N2QnRuLnN0eWxlLmRpc3BsYXkgID0gZGlzcGxheTsNCiAgaWYgKGpzb25CdG4pIGpzb25CdG4uc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7DQp9DQoNCi8vIEFmdGVyIHlvdSBpbml0aWFsaXplIGNvaW50b29sVGFibGU6DQppZiAod2luZG93LmNvaW50b29sVGFibGUpIHsNCiAgd2luZG93LmNvaW50b29sVGFibGUub24oJ2RhdGFMb2FkZWQnLCAgICAgdXBkYXRlRG93bmxvYWRCdXR0b25zVmlzaWJpbGl0eSk7DQogIHdpbmRvdy5jb2ludG9vbFRhYmxlLm9uKCdkYXRhUHJvY2Vzc2VkJywgIHVwZGF0ZURvd25sb2FkQnV0dG9uc1Zpc2liaWxpdHkpOw0KICB3aW5kb3cuY29pbnRvb2xUYWJsZS5vbignZGF0YUZpbHRlcmVkJywgICB1cGRhdGVEb3dubG9hZEJ1dHRvbnNWaXNpYmlsaXR5KTsNCiAgd2luZG93LmNvaW50b29sVGFibGUub24oJ3JlbmRlckNvbXBsZXRlJywgdXBkYXRlRG93bmxvYWRCdXR0b25zVmlzaWJpbGl0eSk7DQp9DQoNCi8vIEFsc28gY2FsbCBvbmNlIGFmdGVyIHlvdXIgZmlyc3QgZGF0YSBsb2FkIC8gc2NhbiBjb21wbGV0ZXM6DQp1cGRhdGVEb3dubG9hZEJ1dHRvbnNWaXNpYmlsaXR5KCk7DQoNCi8vID09PT09IEdBUyBQUklDRSBXQVRDSEVSIChXQUxMRVQtSU5ERVBFTkRFTlQpID09PT09DQooZnVuY3Rpb24gaW5pdEdhc1ByaWNlV2F0Y2hlcigpIHsNCiAgY29uc3QgaGVhZGVyR2FzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyR2FzTm93Jyk7DQogIGlmICghaGVhZGVyR2FzRWwpIHJldHVybjsNCg0KICBsZXQgd2ViM0dhczsNCiAgbGV0IHJwY0xpc3QgPSBbXTsNCiAgbGV0IGN1cnJlbnRScGNJbmRleCA9IDA7DQogIGxldCBnYXNJbnRlcnZhbElkID0gbnVsbDsgLy8gVG8gaG9sZCB0aGUgc2V0SW50ZXJ2YWwgSUQNCg0KICBpZiAoIWhlYWRlckdhc0VsKSByZXR1cm47DQoNCg0KICBmdW5jdGlvbiBnZXRScGNMaXN0RnJvbVNldHRpbmdzKCkgew0KICAgIC8vIFJlYWRzIGZyb20gdGhlIHNhbWUgc291cmNlIGFzIHlvdXIgc2NhbiBmdW5jdGlvbnMNCiAgICBjb25zdCBjdXN0b21SUEMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIik/LnZhbHVlIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXN0b21SUEMiKSB8fCBERUZBVUxUX1JQQzsNCiAgICByZXR1cm4gY3VzdG9tUlBDLnNwbGl0KCJcbiIpLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7DQogIH0NCg0KICBmdW5jdGlvbiBzd2l0Y2hScGMoKSB7DQogICAgaWYgKCFycGNMaXN0Lmxlbmd0aCkgcmV0dXJuOw0KICAgIGN1cnJlbnRScGNJbmRleCA9IChjdXJyZW50UnBjSW5kZXggKyAxKSAlIHJwY0xpc3QubGVuZ3RoOw0KICAgIGNvbnN0IG5ld1JwYyA9IHJwY0xpc3RbY3VycmVudFJwY0luZGV4XTsNCiAgICB0cnkgew0KICAgICAgaWYgKHdlYjNHYXMpIHsNCiAgICAgICAgd2ViM0dhcy5zZXRQcm92aWRlcihuZXcgV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKG5ld1JwYykpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgd2ViM0dhcyA9IG5ldyBXZWIzKG5ld1JwYyk7DQogICAgICB9DQogICAgfSBjYXRjaCAoZSkgew0KICAgICAgY29uc29sZS5lcnJvcigiR2FzIFdhdGNoZXI6IEZhaWxlZCB0byBzZXQgbmV3IHByb3ZpZGVyIiwgZSk7DQogICAgfQ0KICB9DQoNCiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hHYXNQcmljZSgpIHsNCiAgICBycGNMaXN0ID0gZ2V0UnBjTGlzdEZyb21TZXR0aW5ncygpOw0KICAgIGlmICghcnBjTGlzdC5sZW5ndGgpIHsNCiAgICAgIGNvbnNvbGUud2FybigiR2FzIFdhdGNoZXI6IE5vIFJQQyBlbmRwb2ludHMgY29uZmlndXJlZC4iKTsNCiAgICAgIHVwZGF0ZURpc3BsYXkobnVsbCwgIk5vIFJQQ3MgY29uZmlndXJlZCIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGlmICghd2ViM0dhcykgew0KICAgICAgd2ViM0dhcyA9IG5ldyBXZWIzKHJwY0xpc3RbMF0pOw0KICAgIH0NCg0KICAgIGNvbnN0IG1heEF0dGVtcHRzID0gcnBjTGlzdC5sZW5ndGggKiAyOw0KICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3Qgd2VpID0gYXdhaXQgd2ViM0dhcy5ldGguZ2V0R2FzUHJpY2UoKTsNCiAgICAgICAgY29uc3QgZ3dlaSA9IHBhcnNlRmxvYXQoV2ViMy51dGlscy5mcm9tV2VpKHdlaSwgJ2d3ZWknKSk7DQoNCiAgICAgICAgaWYgKGlzRmluaXRlKGd3ZWkpKSB7DQogICAgICAgICAgdXBkYXRlRGlzcGxheShnd2VpLCBudWxsLCBycGNMaXN0W2N1cnJlbnRScGNJbmRleF0pOw0KICAgICAgICAgIHN0YXJ0SGVhZGVyR2FzQ291bnRkb3duKGdldEdhc1JlZnJlc2hNcygpKTsgLy8gVXNlIHRoZSBkeW5hbWljIHZhbHVlDQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLndhcm4oYEdhcyBXYXRjaGVyOiBGYWlsZWQgdG8gZ2V0IGdhcyBwcmljZSBmcm9tICR7cnBjTGlzdFtjdXJyZW50UnBjSW5kZXhdfS5gKTsNCiAgICAgICAgc3dpdGNoUnBjKCk7IC8vIFRyeSBuZXh0IFJQQw0KICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKSk7DQogICAgICB9DQogICAgfQ0KDQogICAgdXBkYXRlRGlzcGxheShudWxsLCAiQWxsIFJQQ3MgZmFpbGVkIik7DQogIH0NCg0KICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KGd3ZWksIGVycm9yTXNnID0gbnVsbCwgcnBjVXJsID0gbnVsbCkgew0KICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7DQogICAgaWYgKGd3ZWkgIT09IG51bGwpIHsNCiAgICAgIGhlYWRlckdhc0VsLnRleHRDb250ZW50ID0gYCR7Z3dlaS50b0ZpeGVkKDIpfSBnd2VpYDsNCiAgICAgIGNvbnN0IHJwY05hbWUgPSBycGNVcmwgPyBgIHZpYSAke25ldyBVUkwocnBjVXJsKS5ob3N0bmFtZX1gIDogJyc7DQogICAgICBoZWFkZXJHYXNFbC50aXRsZSA9IGBMYXN0IHJlZnJlc2g6ICR7bm93LnRvTG9jYWxlVGltZVN0cmluZygpfSR7cnBjTmFtZX1gOw0KICAgIH0gZWxzZSB7DQogICAgICBoZWFkZXJHYXNFbC50ZXh0Q29udGVudCA9ICcuLi4gZ3dlaSc7DQogICAgICBoZWFkZXJHYXNFbC50aXRsZSA9IGBGYWlsZWQgdG8gcmVmcmVzaCBnYXMgcHJpY2UuICR7ZXJyb3JNc2cgfHwgJyd9LiBMYXN0IGF0dGVtcHQ6ICR7bm93LnRvTG9jYWxlVGltZVN0cmluZygpfWA7DQogICAgICAvLyBTdG9wIHRoZSBjb3VudGRvd24gYmFyIG9uIGZhaWx1cmUNCiAgICAgIGhlYWRlckdhc0VsLnN0eWxlLnNldFByb3BlcnR5KCctLXAnLCAnMCcpOw0KICAgIH0NCiAgfQ0KDQogIGxldCBnYXNDb3VudGRvd25SYWYgPSBudWxsOw0KICBsZXQgZ2FzQ291bnRkb3duU3RhcnQgPSAwOw0KICBmdW5jdGlvbiBzdGFydEhlYWRlckdhc0NvdW50ZG93bihkdXJhdGlvbk1zKSB7IC8vIGR1cmF0aW9uTXMgaXMgbm93IHBhc3NlZCBpbg0KICAgIGlmIChnYXNDb3VudGRvd25SYWYpIHsNCiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGdhc0NvdW50ZG93blJhZik7DQogICAgfQ0KICAgIGdhc0NvdW50ZG93blN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7DQogICAgaGVhZGVyR2FzRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tcCcsICcxJyk7DQogICAgY29uc3QgdGljayA9IChub3cpID0+IHsNCiAgICAgIGNvbnN0IGVsYXBzZWQgPSBub3cgLSBnYXNDb3VudGRvd25TdGFydDsNCiAgICAgIGNvbnN0IHJlbWFpbiA9IE1hdGgubWF4KDAsIDEgLSAoZWxhcHNlZCAvIGR1cmF0aW9uTXMpKTsNCiAgICAgIGhlYWRlckdhc0VsLnN0eWxlLnNldFByb3BlcnR5KCctLXAnLCBTdHJpbmcocmVtYWluKSk7DQogICAgICBpZiAoZWxhcHNlZCA8IGR1cmF0aW9uTXMpIHsNCiAgICAgICAgZ2FzQ291bnRkb3duUmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spOw0KICAgICAgfQ0KICAgIH07DQogICAgZ2FzQ291bnRkb3duUmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spOw0KICB9DQoNCiAgZnVuY3Rpb24gc3RhcnRXYXRjaGVyKCkgew0KICAgIGlmIChnYXNJbnRlcnZhbElkKSB7DQogICAgICBjbGVhckludGVydmFsKGdhc0ludGVydmFsSWQpOw0KICAgIH0NCiAgICBmZXRjaEdhc1ByaWNlKCk7IC8vIEluaXRpYWwgZmV0Y2gNCiAgICBnYXNJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZmV0Y2hHYXNQcmljZSwgZ2V0R2FzUmVmcmVzaE1zKCkpOw0KICB9DQoNCiAgLy8gR2FzIFJlZnJlc2ggSW50ZXJ2YWwgKHZhbGlkYXRlZCBudW1iZXIgPj0gNSkNCiAgY29uc3QgZ2FzUmVmcmVzaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdhc1JlZnJlc2hTZWNvbmRzIik7DQogIGlmIChnYXNSZWZyZXNoSW5wdXQpIHsNCiAgICBjb25zdCBwZXJzaXN0R2FzUmVmcmVzaCA9ICh2YWwpID0+IHsNCiAgICAgIGNvbnN0IHYgPSBwYXJzZUludCh2YWwsIDEwKTsNCiAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUodikgJiYgdiA+PSA1ICYmIHYgPD0gNjApIHsNCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImdhc1JlZnJlc2hTZWNvbmRzIiwgU3RyaW5nKHYpKTsNCiAgICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICJmdW5jdGlvbiIpIHNob3dUb2FzdChgR2FzIHJlZnJlc2ggaW50ZXJ2YWwgc2F2ZWQgKCR7dn1zKWAsICJzdWNjZXNzIik7DQogICAgICAgIG1hcmtWYWxpZGl0eSgiZmllbGQtZ2FzUmVmcmVzaFNlY29uZHMiLCB0cnVlKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0eXBlb2Ygc2hvd1RvYXN0ID09PSAiZnVuY3Rpb24iKSBzaG93VG9hc3QoIkdhcyByZWZyZXNoIG11c3QgYmUgYmV0d2VlbiA1IGFuZCA2MCBzZWNvbmRzLiIsICJlcnJvciIpOw0KICAgICAgICBnYXNSZWZyZXNoSW5wdXQudmFsdWUgPSBTdHJpbmcoZ2V0R2FzUmVmcmVzaE1zKCkgLyAxMDAwKTsgLy8gcmV2ZXJ0DQogICAgICAgIG1hcmtWYWxpZGl0eSgiZmllbGQtZ2FzUmVmcmVzaFNlY29uZHMiLCBmYWxzZSwgIkdhcyByZWZyZXNoIG11c3QgYmUgYmV0d2VlbiA1IGFuZCA2MCBzZWNvbmRzLiIpOw0KICAgICAgfQ0KICAgIH07DQogICAgZ2FzUmVmcmVzaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHBlcnNpc3RHYXNSZWZyZXNoKGdhc1JlZnJlc2hJbnB1dC52YWx1ZSkpOw0KICAgIGdhc1JlZnJlc2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJibHVyIiwgKCkgPT4gcGVyc2lzdEdhc1JlZnJlc2goZ2FzUmVmcmVzaElucHV0LnZhbHVlKSk7DQogICAgZ2FzUmVmcmVzaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCAoZSkgPT4gew0KICAgICAgaWYgKGUua2V5ID09PSAiRW50ZXIiKSB7IGUucHJldmVudERlZmF1bHQoKTsgcGVyc2lzdEdhc1JlZnJlc2goZ2FzUmVmcmVzaElucHV0LnZhbHVlKTsgfQ0KICAgIH0pOw0KICB9DQoNCiAgc3RhcnRXYXRjaGVyKCk7IC8vIEluaXRpYWwgc3RhcnQNCg0KfSkoKTsNCg0KDQovLyBFbnN1cmUgd2FsbGV0IGV5ZSBpcyBzaXplZCBvbiBET00gcmVhZHkNCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7IHRyeSB7IF9fdXBkYXRlV2FsbGV0RXllU2l6ZSgpOyB9IGNhdGNoIHt9IH0pOw0KDQoNCg0KDQpmdW5jdGlvbiBpc1dhbGxldENvbm5lY3RlZCgpeyByZXR1cm4gISF3aW5kb3cuY29ubmVjdGVkQWNjb3VudDsgfQ0KDQphc3luYyBmdW5jdGlvbiBkaXNjb25uZWN0V2FsbGV0KCl7DQogIHRyeSB7DQogICAgd2luZG93LmNvbm5lY3RlZEFjY291bnQgPSBudWxsOw0KICAgIHRyeSB7IHdpbmRvdy53ZWIzV2FsbGV0ID0gbnVsbDsgfSBjYXRjaCB7fQ0KICAgIGNvbnN0IGJ0blR4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0V2FsbGV0VGV4dCcpOw0KICAgIGlmIChidG5UeHQpIGJ0blR4dC50ZXh0Q29udGVudCA9ICdDb25uZWN0IFdhbGxldCc7DQogICAgYXdhaXQgdXBkYXRlTmV0d29ya0JhZGdlKCk7DQogICAgdHJ5IHsgd2luZG93LnByZWZpbGxTdGFrZUFtb3VudEZyb21CYWxhbmNlPy4oKTsgd2luZG93LnVwZGF0ZVN0YWtlU3RhcnRFbmFibGVkPy4oKTsgfSBjYXRjaCB7fQ0KICAgIHRyeSB7IHdpbmRvdy51cGRhdGVNaW50Q29ubmVjdEhpbnQ/LigpOyB3aW5kb3cudXBkYXRlU3Rha2VDb25uZWN0SGludD8uKCk7IH0gY2F0Y2gge30NCiAgICB0cnkgeyB3aW5kb3cuZXRoZXJldW0/LnJlbW92ZUFsbExpc3RlbmVycz8uKCdjaGFpbkNoYW5nZWQnKTsgfSBjYXRjaCB7fQ0KICAgIHRyeSB7IHdpbmRvdy5ldGhlcmV1bT8ucmVtb3ZlQWxsTGlzdGVuZXJzPy4oJ2FjY291bnRzQ2hhbmdlZCcpOyB9IGNhdGNoIHt9DQogIH0gY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKCdkaXNjb25uZWN0V2FsbGV0OiAnLCBlKTsgfQ0KfQ0KDQpmdW5jdGlvbiBoYW5kbGVXYWxsZXRDb25uZWN0Q2xpY2soKXsNCiAgdHJ5IHsNCiAgICBpZiAoIWlzUHJpdmFjeUFjY2VwdGVkKCkpIHsgb3BlblByaXZhY3lNb2RhbCgpOyByZXR1cm47IH0NCiAgICBpZiAoaXNXYWxsZXRDb25uZWN0ZWQoKSkgeyBkaXNjb25uZWN0V2FsbGV0KCk7IH0gZWxzZSB7IGNvbm5lY3RXYWxsZXQoKTsgfQ0KICB9IGNhdGNoIHt9DQp9DQoNCg==',
        'js/unify.js': 'Ci8vID09PSBVTklGSUVEIFZJRVcgKENvaW5Ub29sICsgWEVORlQpID09PQovLyBHb2FsOiBvbmUgdGFibGUgKCNjb2ludG9vbC10YWJsZSkgdGhhdCBpbmNsdWRlcyBCT1RIIENvaW5Ub29sIG1pbnRzIGFuZCBYRU5GVHMuCi8vIC0gQWRkcyBhICJTY2FuIFhFTkZUcyIgYnV0dG9uIG5leHQgdG8geW91ciBleGlzdGluZyBTY2FuIGJ1dHRvbgovLyAtIEFwcGVuZHMgWEVORlQtc3BlY2lmaWMgY29sdW1ucyB0byB0aGUgQ29pblRvb2wgdGFibGUKLy8gLSBNZXJnZXMgZGF0YSBhbmQga2VlcHMgaXQgbWVyZ2VkIGFmdGVyIENvaW5Ub29sIHJlZnJlc2hlcwovLyAtIENhbGVuZGFyIHNob3dzIHRvdGFsIFZNVXMgYWNyb3NzIGJvdGgKLy8gLSBTdW1tYXJ5IGdldHMgYW4gZXh0cmEgWEVORlQgbGluZQoKZnVuY3Rpb24gdXBkYXRlU3Rha2VTdW1tYXJ5TGluZSgpewogIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdW1tYXJ5Q29udGFpbmVyIik7CiAgaWYgKCFjb250YWluZXIpIHJldHVybjsKCiAgbGV0IGxpbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Rha2VJdGVtQ291bnQiKTsKICBpZiAoIWxpbmUpIHsKICAgIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGxpbmUuaWQgPSAic3Rha2VJdGVtQ291bnQiOwogICAgbGluZS5zdHlsZS5tYXJnaW5Ub3AgPSAiNHB4IjsKICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsaW5lKTsKICB9CgogIGNvbnN0IGFsbCA9IChBcnJheS5pc0FycmF5KHdpbmRvdy5fYWxsVW5pZmllZFJvd3MpICYmIHdpbmRvdy5fYWxsVW5pZmllZFJvd3MubGVuZ3RoKQogICAgPyB3aW5kb3cuX2FsbFVuaWZpZWRSb3dzCiAgICA6ICh3aW5kb3cuY29pbnRvb2xUYWJsZSA/ICh3aW5kb3cuY29pbnRvb2xUYWJsZS5nZXREYXRhKCJhbGwiKSB8fCB3aW5kb3cuY29pbnRvb2xUYWJsZS5nZXREYXRhKCJhY3RpdmUiKSkgOiBbXSk7CgogIGNvbnN0IHMgPSBhbGwuZmlsdGVyKHIgPT4gci5Tb3VyY2VUeXBlID09PSAiU3Rha2UiKTsKICBjb25zdCBjb3VudCA9IHMubGVuZ3RoOwogIGNvbnN0IG1hdHVyaW5nQ291bnQgPSBzLmZpbHRlcihyID0+IHIuU3RhdHVzID09PSAiTWF0dXJpbmciKS5sZW5ndGg7CiAgY29uc3QgY2xhaW1hYmxlQ291bnQgPSBzLmZpbHRlcihyID0+IHIuU3RhdHVzID09PSAiQ2xhaW1hYmxlIikubGVuZ3RoOwoKICBsaW5lLmlubmVySFRNTCA9IGA8c3Ryb25nPlN0YWtlczo8L3N0cm9uZz4gJHtjb3VudC50b0xvY2FsZVN0cmluZygpfSB8IDxzdHJvbmc+TWF0dXJpbmc6PC9zdHJvbmc+ICR7bWF0dXJpbmdDb3VudC50b0xvY2FsZVN0cmluZygpfSB8IDxzdHJvbmc+Q2xhaW1hYmxlOjwvc3Ryb25nPiAke2NsYWltYWJsZUNvdW50LnRvTG9jYWxlU3RyaW5nKCl9YDsKfQoKZnVuY3Rpb24gZGVib3VuY2UoZm4sIHdhaXQgPSAyMDApIHsKICBsZXQgdDsKICByZXR1cm4gKC4uLmFyZ3MpID0+IHsgY2xlYXJUaW1lb3V0KHQpOyB0ID0gc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgd2FpdCk7IH07Cn0KCmZ1bmN0aW9uIHNldEhlYWRlckZpbHRlclRleHQoZmllbGQsIHRleHQpIHsKICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YWJ1bGF0b3ItY29sW3RhYnVsYXRvci1maWVsZD0iJHtmaWVsZH0iXSAudGFidWxhdG9yLWhlYWRlci1maWx0ZXIgaW5wdXRgKTsKICBpZiAoIWlucHV0KSByZXR1cm47CiAgaW5wdXQudmFsdWUgPSB0ZXh0IHx8ICIiOwogIGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJpbnB1dCIsICB7IGJ1YmJsZXM6IHRydWUgfSkpOwogIGlucHV0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJjaGFuZ2UiLCB7IGJ1YmJsZXM6IHRydWUgfSkpOwogIC8vIElmIHlvdXIgdGFibGUgbmVlZHMgRW50ZXIgdG8gY29tbWl0LCB1bmNvbW1lbnQ6CiAgLy8gaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHsgYnViYmxlczp0cnVlLCBjYW5jZWxhYmxlOnRydWUsIGtleTonRW50ZXInLCBjb2RlOidFbnRlcicsIGtleUNvZGU6MTMgfSkpOwp9CgovLyBEZWJvdW5jZWQgdmFyaWFudCB3ZeKAmWxsIHVzZSBldmVyeXdoZXJlCmNvbnN0IHNldEhlYWRlckZpbHRlclRleHREZWJvdW5jZWQgPSBkZWJvdW5jZShzZXRIZWFkZXJGaWx0ZXJUZXh0LCAyMDApOwoKLy8gPT09IFVuaWZpZWQgU2NhbjogQWxsIC8gQ29pbnRvb2wgLyBYRU5GVHMgPT09CihmdW5jdGlvbiBpbml0VW5pZmllZFNjYW4oKXsKICBjb25zdCBNT0RFX0tFWSA9ICJzY2FuTW9kZSI7CiAgY29uc3QgJCA9IChzZWwpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsKTsKICBsZXQgc2NhbkJ0biAgICAgICA9ICQoIiNzY2FuQnRuIik7IC8vIENoYW5nZWQgdG8gbGV0CiAgY29uc3QgbW9kZVRvZ2dsZSAgICA9ICQoIiNzY2FuTW9kZVRvZ2dsZSIpOwogIGNvbnN0IG1vZGVNZW51ICAgICAgPSAkKCIjc2Nhbk1vZGVNZW51Iik7CiAgY29uc3QgbW9kZUJhZGdlICAgICA9ICQoIiNzY2FuTW9kZUJhZGdlIik7CgogIGlmICghc2NhbkJ0biB8fCAhbW9kZVRvZ2dsZSB8fCAhbW9kZU1lbnUgfHwgIW1vZGVCYWRnZSkgcmV0dXJuOyAvLyBIVE1MIG5vdCBwcmVzZW50CgogIGZ1bmN0aW9uIGdldE1vZGUoKXsKICAgIGNvbnN0IHYgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShNT0RFX0tFWSk7CiAgICByZXR1cm4gKHYgPT09ICJjb2ludG9vbCIgfHwgdiA9PT0gInhlbmZ0IiB8fCB2ID09PSAic3Rha2UteGVuZnQiIHx8IHYgPT09ICJzdGFrZSIpID8gdiA6ICJhbGwiOwogIH0KCiAgZnVuY3Rpb24gc2V0TW9kZSh2KXsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1PREVfS0VZLCB2KTsKICAgIHVwZGF0ZVNjYW5CdXR0b25UZXh0KHYpOyAvLyBUaGlzIG5vdyBzZXRzIHRoZSBlbnRpcmUgYnV0dG9uIHRleHQKICAgIG1vZGVNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoImxpIikuZm9yRWFjaChsaSA9PiB7CiAgICAgIGxpLnNldEF0dHJpYnV0ZSgiYXJpYS1zZWxlY3RlZCIsIGxpLmRhdGFzZXQudmFsdWUgPT09IHYgPyAidHJ1ZSIgOiAiZmFsc2UiKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiB1cGRhdGVCYWRnZSh2KXsKICAgIG1vZGVCYWRnZS50ZXh0Q29udGVudCA9CiAgICAgIHYgPT09ICJjb2ludG9vbCIgICA/ICJDb2ludG9vbCIgOgogICAgICAgIHYgPT09ICJ4ZW5mdCIgICAgICA/ICJYRU5GVHMiIDoKICAgICAgICAgIHYgPT09ICJzdGFrZS14ZW5mdCI/ICJTdGFrZSBYRU5GVHMiIDoKICAgICAgICAgICAgIkFsbCI7CiAgfQoKICAvLyBORVcsIFJPQlVTVCBWRVJTSU9OIG9mIHRoZSBmdW5jdGlvbiB0aGF0IHVwZGF0ZXMgdGhlIGJ1dHRvbiB0ZXh0CiAgZnVuY3Rpb24gdXBkYXRlU2NhbkJ1dHRvblRleHQodikgewogICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NhbkJ0bkxhYmVsIik7CiAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzY2FuTW9kZUJhZGdlIik7CiAgICBpZiAobGFiZWwpIHsKICAgICAgbGFiZWwudGV4dENvbnRlbnQgPQogICAgICAgIHYgPT09ICJjb2ludG9vbCIgICAgID8gIlNjYW4gQ29pbnRvb2wiIDoKICAgICAgICAgIHYgPT09ICJ4ZW5mdCIgICAgICAgID8gIlNjYW4gWEVORlRzIiA6CiAgICAgICAgICAgIHYgPT09ICJzdGFrZS14ZW5mdCIgID8gIlNjYW4gU3Rha2UgWEVORlRzIiA6CiAgICAgICAgICAgICAgdiA9PT0gInN0YWtlIiAgICAgICAgPyAiU2NhbiBTdGFrZXMiIDoKICAgICAgICAgICAgICAgICJTY2FuIjsKICAgIH0KICAgIGlmIChiYWRnZSkgewogICAgICBiYWRnZS50ZXh0Q29udGVudCA9CiAgICAgICAgdiA9PT0gImNvaW50b29sIiAgICAgPyAiQ29pbnRvb2wiIDoKICAgICAgICAgIHYgPT09ICJ4ZW5mdCIgICAgICAgID8gIlhFTkZUcyIgOgogICAgICAgICAgICB2ID09PSAic3Rha2UteGVuZnQiICA/ICJTdGFrZSBYRU5GVHMiIDoKICAgICAgICAgICAgICB2ID09PSAic3Rha2UiICAgICAgICA/ICJTdGFrZXMiIDoKICAgICAgICAgICAgICAgICJBbGwiOwogICAgfQogIH0KLy8gLi4uCgovLyBPcmNoZXN0cmF0ZSBzY2FucyBiYXNlZCBvbiBtb2RlCi8vIE5FVywgUk9CVVNUIFZFUlNJT04gb2YgdGhlIG1haW4gc2NhbiBmdW5jdGlvbgoKCiAgYXN5bmMgZnVuY3Rpb24gc2NhblVuaWZpZWQoKXsKICAgIGNvbnN0IGxpdmVTY2FuQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjYW5CdG4iKTsKICAgIGNvbnN0IG1vZGVUb2dnbGVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzY2FuTW9kZVRvZ2dsZSIpOwogICAgY29uc3Qgc3RvcEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW5jZWxTY2FuQnRuIik7CiAgICBpZiAoIWxpdmVTY2FuQnRuKSByZXR1cm47CgogICAgY29uc3QgbW9kZSA9IGdldE1vZGUoKTsKCiAgICAvLyBFbnN1cmUgcHJvZ3Jlc3MgY29udGFpbmVyIGlzIHZpc2libGUgaW1tZWRpYXRlbHkgYW5kIHR5cGUgaXMgbGFiZWxlZAogICAgdHJ5IHsKICAgICAgY29uc3QgdHlwZUxhYmVsID0gKAogICAgICAgIG1vZGUgPT09ICdhbGwnID8gJ0FsbCcgOgogICAgICAgIG1vZGUgPT09ICdjb2ludG9vbCcgPyAnQ29pbnRvb2wnIDoKICAgICAgICBtb2RlID09PSAneGVuZnQnID8gJ1hFTkZUcycgOgogICAgICAgIG1vZGUgPT09ICdzdGFrZS14ZW5mdCcgPyAnU3Rha2UgWEVORlRzJyA6CiAgICAgICAgbW9kZSA9PT0gJ3N0YWtlJyA/ICdTdGFrZXMnIDogJ1NjYW4nCiAgICAgICk7CiAgICAgIHdpbmRvdy5wcm9ncmVzc1VJPy5zaG93KHRydWUpOwogICAgICB3aW5kb3cucHJvZ3Jlc3NVST8uc2V0VHlwZSh0eXBlTGFiZWwpOwogICAgfSBjYXRjaCB7fQoKICAgIGxpdmVTY2FuQnRuLmRhdGFzZXQucHJldlRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NhbkJ0bkxhYmVsIik/LnRleHRDb250ZW50IHx8ICJTY2FuIjsKICAgIGNvbnN0IHNjYW5uaW5nVGV4dCA9CiAgICAgIG1vZGUgPT09ICJhbGwiICAgICAgICA/ICJTY2FubmluZyBBbGzigKYiCiAgICAgICAgOiBtb2RlID09PSAieGVuZnQiICAgICAgPyAiU2Nhbm5pbmcgWEVORlRz4oCmIgogICAgICAgICAgOiBtb2RlID09PSAic3Rha2UteGVuZnQiPyAiU2Nhbm5pbmcgU3Rha2UgWEVORlRz4oCmIgogICAgICAgICAgICA6IG1vZGUgPT09ICJzdGFrZSIgICAgICA/ICJTY2FubmluZyBTdGFrZXPigKYiCiAgICAgICAgICAgICAgOiAgICAgICAgICAgICAgICAgICAgICAgICAiU2Nhbm5pbmcgQ29pbnRvb2zigKYiOwoKICAgIC8vIERpc2FibGUgc3BsaXQgc2NhbiBjb250cm9scyBhbmQgc2hvdyBTdG9wIGJ1dHRvbgogICAgdHJ5IHsKICAgICAgaWYgKG1vZGVUb2dnbGVFbCkgbW9kZVRvZ2dsZUVsLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgbGl2ZVNjYW5CdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICBsaXZlU2NhbkJ0bi5zZXRBdHRyaWJ1dGUoImFyaWEtYnVzeSIsICJ0cnVlIik7CiAgICAgIGlmIChzdG9wQnRuKSB7CiAgICAgICAgc3RvcEJ0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgICAgc3RvcEJ0bi50ZXh0Q29udGVudCA9ICJTdG9wIFNjYW4iOwogICAgICAgIHN0b3BCdG4ub25jbGljayA9ICgpID0+IHsgdHJ5IHsgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyB9IGNhdGNoIHsgbG9jYXRpb24ucmVsb2FkKCk7IH0gfTsKICAgICAgfQogICAgfSBjYXRjaCB7fQoKICAgIC8vIElmIEZvcmNlIFJlc2NhbiBpcyBjaGVja2VkLCBjb25maXJtIGFuZCBDTEVBUiBzdG9yZXMgZm9yIHRoZSBzZWxlY3RlZCBtb2RlIGZpcnN0IChmYXN0IHBhdGgpCiAgICB0cnkgewogICAgICBjb25zdCBmb3JjZSA9ICEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvcmNlUmVzY2FuJyk/LmNoZWNrZWQ7CiAgICAgIGlmIChmb3JjZSkgewogICAgICAgIGNvbnN0IGRiSWRzID0gKAogICAgICAgICAgbW9kZSA9PT0gJ2FsbCcgPyBbJ0RCX0NvaW50b29sJywnREJfWGVuZnQnLCdEQi1YZW5mdC1TdGFrZScsJ0RCLVhlbi1TdGFrZSddIDoKICAgICAgICAgIG1vZGUgPT09ICdjb2ludG9vbCcgPyBbJ0RCX0NvaW50b29sJ10gOgogICAgICAgICAgbW9kZSA9PT0gJ3hlbmZ0JyA/IFsnREJfWGVuZnQnXSA6CiAgICAgICAgICBtb2RlID09PSAnc3Rha2UteGVuZnQnID8gWydEQi1YZW5mdC1TdGFrZSddIDoKICAgICAgICAgIG1vZGUgPT09ICdzdGFrZScgPyBbJ0RCLVhlbi1TdGFrZSddIDoKICAgICAgICAgIFsnREJfQ29pbnRvb2wnXQogICAgICAgICk7CgogICAgICAgIGNvbnN0IGZyaWVuZGx5ID0gKGlkKSA9PiAoCiAgICAgICAgICBpZCA9PT0gJ0RCX0NvaW50b29sJyA/ICdDb2ludG9vbCAobWludHMpJyA6CiAgICAgICAgICBpZCA9PT0gJ0RCX1hlbmZ0JyA/ICdYRU5GVCAoTkZUIHNjYW5zKScgOgogICAgICAgICAgaWQgPT09ICdEQi1YZW5mdC1TdGFrZScgPyAnWEVORlQgU3Rha2UgKHN0YWtlcyknIDoKICAgICAgICAgIGlkID09PSAnREItWGVuLVN0YWtlJyA/ICdYRU4gU3Rha2UgKHJlZ3VsYXIpJyA6IGlkCiAgICAgICAgKTsKCiAgICAgICAgY29uc3QgdGl0bGUgPSBkYklkcy5sZW5ndGggPiAxCiAgICAgICAgICA/IGBGb3JjZSByZXNjYW4gd2lsbCBkZWxldGUgQUxMIHNhdmVkIGRhdGEgZm9yOiAke2RiSWRzLm1hcChmcmllbmRseSkuam9pbignLCAnKX0uXG5cbkNvbnRpbnVlP2AKICAgICAgICAgIDogYEZvcmNlIHJlc2NhbiB3aWxsIGRlbGV0ZSAke2ZyaWVuZGx5KGRiSWRzWzBdKX0uIENvbnRpbnVlP2A7CgogICAgICAgIGNvbnN0IG9rID0gY29uZmlybSh0aXRsZSk7CiAgICAgICAgaWYgKCFvaykgcmV0dXJuOyAvLyB1c2VyIGNhbmNlbGVkCgogICAgICAgIC8vIEltbWVkaWF0ZSBVSSBmZWVkYmFjayB3aGlsZSBjbGVhcmluZwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzY2FuQnRuTGFiZWwiKS50ZXh0Q29udGVudCA9ICJQcmVwYXJpbmcgcmVzY2Fu4oCmIjsKICAgICAgICBsaXZlU2NhbkJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgbGl2ZVNjYW5CdG4uc2V0QXR0cmlidXRlKCJhcmlhLWJ1c3kiLCAidHJ1ZSIpOwoKICAgICAgICAvLyBSdW4gY2xlYXJzIGluIHBhcmFsbGVsIGZvciBzcGVlZCAobm8gREIgZGVsZXRpb24gdG8gYXZvaWQgYmxvY2tpbmcpCiAgICAgICAgY29uc3QgdGFza3MgPSBkYklkcy5tYXAoKGlkKSA9PiB7CiAgICAgICAgICBpZiAoaWQgPT09ICdEQl9Db2ludG9vbCcpIHsKICAgICAgICAgICAgcmV0dXJuICh0eXBlb2Ygb3BlbkRCID09PSAnZnVuY3Rpb24nID8gb3BlbkRCKCkgOiBQcm9taXNlLnJlc29sdmUobnVsbCkpLnRoZW4oYXN5bmMgKGRiKSA9PiB7CiAgICAgICAgICAgICAgaWYgKCFkYikgcmV0dXJuOyBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgICAgICAgICAgICBjbGVhclN0b3JlKGRiLCAnbWludHMnKS5jYXRjaCgoKT0+e30pLAogICAgICAgICAgICAgICAgY2xlYXJTdG9yZShkYiwgJ3NjYW5TdGF0ZScpLmNhdGNoKCgpPT57fSksCiAgICAgICAgICAgICAgICBjbGVhclN0b3JlKGRiLCAnYWN0aW9uc0NhY2hlJykuY2F0Y2goKCk9Pnt9KSwKICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaWQgPT09ICdEQl9YZW5mdCcpIHsKICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cueGVuZnQ/Lm9wZW5EQiA/IHdpbmRvdy54ZW5mdC5vcGVuREIoKSA6IFByb21pc2UucmVzb2x2ZShudWxsKSkudGhlbihhc3luYyAoZGIpID0+IHsKICAgICAgICAgICAgICBpZiAoIWRiKSByZXR1cm47IGF3YWl0IGNsZWFyU3RvcmUoZGIsICd4ZW5mdHMnKS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpZCA9PT0gJ0RCLVhlbmZ0LVN0YWtlJykgewogICAgICAgICAgICByZXR1cm4gKHdpbmRvdy54ZW5mdFN0YWtlPy5vcGVuREIgPyB3aW5kb3cueGVuZnRTdGFrZS5vcGVuREIoKSA6IFByb21pc2UucmVzb2x2ZShudWxsKSkudGhlbihhc3luYyAoZGIpID0+IHsKICAgICAgICAgICAgICBpZiAoIWRiKSByZXR1cm47IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICAgICAgICAgIGNsZWFyU3RvcmUoZGIsICdzdGFrZXMnKS5jYXRjaCgoKT0+e30pLAogICAgICAgICAgICAgICAgY2xlYXJTdG9yZShkYiwgJ3NjYW5TdGF0ZScpLmNhdGNoKCgpPT57fSksCiAgICAgICAgICAgICAgXSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlkID09PSAnREItWGVuLVN0YWtlJykgewogICAgICAgICAgICByZXR1cm4gKHdpbmRvdy54ZW5TdGFrZT8ub3BlbkRCID8gd2luZG93LnhlblN0YWtlLm9wZW5EQigpIDogUHJvbWlzZS5yZXNvbHZlKG51bGwpKS50aGVuKGFzeW5jIChkYikgPT4gewogICAgICAgICAgICAgIGlmICghZGIpIHJldHVybjsgYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICAgICAgICAgICAgY2xlYXJTdG9yZShkYiwgJ3N0YWtlcycpLmNhdGNoKCgpPT57fSksCiAgICAgICAgICAgICAgICBjbGVhclN0b3JlKGRiLCAnc2NhblN0YXRlJykuY2F0Y2goKCk9Pnt9KSwKICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICAgICAgfSk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0YXNrcyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byByZXNldCBkYXRhIGJlZm9yZSByZXNjYW4uIFBsZWFzZSB0cnkgYWdhaW4uJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBOb3RpZnkgdXNlciB3ZSByZXNldCBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgc2NvcGUgYmVmb3JlIHNjYW5uaW5nCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IG1zZyA9IGRiSWRzLmxlbmd0aCA+IDEKICAgICAgICAgICAgPyAnUmVzY2FuIHJlc2V0IGNvbXBsZXRlZCBmb3IgYWxsIHNlbGVjdGVkIGRhdGEuJwogICAgICAgICAgICA6IGBSZXNjYW4gcmVzZXQgY29tcGxldGVkIGZvciAke2ZyaWVuZGx5KGRiSWRzWzBdKX0uYDsKICAgICAgICAgIGlmICh0eXBlb2Ygc2hvd1RvYXN0ID09PSAnZnVuY3Rpb24nKSB7IHNob3dUb2FzdChtc2csICdzdWNjZXNzJyk7IH0KICAgICAgICB9IGNhdGNoIHt9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgY29uc29sZS53YXJuKCdGb3JjZSByZXNjYW4gcHJlLWNsZWFyIGZhaWxlZDonLCBlKTsKICAgIH0KCiAgICAvLyBQcm9jZWVkIHRvIHNjYW5uaW5nOyB1cGRhdGUgbGFiZWwgcmlnaHQgYXdheQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjYW5CdG5MYWJlbCIpLnRleHRDb250ZW50ID0gc2Nhbm5pbmdUZXh0OwoKICAgIHRyeSB7CiAgICAgIC8vIElmIHdlJ3JlIHNjYW5uaW5nIGV2ZXJ5dGhpbmcsIGtlZXAgdGhlIHByb2dyZXNzIGJhciB1bmRlciBvdXIgY29udHJvbAogICAgICBpZiAobW9kZSA9PT0gImFsbCIpIHsKICAgICAgICB3aW5kb3cuX19zY2FuQWxsQWN0aXZlID0gdHJ1ZTsKICAgICAgICBpZiAod2luZG93LnByb2dyZXNzVUkpIHdpbmRvdy5wcm9ncmVzc1VJLnNob3codHJ1ZSk7CiAgICAgIH0KCiAgICAgIC8vIFN0ZXAgMTogUnVuIHRoZSBhY3R1YWwgZGF0YSBzY2FucyAoc2VxdWVudGlhbCkKICAgICAgaWYgKG1vZGUgPT09ICJhbGwiKSB7CiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuc2Nhbk1pbnRzID09PSAiZnVuY3Rpb24iKSB7IGF3YWl0IHdpbmRvdy5zY2FuTWludHMoKTsgfQogICAgICAgIGlmICh3aW5kb3cueGVuZnQgJiYgdHlwZW9mIHdpbmRvdy54ZW5mdC5zY2FuID09PSAiZnVuY3Rpb24iKSB7IGF3YWl0IHdpbmRvdy54ZW5mdC5zY2FuKCk7IH0KICAgICAgICBpZiAod2luZG93LnhlbmZ0U3Rha2UgJiYgdHlwZW9mIHdpbmRvdy54ZW5mdFN0YWtlLnNjYW4gPT09ICJmdW5jdGlvbiIpIHsgYXdhaXQgd2luZG93LnhlbmZ0U3Rha2Uuc2NhbigpOyB9CiAgICAgICAgaWYgKHdpbmRvdy54ZW5TdGFrZSAmJiB0eXBlb2Ygd2luZG93LnhlblN0YWtlLnNjYW4gPT09ICJmdW5jdGlvbiIpIHsgYXdhaXQgd2luZG93LnhlblN0YWtlLnNjYW4oKTsgfSAvLyDinIUgYWRkZWQgcmVndWxhciBTdGFrZXMKICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAiY29pbnRvb2wiKSB7CiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuc2Nhbk1pbnRzID09PSAiZnVuY3Rpb24iKSB7IGF3YWl0IHdpbmRvdy5zY2FuTWludHMoKTsgfQogICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICJ4ZW5mdCIpIHsKICAgICAgICBpZiAod2luZG93LnhlbmZ0ICYmIHR5cGVvZiB3aW5kb3cueGVuZnQuc2NhbiA9PT0gImZ1bmN0aW9uIikgeyBhd2FpdCB3aW5kb3cueGVuZnQuc2NhbigpOyB9CiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gInN0YWtlLXhlbmZ0IikgewogICAgICAgIGlmICh3aW5kb3cueGVuZnRTdGFrZSAmJiB0eXBlb2Ygd2luZG93LnhlbmZ0U3Rha2Uuc2NhbiA9PT0gImZ1bmN0aW9uIikgeyBhd2FpdCB3aW5kb3cueGVuZnRTdGFrZS5zY2FuKCk7IH0KICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAic3Rha2UiKSB7CiAgICAgICAgaWYgKHdpbmRvdy54ZW5TdGFrZSAmJiB0eXBlb2Ygd2luZG93LnhlblN0YWtlLnNjYW4gPT09ICJmdW5jdGlvbiIpIHsgYXdhaXQgd2luZG93LnhlblN0YWtlLnNjYW4oKTsgfQogICAgICB9CiAgICB9IGZpbmFsbHkgewogICAgICAvLyBTdGVwIDI6IFJlc3RvcmUgdGhlIGJ1dHRvbnMgcmlnaHQgYXdheQogICAgICBsaXZlU2NhbkJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICBpZiAobW9kZVRvZ2dsZUVsKSBtb2RlVG9nZ2xlRWwuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgY29uc3QgbGJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjYW5CdG5MYWJlbCIpOwogICAgICBpZiAobGJsKSB7CiAgICAgICAgbGJsLnRleHRDb250ZW50ID0gbGl2ZVNjYW5CdG4uZGF0YXNldC5wcmV2VGV4dCB8fCAiU2NhbiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZmFsbGJhY2sgaWYgbGFiZWwgc3BhbiBtaXNzaW5nCiAgICAgICAgbGl2ZVNjYW5CdG4udGV4dENvbnRlbnQgPSBsaXZlU2NhbkJ0bi5kYXRhc2V0LnByZXZUZXh0IHx8ICJTY2FuIEFsbCI7CiAgICAgIH0KICAgICAgbGl2ZVNjYW5CdG4ucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWJ1c3kiKTsKICAgICAgaWYgKHN0b3BCdG4pIHsgc3RvcEJ0bi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyBzdG9wQnRuLm9uY2xpY2sgPSBudWxsOyB9CgogICAgICAvLyBTdGVwIDM6IElmIHRoaXMgd2FzIOKAnFNjYW4gQWxs4oCdLCBoaWRlIHByb2dyZXNzIGEgbW9tZW50IGFmdGVyIGV2ZXJ5dGhpbmcgZmluaXNoZXMKICAgICAgaWYgKG1vZGUgPT09ICJhbGwiKSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB3aW5kb3cuX19zY2FuQWxsQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICBjb25zdCBwYyAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ3Jlc3NDb250YWluZXIiKTsKICAgICAgICAgIGNvbnN0IGF0ICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRyZXNzUHJvZ3Jlc3NUZXh0Iik7CiAgICAgICAgICBjb25zdCB0dCAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9rZW5Qcm9ncmVzc1RleHQiKTsKICAgICAgICAgIGNvbnN0IGV0ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldHJUZXh0Iik7CiAgICAgICAgICBpZiAod2luZG93LnByb2dyZXNzVUkpIHdpbmRvdy5wcm9ncmVzc1VJLnNob3coZmFsc2UpOyBlbHNlIGlmIChwYykgcGMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIGlmIChhdCkgIGF0LnRleHRDb250ZW50ID0gIiI7CiAgICAgICAgICBpZiAodHQpICB0dC50ZXh0Q29udGVudCA9ICIiOwogICAgICAgICAgaWYgKGV0cikgZXRyLnRleHRDb250ZW50ID0gIiI7CiAgICAgICAgfSwgMTIwMCk7CiAgICAgIH0KICAgIH0KCiAgICAvLyBTdGVwIDM6IFJlZnJlc2ggdGhlIFVJLiBUaGlzIGNhbiB0YWtlIGEgZmV3IHNlY29uZHMsIGJ1dCB0aGUgYnV0dG9uIGlzIGFscmVhZHkgcmVzdG9yZWQuCiAgICBpZiAodHlwZW9mIHdpbmRvdy5yZWZyZXNoVW5pZmllZCA9PT0gImZ1bmN0aW9uIikgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IHdpbmRvdy5yZWZyZXNoVW5pZmllZCgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiVW5pZmllZCByZWZyZXNoIGZhaWxlZDoiLCBlKTsKICAgICAgfQogICAgfQoKICAgIC8vIEZpbmFsbHksIHVuY2hlY2sgdGhlIEZvcmNlIFJlc2NhbiBvcHRpb24gYWZ0ZXIgYSBjb21wbGV0ZWQgc2NhbgogICAgdHJ5IHsgY29uc3QgY2IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9yY2VSZXNjYW4nKTsgaWYgKGNiKSBjYi5jaGVja2VkID0gZmFsc2U7IH0gY2F0Y2gge30KICB9CgogIC8vIG9wZW4vY2xvc2UgbWVudQogIG1vZGVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBjb25zdCBvcGVuID0gIW1vZGVNZW51Lmhhc0F0dHJpYnV0ZSgiaGlkZGVuIik7CiAgICBpZiAob3BlbikgewogICAgICBtb2RlTWVudS5zZXRBdHRyaWJ1dGUoImhpZGRlbiIsICIiKTsKICAgICAgbW9kZVRvZ2dsZS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCAiZmFsc2UiKTsKICAgIH0gZWxzZSB7CiAgICAgIG1vZGVNZW51LnJlbW92ZUF0dHJpYnV0ZSgiaGlkZGVuIik7CiAgICAgIG1vZGVUb2dnbGUuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwgInRydWUiKTsKICAgIH0KICB9KTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICBpZiAoIW1vZGVNZW51LmNvbnRhaW5zKGUudGFyZ2V0KSAmJiBlLnRhcmdldCAhPT0gbW9kZVRvZ2dsZSkgewogICAgICBtb2RlTWVudS5zZXRBdHRyaWJ1dGUoImhpZGRlbiIsICIiKTsKICAgICAgbW9kZVRvZ2dsZS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCAiZmFsc2UiKTsKICAgIH0KICB9KTsKICBtb2RlTWVudS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICBjb25zdCBsaSA9IGUudGFyZ2V0LmNsb3Nlc3QoImxpW2RhdGEtdmFsdWVdIik7CiAgICBpZiAoIWxpKSByZXR1cm47CiAgICBzZXRNb2RlKGxpLmRhdGFzZXQudmFsdWUpOwogICAgbW9kZU1lbnUuc2V0QXR0cmlidXRlKCJoaWRkZW4iLCAiIik7CiAgICBtb2RlVG9nZ2xlLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsICJmYWxzZSIpOwogIH0pOwoKICAvLyBpbml0aWFsIHN0YXRlIGZyb20gc3RvcmFnZSAoZGVmYXVsdDogYWxsKQogIHNldE1vZGUoZ2V0TW9kZSgpKTsKCgoKICAvLyBSZXBsYWNlIHRoZSBvbGQgY2xpY2sgaGFuZGxlciB0aGF0IHBvaW50cyBkaXJlY3RseSB0byBzY2FuTWludHMKICBjb25zdCBjbG9uZSA9IHNjYW5CdG4uY2xvbmVOb2RlKHRydWUpOwogIHNjYW5CdG4ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY2xvbmUsIHNjYW5CdG4pOwogIHNjYW5CdG4gPSBjbG9uZTsgLy8gUmUtYXNzaWduIHRoZSBzY2FuQnRuIHZhcmlhYmxlIHRvIHRoZSBuZXcgZWxlbWVudAogIHNjYW5CdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBzY2FuVW5pZmllZCk7CgogIC8vIEhpZGUgYW55IGxlZ2FjeSDigJxTY2FuIFhFTkZUc+KAnSBidXR0b24gaWYgaXQgZ290IGluamVjdGVkIGVhcmxpZXIKICB0cnkgeyBjb25zdCBsZWdhY3kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NhblhlbmZ0QnRuIik7IGlmIChsZWdhY3kpIGxlZ2FjeS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyB9IGNhdGNoIHt9Cgp9KSgpOwoKCi8vIC0tLSBwYXJzZSAiWVlZWSBNb24iIC8gIllZWVkgTW9uIEREIiBpbnRvIGEgRGF0ZSAoZGF5IG9wdGlvbmFsKSAtLS0KZnVuY3Rpb24gcGFyc2VZZWFyTW9uRGF5KHN0cikgewogIGNvbnN0IG0gPSBTdHJpbmcoc3RyIHx8ICIiKS50cmltKCkubWF0Y2goL14oXGR7NH0pXHMrKFtBLVphLXpdezN9KSg/OlxzKyhcZHsxLDJ9KSk/JC8pOwogIGlmICghbSkgcmV0dXJuIG51bGw7CiAgY29uc3QgeWVhciA9IHBhcnNlSW50KG1bMV0sIDEwKTsKICBjb25zdCBtb25BYmJyID0gbVsyXS50b0xvd2VyQ2FzZSgpOwogIGNvbnN0IG1vbnRocyA9IFsiamFuIiwiZmViIiwibWFyIiwiYXByIiwibWF5IiwianVuIiwianVsIiwiYXVnIiwic2VwIiwib2N0Iiwibm92IiwiZGVjIl07CiAgY29uc3QgbWkgPSBtb250aHMuaW5kZXhPZihtb25BYmJyKTsKICBpZiAobWkgPCAwKSByZXR1cm4gbnVsbDsKICBjb25zdCBkYXkgPSBtWzNdID8gTWF0aC5tYXgoMSwgTWF0aC5taW4oMzEsIHBhcnNlSW50KG1bM10sIDEwKSkpIDogMTsKICByZXR1cm4gbmV3IERhdGUoeWVhciwgbWksIGRheSk7Cn0KCi8vIC0tLSB3aXJlIGhlYWRlciBpbnB1dCDihpIgY2FsZW5kYXIgKGNhbGwgdGhpcyBhZnRlciB0YWJsZSArIGNhbGVuZGFyIGFyZSByZWFkeSkgLS0tCmZ1bmN0aW9uIGF0dGFjaE1hdHVyaXR5SGVhZGVyU3luYygpIHsKICBjb25zdCBzZWwgPSAnLnRhYnVsYXRvci1jb2xbdGFidWxhdG9yLWZpZWxkPSJNYXR1cml0eV9EYXRlX0ZtdCJdIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlciBpbnB1dCc7CiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbCk7CiAgaWYgKCFpbnB1dCB8fCBpbnB1dC5kYXRhc2V0Ll9zeW5jQm91bmQpIHJldHVybjsKCiAgY29uc3QganVtcERlYm91bmNlZCA9IGRlYm91bmNlKChkdCkgPT4gewogICAgY29uc3QgY2FsID0gKHdpbmRvdy5jYWxlbmRhclBpY2tlciAmJiB0eXBlb2Ygd2luZG93LmNhbGVuZGFyUGlja2VyLmp1bXBUb0RhdGUgPT09ICJmdW5jdGlvbiIpCiAgICAgID8gd2luZG93LmNhbGVuZGFyUGlja2VyCiAgICAgIDogKHdpbmRvdy5fY2FsZW5kYXIgfHwgbnVsbCk7CiAgICBpZiAoIWNhbCB8fCB0eXBlb2YgY2FsLmp1bXBUb0RhdGUgIT09ICJmdW5jdGlvbiIpIHJldHVybjsKICAgIHRyeSB7IGNhbC5qdW1wVG9EYXRlKGR0KTsgfSBjYXRjaCB7fQogIH0sIDIwMCk7CgogIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKCkgPT4gewogICAgY29uc3QgZHQgPSBwYXJzZVllYXJNb25EYXkoaW5wdXQudmFsdWUpOwogICAgaWYgKGR0KSBqdW1wRGVib3VuY2VkKGR0KTsKICB9KTsKCiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIChlKSA9PiB7CiAgICBpZiAoZS5rZXkgIT09ICJFbnRlciIpIHJldHVybjsKICAgIGNvbnN0IGR0ID0gcGFyc2VZZWFyTW9uRGF5KGlucHV0LnZhbHVlKTsKICAgIGlmICghZHQpIHJldHVybjsKICAgIGNvbnN0IGNhbCA9IHdpbmRvdy5jYWxlbmRhclBpY2tlciB8fCB3aW5kb3cuX2NhbGVuZGFyOwogICAgdHJ5IHsgY2FsPy5zZXREYXRlPy4oZHQsIHRydWUpOyBjYWw/Lmp1bXBUb0RhdGU/LihkdCk7IH0gY2F0Y2gge30KICB9KTsKCiAgaW5wdXQuZGF0YXNldC5fc3luY0JvdW5kID0gIjEiOwp9CgoKCgovLyBCdWlsZCAiWVlZWS1NTS1ERCIgZnJvbSBhIEpTIERhdGUgaW4gTE9DQUwgdGltZQpmdW5jdGlvbiBidWlsZERheUtleUZyb21EYXRlKGR0KXsKICBjb25zdCB5ID0gZHQuZ2V0RnVsbFllYXIoKTsKICBjb25zdCBtID0gU3RyaW5nKGR0LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAiMCIpOwogIGNvbnN0IGQgPSBTdHJpbmcoZHQuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAiMCIpOwogIHJldHVybiBgJHt5fS0ke219LSR7ZH1gOwp9CgovLyBQYXJzZSBhIHRhYmxlIGNlbGwgbGlrZSAiMjAyNiBEZWMgMDQsIDA3OjA5IFBNIiAtPiAiMjAyNi0xMi0wNCIKZnVuY3Rpb24gcGFyc2VNYXR1cml0eUZtdFRvS2V5KGZtdCl7CiAgaWYgKCFmbXQpIHJldHVybiAiIjsKICBjb25zdCBtID0gU3RyaW5nKGZtdCkubWF0Y2goL14oXGR7NH0pXHMrKFtBLVphLXpdezN9KVxzKyhcZHsxLDJ9KS8pOwogIGlmICghbSkgcmV0dXJuICIiOwogIGNvbnN0IG1hcCA9IHtKYW46IjAxIixGZWI6IjAyIixNYXI6IjAzIixBcHI6IjA0IixNYXk6IjA1IixKdW46IjA2IixKdWw6IjA3IixBdWc6IjA4IixTZXA6IjA5IixPY3Q6IjEwIixOb3Y6IjExIixEZWM6IjEyIn07CiAgY29uc3QgeSA9IG1bMV0sIG1vID0gbWFwW21bMl1dIHx8ICIwMSIsIGQgPSBTdHJpbmcobVszXSkucGFkU3RhcnQoMiwiMCIpOwogIHJldHVybiBgJHt5fS0ke21vfS0ke2R9YDsKfQoKLy8gUmV0dXJuIGxvY2FsICJZWVlZLU1NLUREIiBmb3IgYSByb3cgZnJvbSBtYXR1cml0eURhdGVPbmx5IE9SIHRpbWVzdGFtcCBPUiBmb3JtYXR0ZWQgdGV4dAovLyBNYWtlIGEgc2luZ2xlIGF1dGhvcml0YXRpdmUgIllZWVktTU0tREQiIGRhdGUga2V5IHBlciByb3cKZnVuY3Rpb24gcm93VG9Mb2NhbEtleShyb3cpewogIGlmICghcm93KSByZXR1cm4gIiI7CgogIC8vIDEpIFByZWZlciB3aGF0IHRoZSB1c2VyIHNlZXMgaW4gdGhlIHRhYmxlIChNYXR1cml0eV9EYXRlX0ZtdCkKICBjb25zdCBmcm9tRm10ID0gcGFyc2VNYXR1cml0eUZtdFRvS2V5KHJvdy5NYXR1cml0eV9EYXRlX0ZtdCk7CiAgaWYgKGZyb21GbXQpIHJldHVybiBmcm9tRm10OwoKICAvLyAyKSBGYWxsIGJhY2sgdG8gTWF0dXJpdHlfVGltZXN0YW1wIChzZWNvbmRzKSwgY29udmVydGVkIHRvIExPQ0FMIHRpbWUKICBjb25zdCB0ID0gTnVtYmVyKHJvdy5NYXR1cml0eV9UaW1lc3RhbXApOwogIGlmIChOdW1iZXIuaXNGaW5pdGUodCkgJiYgdCA+IDApIHsKICAgIGlmICh0eXBlb2YgbHV4b24gIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIHJldHVybiBsdXhvbi5EYXRlVGltZS5mcm9tU2Vjb25kcyh0KQogICAgICAgIC5zZXRab25lKEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSkKICAgICAgICAudG9Gb3JtYXQoInl5eXktTEwtZGQiKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBidWlsZERheUtleUZyb21EYXRlKG5ldyBEYXRlKHQgKiAxMDAwKSk7CiAgICB9CiAgfQoKICAvLyAzKSBMYXN0IHJlc29ydDogc3RvcmVkICdtYXR1cml0eURhdGVPbmx5JwogIGlmIChyb3cubWF0dXJpdHlEYXRlT25seSAmJiByb3cubWF0dXJpdHlEYXRlT25seS5sZW5ndGggPj0gOCkgcmV0dXJuIHJvdy5tYXR1cml0eURhdGVPbmx5OwoKICByZXR1cm4gIiI7Cn0KCi8vIEZyb20gYSBEYXRlIG9iamVjdCAoa2VlcHMgeW91ciBjdXJyZW50IGJlaGF2aW9yKQpmdW5jdGlvbiBzZXRNYXR1cml0eUhlYWRlckZpbHRlckZyb21EYXRlKGR0KSB7CiAgY29uc3QgbW9udGhzID0gWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTsKICBjb25zdCB5ID0gZHQuZ2V0RnVsbFllYXIoKTsKICBjb25zdCBtID0gbW9udGhzW2R0LmdldE1vbnRoKCldOwogIGNvbnN0IGQgPSBTdHJpbmcoZHQuZ2V0RGF0ZSgpKTsgLy8g4oaQIG5vIHBhZFN0YXJ0CiAgc2V0SGVhZGVyRmlsdGVyVGV4dERlYm91bmNlZCgiTWF0dXJpdHlfRGF0ZV9GbXQiLCBgJHt5fSAke219ICR7ZH1gKTsKCiAgLy8gTWFrZSBzdXJlIFRhYnVsYXRvciByZS1ldmFsdWF0ZXMgaW1tZWRpYXRlbHkKICB0cnkgeyB3aW5kb3cuY29pbnRvb2xUYWJsZT8ucmVmcmVzaEZpbHRlcigpOyB9IGNhdGNoIChfKSB7fQoKICAvLyBFbnN1cmUgU3RhdHVzIGFuZCBUeXBlIGhlYWRlciBmaWx0ZXJzIGFyZSBzZXQgdG8gQWxsIGFzIHdlbGwgKHVzZSBUYWJ1bGF0b3IgQVBJIHdoZW4gcG9zc2libGUpCiAgdHJ5IHsKICAgIGlmICh3aW5kb3cuY29pbnRvb2xUYWJsZSAmJiB0eXBlb2Ygd2luZG93LmNvaW50b29sVGFibGUuc2V0SGVhZGVyRmlsdGVyVmFsdWUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgd2luZG93LmNvaW50b29sVGFibGUuc2V0SGVhZGVyRmlsdGVyVmFsdWUoJ1N0YXR1cycsICcnKTsKICAgICAgd2luZG93LmNvaW50b29sVGFibGUuc2V0SGVhZGVyRmlsdGVyVmFsdWUoJ1NvdXJjZVR5cGUnLCAnJyk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCBzZXRTZWxlY3RUb0FsbCA9IChmaWVsZCkgPT4gewogICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAudGFidWxhdG9yLWNvbFt0YWJ1bGF0b3ItZmllbGQ9IiR7ZmllbGR9Il0gLnRhYnVsYXRvci1oZWFkZXItZmlsdGVyYCk7CiAgICAgICAgaWYgKCFyb290KSByZXR1cm47CiAgICAgICAgY29uc3Qgc2VsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTsKICAgICAgICBjb25zdCBpbnAgPSByb290LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7CiAgICAgICAgY29uc3QgdiA9ICcnOwogICAgICAgIGlmIChzZWwpIHsKICAgICAgICAgIHNlbC52YWx1ZSA9IHY7CiAgICAgICAgICBzZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgICBzZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgfSBlbHNlIGlmIChpbnApIHsKICAgICAgICAgIGlucC52YWx1ZSA9IHY7CiAgICAgICAgICBpbnAuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2lucHV0JywgIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgICBpbnAuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgICBpbnAuZGlzcGF0Y2hFdmVudChuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHsgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZSwga2V5OiAnRW50ZXInLCBjb2RlOiAnRW50ZXInLCBrZXlDb2RlOiAxMyB9KSk7CiAgICAgICAgfQogICAgICB9OwogICAgICBzZXRTZWxlY3RUb0FsbCgnU3RhdHVzJyk7CiAgICAgIHNldFNlbGVjdFRvQWxsKCdTb3VyY2VUeXBlJyk7CiAgICB9CiAgfSBjYXRjaCAoXykge30KfQoKCihmdW5jdGlvbigpewogIC8vIEhpZGUgYW55IGxlZ2FjeS9zdGFuZGFsb25lIFhFTkZUIHRhYmxlIGlmIHByZXNlbnQKICB0cnkgewogICAgdmFyIGxlZ2FjeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ4ZW5mdC10YWJsZSIpOwogICAgaWYgKGxlZ2FjeSkgbGVnYWN5LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfSBjYXRjaChlKSB7fQoKICAvLyBBZGQgYSBTY2FuIFhFTkZUcyBidXR0b24gKGJlc2lkZSBub3JtYWwgU2NhbikKICBmdW5jdGlvbiBlbnN1cmVYZW5mdFNjYW5CdXR0b24oKXsKICAgIHZhciBncm91cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jb250cm9scy1jb250YWluZXIgLmJ1dHRvbi1ncm91cCIpOwogICAgaWYgKCFncm91cCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2NhblhlbmZ0QnRuIikpIHJldHVybjsKICAgIGlmICghZ3JvdXAgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjYW5YZW5mdEJ0biIpIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzY2FuTW9kZVRvZ2dsZSIpKSByZXR1cm47CgogICAgdmFyIGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgYnRuLmlkID0gInNjYW5YZW5mdEJ0biI7CiAgICBidG4udGV4dENvbnRlbnQgPSAiU2NhbiBYRU5GVHMiOwogICAgZ3JvdXAuaW5zZXJ0QmVmb3JlKGJ0biwgZ3JvdXAuY2hpbGRyZW5bMV0gfHwgbnVsbCk7CgogICAgZnVuY3Rpb24gcmVzdG9yZSgpIHsKICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGJ0bi5kYXRhc2V0LnByZXZUZXh0IHx8ICJTY2FuIFhFTkZUcyI7CiAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtYnVzeSIpOwogICAgfQoKICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAgIGJ0bi5kYXRhc2V0LnByZXZUZXh0ID0gYnRuLnRleHRDb250ZW50IHx8ICJTY2FuIFhFTkZUcyI7CiAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICJTY2FubmluZ+KApiI7CiAgICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoImFyaWEtYnVzeSIsICJ0cnVlIik7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHdpbmRvdy54ZW5mdCAmJiB0eXBlb2Ygd2luZG93LnhlbmZ0LnNjYW4gPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIGF3YWl0IHdpbmRvdy54ZW5mdC5zY2FuKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJYRU5GVCBtb2R1bGUgbm90IGxvYWRlZC4iKTsKICAgICAgICB9CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgcmVzdG9yZSgpOwogICAgICB9CiAgICB9KTsKICB9CgogIC8vIFdhaXQgdW50aWwgdGhlIG1haW4gdGFibGUgZXhpc3RzCiAgZnVuY3Rpb24gd2hlblRhYmxlUmVhZHkoY2IpewogICAgaWYgKHdpbmRvdy5jb2ludG9vbFRhYmxlKSB7IGNiKCk7IHJldHVybjsgfQogICAgdmFyIGl2ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgaWYgKHdpbmRvdy5jb2ludG9vbFRhYmxlKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChpdik7CiAgICAgICAgY2IoKTsKICAgICAgfQogICAgfSwgMTUwKTsKICB9CgogIC8vIEZldGNoIGhlbHBlcnMKICBhc3luYyBmdW5jdGlvbiBmZXRjaENvaW50b29sUm93cygpewogICAgdHJ5IHsKICAgICAgaWYgKHdpbmRvdy5kYkluc3RhbmNlICYmIHR5cGVvZiBnZXRBbGxNaW50cyA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIHZhciByb3dzID0gYXdhaXQgZ2V0QWxsTWludHMod2luZG93LmRiSW5zdGFuY2UpOwogICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJvd3MpID8gcm93cyA6IFtdOwogICAgICB9CiAgICB9IGNhdGNoKGUpe30KICAgIHJldHVybiBbXTsKICB9CgoKICBhc3luYyBmdW5jdGlvbiBmZXRjaFN0YWtlUm93cygpewogICAgaWYgKCF3aW5kb3cueGVuU3Rha2UgfHwgdHlwZW9mIHdpbmRvdy54ZW5TdGFrZS5nZXRBbGwgIT09ICJmdW5jdGlvbiIpIHJldHVybiBbXTsKICAgIHRyeSB7CiAgICAgIGNvbnN0IGRiID0gYXdhaXQgd2luZG93LnhlblN0YWtlLm9wZW5EQigpOwogICAgICBjb25zdCByb3dzID0gYXdhaXQgd2luZG93LnhlblN0YWtlLmdldEFsbChkYik7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJvd3MpID8gcm93cyA6IFtdOwogICAgfSBjYXRjaChlKXsgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIFN0YWtlIHJvd3MiLCBlKTsgfQogICAgcmV0dXJuIFtdOwogIH0KCiAgZnVuY3Rpb24gbWFwU3Rha2VUb1JvdyhzKXsKICAgIHJldHVybiB7CiAgICAgIElEOiAic3Rha2VfIiArIChzLmlkIHx8IChzLm93bmVyICsgIl8iICsgKHMuc3RhcnRUc3x8MCkpKSwKICAgICAgU291cmNlVHlwZTogIlN0YWtlIiwKICAgICAgTWludF9pZF9TdGFydDogcy5pZCB8fCAiIiwgICAgICAgICAgIC8vIGZ1bGwgaWQga2VwdCBpbiBkYXRhOyB0aGUgVUkgd2lsbCBzaG93IHNob3J0CiAgICAgIE93bmVyOiBzLm93bmVyLAogICAgICBTdGF0dXM6IHMuc3RhdHVzLAogICAgICBNYXR1cml0eV9EYXRlX0ZtdDogcy5NYXR1cml0eV9EYXRlX0ZtdCwKICAgICAgVGVybTogcy50ZXJtLAogICAgICBWTVVzOiAiMSIsCiAgICAgIEFjdGlvbnM6IHMuYWN0aW9ucyB8fCBbXSwKICAgICAgRXN0X1hFTjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXB1dGVkIGluIGFwcC5qcwogICAgICBSYW5rX1JhbmdlOiAiTi9BIiwKICAgICAgU2FsdDogIk4vQSIsCiAgICAgIHN0YWtlZEFtb3VudDogcy5hbW91bnQsICAgICAgICAgICAgICAvLyB0b2tlbnMKICAgICAgYW1vdW50V2VpOiBzLmFtb3VudFdlaSwgICAgICAgICAgICAgIC8vIHJhdyB3ZWkKICAgICAgYXB5OiBzLmFweSwKICAgICAgTWF0dXJpdHlfVGltZXN0YW1wOiBzLm1hdHVyaXR5VHMsICAgIC8vIHNlY29uZHMKICAgICAgbWF0dXJpdHlEYXRlT25seTogcy5tYXR1cml0eURhdGVPbmx5LAogICAgICBMYXRlc3RfQWN0aW9uX1RpbWVzdGFtcDogcy5hY3Rpb25zPy5sZW5ndGggPyAocy5hY3Rpb25zW3MuYWN0aW9ucy5sZW5ndGgtMV0udGltZVN0YW1wIHx8IDApIDogMCwKICAgIH07CiAgfQoKCiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hYZW5mdFJvd3MoKXsKICAgIGlmICghd2luZG93LnhlbmZ0IHx8IHR5cGVvZiB3aW5kb3cueGVuZnQub3BlbkRCICE9PSAiZnVuY3Rpb24iKSByZXR1cm4gW107CiAgICB0cnkgewogICAgICB2YXIgZGIgPSBhd2FpdCB3aW5kb3cueGVuZnQub3BlbkRCKCk7CiAgICAgIHZhciByb3dzID0gYXdhaXQgd2luZG93LnhlbmZ0LmdldEFsbChkYik7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJvd3MpID8gcm93cyA6IFtdOwogICAgfSBjYXRjaChlKXt9CiAgICByZXR1cm4gW107CiAgfQoKICAvLyBFbnN1cmUgWEVORlQgY29sdW1ucyBleGlzdCBvbiB0aGUgbWFpbiB0YWJsZQogIGZ1bmN0aW9uIGVuc3VyZVVuaWZpZWRDb2x1bW5zKCl7CiAgICBpZiAoIXdpbmRvdy5jb2ludG9vbFRhYmxlKSByZXR1cm47CgogICAgLy8gRW5zdXJlIFhFTkZULXNwZWNpZmljIGNvbHVtbnMgZXhpc3QKICAgIHZhciBuZXdDb2xzID0gWwogICAgICB7CiAgICAgICAgdGl0bGU6ICJUeXBlIiwKICAgICAgICBmaWVsZDogIlNvdXJjZVR5cGUiLAogICAgICAgIHdpZHRoOiAxMjAsCiAgICAgICAgaGVhZGVyU29ydDogdHJ1ZSwKICAgICAgICBoZWFkZXJGaWx0ZXI6ICJsaXN0IiwKICAgICAgICBoZWFkZXJGaWx0ZXJQYXJhbXM6IHsKICAgICAgICAgIGVsZW1lbnRBdHRyaWJ1dGVzOiB7IGF1dG9jb21wbGV0ZTogIm5ldy1wYXNzd29yZCIgfSwKICAgICAgICAgIC8vIFRhYnVsYXRvciB2NjogbGlzdCB2YWx1ZXMgdXNlIGFuIGFycmF5IG9mIHtsYWJlbCwgdmFsdWV9CiAgICAgICAgICB2YWx1ZXM6IFsKICAgICAgICAgICAgeyBsYWJlbDogIkFsbCIsIHZhbHVlOiAiIiB9LAogICAgICAgICAgICB7IGxhYmVsOiAiQ29pbnRvb2wiLCB2YWx1ZTogIkNvaW50b29sIiB9LAogICAgICAgICAgICB7IGxhYmVsOiAiWEVORlQiLCB2YWx1ZTogIlhFTkZUIiB9LAogICAgICAgICAgICB7IGxhYmVsOiAiU3Rha2UgWEVORlQiLCB2YWx1ZTogIlN0YWtlIFhFTkZUIiB9LAogICAgICAgICAgICB7IGxhYmVsOiAiU3Rha2UiLCB2YWx1ZTogIlN0YWtlIiB9LAogICAgICAgICAgXQogICAgICAgIH0sCiAgICAgICAgaGVhZGVyRmlsdGVyRnVuYzogIj0iCiAgICAgIH0sCiAgICAgIC8vIChYRU5GVCBJRCByZW1vdmVkIHBlciBlYXJsaWVyIGNoYW5nZSkKICAgICAgeyB0aXRsZTogIkNhdGVnb3J5IiwgZmllbGQ6ICJDYXRlZ29yeSIsIGhlYWRlckZpbHRlcjogImlucHV0Iiwgd2lkdGg6IDEyMCB9LAogICAgICB7IHRpdGxlOiAiQ2xhc3MiLCBmaWVsZDogIkNsYXNzIiwgaGVhZGVyRmlsdGVyOiAiaW5wdXQiLCB3aWR0aDogMTIwIH0sCiAgICAgIHsgdGl0bGU6ICJBTVAiLCBmaWVsZDogIkFNUCIsIGhlYWRlckZpbHRlcjogImlucHV0Iiwgd2lkdGg6IDgwIH0sCiAgICAgIHsgdGl0bGU6ICJFQUEgKCUpIiwgZmllbGQ6ICJFQUEgKCUpIiwgaGVhZGVyRmlsdGVyOiAiaW5wdXQiLCB3aWR0aDogOTAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiAiWEVOIEJ1cm5lZCIsCiAgICAgICAgZmllbGQ6ICJYRU4gQnVybmVkIiwKICAgICAgICBoZWFkZXJGaWx0ZXI6ICJpbnB1dCIsCiAgICAgICAgd2lkdGg6IDEzMCwKICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIChjZWxsKSB7CiAgICAgICAgICBjb25zdCByb3cgPSBjZWxsLmdldFJvdygpLmdldERhdGEoKTsKICAgICAgICAgIGNvbnN0IHJhdyA9IGNlbGwuZ2V0VmFsdWUoKTsKICAgICAgICAgIC8vIE9ubHkgaGlkZSAwIGZvciBYRU5GVHMKICAgICAgICAgIGlmIChTdHJpbmcocm93LlNvdXJjZVR5cGUpID09PSAiWEVORlQiKSB7CiAgICAgICAgICAgIGNvbnN0IG4gPSBOdW1iZXIoU3RyaW5nKHJhdykucmVwbGFjZSgvW14wLTkuXS9nLCAiIikpOwogICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShuKSB8fCBuID09PSAwKSByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcmF3ID8/ICIiOwogICAgICAgIH0KICAgICAgfQogICAgXTsKCiAgICAvLyBBZGQgYW55IG1pc3Npbmcgb2YgdGhlIGFib3ZlCiAgICB2YXIgaGF2ZUZpZWxkcyA9IHt9OwogICAgdHJ5IHsKICAgICAgd2luZG93LmNvaW50b29sVGFibGUuZ2V0Q29sdW1ucygpLmZvckVhY2goZnVuY3Rpb24oYyl7CiAgICAgICAgdmFyIGYgPSAodHlwZW9mIGMuZ2V0RmllbGQgPT09ICJmdW5jdGlvbiIpID8gYy5nZXRGaWVsZCgpIDogbnVsbDsKICAgICAgICBpZiAoZikgaGF2ZUZpZWxkc1tmXSA9IHRydWU7CiAgICAgIH0pOwogICAgfSBjYXRjaChlKSB7fQoKICAgIHZhciB0b0FkZCA9IG5ld0NvbHMuZmlsdGVyKGZ1bmN0aW9uKGNvbCl7IHJldHVybiAhaGF2ZUZpZWxkc1tjb2wuZmllbGRdOyB9KTsKCiAgICB0cnkgewogICAgICBpZiAodG9BZGQubGVuZ3RoKSB7CiAgICAgICAgLy8gQXBwZW5kIGZpcnN0OyB3ZeKAmWxsIHJlb3JkZXIgcmlnaHQgYWZ0ZXIuCiAgICAgICAgdG9BZGQuZm9yRWFjaChmdW5jdGlvbihjb2wpewogICAgICAgICAgd2luZG93LmNvaW50b29sVGFibGUuYWRkQ29sdW1uKGNvbCwgZmFsc2UsICJlbmQiKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSBjYXRjaChlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCkgewogICAgICAgICAgdmFyIGRlZnMgPSB3aW5kb3cuY29pbnRvb2xUYWJsZS5nZXRDb2x1bW5EZWZpbml0aW9ucygpOwogICAgICAgICAgd2luZG93LmNvaW50b29sVGFibGUuc2V0Q29sdW1ucyhkZWZzLmNvbmNhdCh0b0FkZCkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaChfKSB7fQogICAgfQoKICAgIC8vIPCflIEgUmVvcmRlciBjb2x1bW5zIHRvIHlvdXIgcmVxdWVzdGVkIHNlcXVlbmNlCiAgICB0cnkgewogICAgICB2YXIgdGFibGUgPSB3aW5kb3cuY29pbnRvb2xUYWJsZTsKICAgICAgdmFyIGRlZnMgID0gdGFibGUuZ2V0Q29sdW1uRGVmaW5pdGlvbnMoKTsKCiAgICAgIC8vIERlc2lyZWQgb3JkZXIgKGZpZWxkcykKICAgICAgdmFyIGRlc2lyZWQgPSBbCiAgICAgICAgIk1pbnRfaWRfU3RhcnQiLCAgICAgICAvLyBNaW50IElECiAgICAgICAgIk93bmVyIiwKICAgICAgICAiU291cmNlVHlwZSIsICAgICAgICAgIC8vIFR5cGUKICAgICAgICAiU3RhdHVzIiwKICAgICAgICAiTWF0dXJpdHlfRGF0ZV9GbXQiLCAgIC8vIE1hdHVyaXR5IERhdGUKICAgICAgICAiUmFua19SYW5nZSIsICAgICAgICAgIC8vIGNSYW5rIFJhbmdlCiAgICAgICAgIlZNVXMiLAogICAgICAgICJUZXJtIiwKICAgICAgICAiQWN0aW9ucyIsCiAgICAgICAgIkVzdF9YRU4iLAogICAgICAgICJTYWx0IiwKICAgICAgICAiQ2F0ZWdvcnkiLAogICAgICAgICJDbGFzcyIsCiAgICAgICAgIkFNUCIsCiAgICAgICAgIkVBQSAoJSkiLCAgICAgICAgICAgICAgLy8gRUFBCiAgICAgICAgIlhFTiBCdXJuZWQiCiAgICAgIF07CgogICAgICAvLyBCdWlsZCBtYXBzCiAgICAgIHZhciBieUZpZWxkID0ge307CiAgICAgIGRlZnMuZm9yRWFjaChmdW5jdGlvbihkKXsgaWYgKGQgJiYgZC5maWVsZCkgYnlGaWVsZFtkLmZpZWxkXSA9IGQ7IH0pOwoKICAgICAgLy8gS2VlcCBhbnkgInNwZWNpYWwiIGNvbHVtbnMgbGlrZSB0aGUgbGVhZGluZyBjaGVja2JveCBhcy1pcyBhdCB0aGUgdmVyeSBzdGFydAogICAgICB2YXIgc3BlY2lhbHMgPSBkZWZzLmZpbHRlcihmdW5jdGlvbihkKXsgcmV0dXJuICFkLmZpZWxkIHx8IGQuZmllbGQgPT09ICJzZWxlY3QiOyB9KTsKCiAgICAgIC8vIFByb2R1Y2UgdGhlIG9yZGVyZWQgYmxvY2sgZnJvbSBkZXNpcmVkW10gKG9ubHkgaWYgcHJlc2VudCkKICAgICAgdmFyIG9yZGVyZWQgPSBkZXNpcmVkLm1hcChmdW5jdGlvbihmKXsgcmV0dXJuIGJ5RmllbGRbZl07IH0pLmZpbHRlcihCb29sZWFuKTsKCiAgICAgIC8vIEFueSByZW1haW5pbmcgY29sdW1ucyBub3QgaW4gZGVzaXJlZFtdIGdvIHRvIHRoZSBlbmQgKGUuZy4sIGxlZ2FjeSBvciBvcHRpb25hbCBmaWVsZHMpCiAgICAgIHZhciBkZXNpcmVkU2V0ID0gbmV3IFNldChkZXNpcmVkKTsKICAgICAgdmFyIHJlc3QgPSBkZWZzLmZpbHRlcihmdW5jdGlvbihkKXsKICAgICAgICByZXR1cm4gZC5maWVsZCAmJiBkLmZpZWxkICE9PSAic2VsZWN0IiAmJiAhZGVzaXJlZFNldC5oYXMoZC5maWVsZCk7CiAgICAgIH0pOwoKICAgICAgdmFyIG5ld0RlZnMgPSBzcGVjaWFscy5jb25jYXQob3JkZXJlZCwgcmVzdCk7CgogICAgICAvLyBBcHBseQogICAgICB0YWJsZS5zZXRDb2x1bW5zKG5ld0RlZnMpOwogICAgfSBjYXRjaChfKSB7fQogIH0KCgoKICBmdW5jdGlvbiBjbGVhclhlbmZ0QmxvY2tpbmdGaWx0ZXJzKGhhc05vbkNvaW50b29sKXsKICAgIGlmICghaGFzTm9uQ29pbnRvb2wgfHwgIXdpbmRvdy5jb2ludG9vbFRhYmxlKSByZXR1cm47CiAgICB0cnkgewogICAgICBjb25zdCBmaWx0ZXJzID0gd2luZG93LmNvaW50b29sVGFibGUuZ2V0SGVhZGVyRmlsdGVycz8uKCkgfHwgW107CiAgICAgIGNvbnN0IG5lZWRDbGVhciA9IGZpbHRlcnMuc29tZShmID0+IGYgJiYgZi5maWVsZCA9PT0gIlNhbHQiICYmIFN0cmluZyhmLnZhbHVlfHwiIikudHJpbSgpICE9PSAiIik7CiAgICAgIGlmIChuZWVkQ2xlYXIpIHsKICAgICAgICB3aW5kb3cuY29pbnRvb2xUYWJsZS5jbGVhckhlYWRlckZpbHRlcigiU2FsdCIpOwogICAgICAgIGNvbnN0IGlucCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YWJ1bGF0b3ItY29sW3RhYnVsYXRvci1maWVsZD0iU2FsdCJdIC50YWJ1bGF0b3ItaGVhZGVyLWZpbHRlciBpbnB1dCcpOwogICAgICAgIGlmIChpbnApIHsgaW5wLnZhbHVlID0gIiI7IGlucC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiaW5wdXQiLCB7YnViYmxlczp0cnVlfSkpOyB9CiAgICAgIH0KICAgIH0gY2F0Y2goZSl7fQogIH0KCiAgLy8gTWFwIGEgcmF3IFhFTkZUIHJlY29yZCB0byB0aGUgQ29pblRvb2wgcm93IHNjaGVtYQogIGZ1bmN0aW9uIG1hcFhlbmZ0VG9Sb3coeCl7CiAgICB2YXIgY3IgPSBOdW1iZXIoeC5jUmFuayB8fCAwKSB8fCAwOwogICAgdmFyIHZtID0gTnVtYmVyKHguVk1VcyB8fCAwKSB8fCAwOwogICAgdmFyIHJhbmdlID0gKGNyICYmIHZtKSA/IChjciArICIgLSAiICsgKGNyICsgdm0gLSAxKSkgOiAiIjsKCiAgICB2YXIgbVRzID0gTnVtYmVyKHgubWF0dXJpdHlUcyB8fCAwKSB8fCAwOwogICAgdmFyIHN0YXR1czsKICAgIGlmIChOdW1iZXIoeC5yZWRlZW1lZCkgPT09IDEpIHN0YXR1cyA9ICJDbGFpbWVkIjsKICAgIGVsc2UgaWYgKG1UcyAqIDEwMDAgPD0gRGF0ZS5ub3coKSkgc3RhdHVzID0gIkNsYWltYWJsZSI7CiAgICBlbHNlIHN0YXR1cyA9ICJNYXR1cmluZyI7CgogICAgLy8gUHJlZmVyIHByZWZvcm1hdHRlZCBmaWVsZCBmcm9tIHhlbmZ0LmpzOyBvdGhlcndpc2UgZmFsbCBiYWNrCiAgICB2YXIgbUZtdCA9IHhbIk1hdHVyaXR5X0RhdGVfRm10Il0gfHwgeFsiTWF0dXJpdHkgRGF0ZVRpbWUiXSB8fCAiIjsKCiAgICByZXR1cm4gewogICAgICBJRDogInhlbmZ0XyIgKyAoeC5YZW5mdF9pZCB8fCB4LnRva2VuSWQgfHwgIiIpLAogICAgICBNaW50X2lkX1N0YXJ0OiBOdW1iZXIoeC5YZW5mdF9pZCB8fCB4LnRva2VuSWQgfHwgMCkgfHwgKHguWGVuZnRfaWQgfHwgeC50b2tlbklkIHx8ICIiKSwKICAgICAgU2FsdDogIiIsCiAgICAgIFJhbmtfUmFuZ2U6IHJhbmdlLAogICAgICBUZXJtOiB4LlRlcm0gfHwgeC50ZXJtIHx8ICIiLAogICAgICBWTVVzOiB2bSwKICAgICAgU3RhdHVzOiBzdGF0dXMsCiAgICAgIEFjdGlvbnM6IChBcnJheS5pc0FycmF5KHguYWN0aW9ucykgPyB4LmFjdGlvbnMgOiBbXSksCiAgICAgIE1hdHVyaXR5X1RpbWVzdGFtcDogbVRzLAogICAgICBNYXR1cml0eV9EYXRlX0ZtdDogbUZtdCwKICAgICAgRXN0X1hFTjogdW5kZWZpbmVkLAogICAgICBPd25lcjogeC5vd25lciB8fCAiIiwKICAgICAgTGF0ZXN0X0FjdGlvbl9UaW1lc3RhbXA6IE51bWJlcih4LmxhdGVzdEFjdGlvblRpbWVzdGFtcHx8MCkgfHwgMCwKICAgICAgcmVkZWVtZWQ6IE51bWJlcih4LnJlZGVlbWVkfHwwKSB8fCAwLAoKICAgICAgLy8gWEVORlQtb25seSBleHRyYXMKICAgICAgU291cmNlVHlwZTogIlhFTkZUIiwKICAgICAgWGVuZnRfaWQ6IHguWGVuZnRfaWQgfHwgIiIsCiAgICAgIENhdGVnb3J5OiB4LkNhdGVnb3J5IHx8ICIiLAogICAgICBDbGFzczogeC5DbGFzcyB8fCAiIiwKICAgICAgQU1QOiB4LkFNUCB8fCAiIiwKICAgICAgIkVBQSAoJSkiOiB4WyJFQUEgKCUpIl0gfHwgIiIsCiAgICAgICJYRU4gQnVybmVkIjogeFsiWEVOIEJ1cm5lZCJdIHx8ICIiLAoKICAgICAgLy8gZGF0YSB1c2VkIGJ5IGNhbGVuZGFyIGZpbHRlcgogICAgICBtYXR1cml0eURhdGVPbmx5OiB4Lm1hdHVyaXR5RGF0ZU9ubHkgfHwgIiIKICAgIH07CiAgfQoKICBhc3luYyBmdW5jdGlvbiBmZXRjaFN0YWtlWGVuZnRSb3dzKCl7CiAgICBpZiAoIXdpbmRvdy54ZW5mdFN0YWtlIHx8IHR5cGVvZiB3aW5kb3cueGVuZnRTdGFrZS5nZXRBbGwgIT09ICJmdW5jdGlvbiIpIHJldHVybiBbXTsKICAgIHRyeSB7CiAgICAgIHZhciBkYiA9IGF3YWl0IHdpbmRvdy54ZW5mdFN0YWtlLm9wZW5EQigpOwogICAgICB2YXIgcm93cyA9IGF3YWl0IHdpbmRvdy54ZW5mdFN0YWtlLmdldEFsbChkYik7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJvd3MpID8gcm93cyA6IFtdOwogICAgfSBjYXRjaChlKXsgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIFN0YWtlIFhFTkZUIHJvd3MiLCBlKTsgfQogICAgcmV0dXJuIFtdOwogIH0KCiAgZnVuY3Rpb24gbWFwU3Rha2VYZW5mdFRvUm93KHMpIHsKICAgIHJldHVybiB7CiAgICAgIElEOiAic3Rha2UteGVuZnRfIiArIHMudG9rZW5JZCwKICAgICAgU291cmNlVHlwZTogIlN0YWtlIFhFTkZUIiwKICAgICAgTWludF9pZF9TdGFydDogcy50b2tlbklkLAogICAgICBPd25lcjogcy5vd25lciwKICAgICAgU3RhdHVzOiBzLnN0YXR1cywKICAgICAgTWF0dXJpdHlfRGF0ZV9GbXQ6IHMuTWF0dXJpdHlfRGF0ZV9GbXQsCiAgICAgIFRlcm06IHMudGVybSwKICAgICAgVk1VczogJzEnLCAvLyBFYWNoIHN0YWtlIE5GVCByZXByZXNlbnRzIGEgc2luZ2xlIHBvc2l0aW9uCiAgICAgIEFjdGlvbnM6IHMuYWN0aW9ucyB8fCBbXSwKICAgICAgRXN0X1hFTjogMCwgLy8gVGhpcyB3aWxsIGJlIGNhbGN1bGF0ZWQgYnkgYXBwLmpzJ3MgZXN0aW1hdGVYRU5Gb3JSb3cKICAgICAgUmFua19SYW5nZTogJ04vQScsCiAgICAgIFNhbHQ6ICdOL0EnLAogICAgICBzdGFrZWRBbW91bnQ6IHMuYW1vdW50LCAvLyBGb3IgRXN0LiBYRU4gY2FsY3VsYXRpb24KICAgICAgYXB5OiBzLmFweSwgLy8gRm9yIEVzdC4gWEVOIGNhbGN1bGF0aW9uCiAgICAgIE1hdHVyaXR5X1RpbWVzdGFtcDogcy5tYXR1cml0eVRzLAogICAgICBtYXR1cml0eURhdGVPbmx5OiBzLm1hdHVyaXR5RGF0ZU9ubHksCiAgICAgIExhdGVzdF9BY3Rpb25fVGltZXN0YW1wOiBzLmFjdGlvbnM/Lmxlbmd0aCA+IDAgPyBzLm1hdHVyaXR5VHMgOiAwCiAgICB9OwogIH0KCgogIC8vIFVuaWZpZWQgY2FsZW5kYXIgKHN1bSBWTVVzIGFjcm9zcyBib3RoKSDigJQgYWNjdXJhdGUsIGNsaWNrYWJsZSwgYW5kIG5vIGNsaXBwaW5nCiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVW5pZmllZENhbGVuZGFyKCl7CiAgICBjb25zdCBjdFJvd3MgPSBhd2FpdCBmZXRjaENvaW50b29sUm93cygpOwogICAgY29uc3QgeGZSb3dzID0gYXdhaXQgZmV0Y2hYZW5mdFJvd3MoKTsKICAgIGNvbnN0IHN0YWtlWGZSb3dzID0gYXdhaXQgZmV0Y2hTdGFrZVhlbmZ0Um93cygpOwogICAgY29uc3Qgc3Rha2VSb3dzICAgPSBhd2FpdCBmZXRjaFN0YWtlUm93cygpOwoKICAgIC8vIEJ1aWxkIFlZWVktTU0tREQgLT4gdG90YWwgVk1VcyB1c2luZyB0aGUgKnNhbWUgZGF0ZSB5b3VyIHRhYmxlIHNob3dzKgogICAgY29uc3QgZGF0ZU1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgogICAgZnVuY3Rpb24gYWRkRnJvbVJvdyhyb3cpewogICAgICAvLyBFeGNsdWRlIGFueXRoaW5nIGFscmVhZHkgY2xhaW1lZCwgZW5kZWQsIG9yIHJlZGVlbWVkCiAgICAgIGlmIChTdHJpbmcocm93LlN0YXR1cykgPT09ICJDbGFpbWVkIiB8fCBTdHJpbmcocm93LnN0YXR1cykgPT09ICJFbmRlZCBFYXJseSIgfHwgTnVtYmVyKHJvdy5yZWRlZW1lZCB8fCAwKSA9PT0gMSkgcmV0dXJuOwoKICAgICAgLy8gT25seSBjb3VudCBpdGVtcyB0aGF0IGhhdmUgYSB2YWxpZCBtYXR1cml0eSB0aW1lc3RhbXAKICAgICAgY29uc3QgdCA9IE51bWJlcihyb3cuTWF0dXJpdHlfVGltZXN0YW1wIHx8IDApOwogICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0KSB8fCB0IDw9IDApIHJldHVybjsKCiAgICAgIGNvbnN0IGtleSA9IHJvd1RvTG9jYWxLZXkocm93KTsKICAgICAgaWYgKCFrZXkpIHJldHVybjsKCiAgICAgIGNvbnN0IHZtID0gTnVtYmVyKHJvdy5WTVVzIHx8IDApIHx8IDA7CiAgICAgIGlmICh2bSA+IDApIGRhdGVNYXBba2V5XSA9IChkYXRlTWFwW2tleV0gfHwgMCkgKyB2bTsKICAgIH0KCiAgICBjdFJvd3MuZm9yRWFjaChhZGRGcm9tUm93KTsKICAgIHhmUm93cy5tYXAobWFwWGVuZnRUb1JvdykuZm9yRWFjaChhZGRGcm9tUm93KTsKICAgIHN0YWtlWGZSb3dzLm1hcChtYXBTdGFrZVhlbmZ0VG9Sb3cpLmZvckVhY2goYWRkRnJvbVJvdyk7CiAgICBzdGFrZVJvd3MubWFwKG1hcFN0YWtlVG9Sb3cpLmZvckVhY2goYWRkRnJvbVJvdyk7CgogICAgLy8gSWYgYW4gb2xkIGluc3RhbmNlIGV4aXN0cywgcmVtb3ZlIGl0IGNsZWFubHkKICAgIGlmICh3aW5kb3cuY2FsZW5kYXJQaWNrZXIgJiYgdHlwZW9mIHdpbmRvdy5jYWxlbmRhclBpY2tlci5kZXN0cm95ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIHRyeSB7IHdpbmRvdy5jYWxlbmRhclBpY2tlci5kZXN0cm95KCk7IH0gY2F0Y2goZSl7fQogICAgfQoKICAgIC8vIEhlbHBlcjogc2V0IGhlYWRlciBmaWx0ZXIgdG8gIllZWVkgTW9uIiB3aGVuIHVzZXIgY2hhbmdlcyBtb250aC95ZWFyCiAgICAvLyBGcm9tIGEgeWVhciArIDAtYmFzZWQgbW9udGggKGZvciBtb250aCBuYXZpZ2F0aW9uKQogICAgZnVuY3Rpb24gc2V0TWF0dXJpdHlIZWFkZXJGaWx0ZXJGcm9tWWVhck1vbnRoKHllYXIsIG1vbnRoSW5kZXgpIHsKICAgICAgY29uc3QgbW9udGhzID0gWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTsKICAgICAgY29uc3QgdHh0ID0gYCR7eWVhcn0gJHttb250aHNbTWF0aC5tYXgoMCwgTWF0aC5taW4oMTEsIG1vbnRoSW5kZXgpKV19YDsKICAgICAgc2V0SGVhZGVyRmlsdGVyVGV4dERlYm91bmNlZCgiTWF0dXJpdHlfRGF0ZV9GbXQiLCB0eHQpOwogICAgICB0cnkgeyB3aW5kb3cuY29pbnRvb2xUYWJsZT8ucmVmcmVzaEZpbHRlcigpOyB9IGNhdGNoIChfKSB7fQogICAgfQoKICAgIC8vIEhlbHBlcjogZW5zdXJlIEZsYXRwaWNrciBoZWFkZXIgKG1vbnRoL3llYXIpIGlzbid0IHB1c2hlZCBkb3duIGJ5IHZlbmRvciBwYWRkaW5nCiAgICBmdW5jdGlvbiBfX2ZpeEZsYXRwaWNrckhlYWRlcihmcEluc3RhbmNlKXsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByb290ID0gZnBJbnN0YW5jZSAmJiBmcEluc3RhbmNlLmNhbGVuZGFyQ29udGFpbmVyOwogICAgICAgIGlmICghcm9vdCkgcmV0dXJuOwogICAgICAgIGNvbnN0IGhkciA9IHJvb3QucXVlcnlTZWxlY3RvcignLmZsYXRwaWNrci1jdXJyZW50LW1vbnRoJyk7CiAgICAgICAgaWYgKGhkcikgewogICAgICAgICAgaGRyLnN0eWxlLnBhZGRpbmdUb3AgPSAnMHB4JzsKICAgICAgICAgIGhkci5zdHlsZS5wYWRkaW5nID0gJzBweCc7CiAgICAgICAgfQogICAgICB9IGNhdGNoIHt9CiAgICB9CgogICAgLy8gQ3JlYXRlIGEgZnJlc2ggRmxhdHBpY2tyIHdpdGggYmFkZ2VzIGFuZCBuYXZpZ2F0aW9uIGhvb2tzCiAgICB3aW5kb3cuY2FsZW5kYXJQaWNrZXIgPSBmbGF0cGlja3IoIiNjYWxlbmRhciIsIHsKICAgICAgaW5saW5lOiB0cnVlLAogICAgICAvLyBXZWVrIHN0YXJ0cyBvbiBNb25kYXkKICAgICAgbG9jYWxlOiB7IGZpcnN0RGF5T2ZXZWVrOiAxIH0sCgogICAgICBvbkRheUNyZWF0ZTogZnVuY3Rpb24oZE9iaiwgZFN0ciwgZnAsIGRheUVsZW0pewogICAgICAgIGNvbnN0IGR0ID0gZGF5RWxlbS5kYXRlT2JqOwogICAgICAgIGlmICghZHQpIHJldHVybjsKCiAgICAgICAgLy8gSGlkZSBkYXlzIGZyb20gcHJldi9uZXh0IG1vbnRoIChidXQga2VlcCBncmlkIGFsaWdubWVudCkKICAgICAgICBjb25zdCBpc090aGVyTW9udGggPSBkYXlFbGVtLmNsYXNzTGlzdC5jb250YWlucygicHJldk1vbnRoRGF5IikgfHwKICAgICAgICAgIGRheUVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCJuZXh0TW9udGhEYXkiKTsKICAgICAgICBpZiAoaXNPdGhlck1vbnRoKSB7CiAgICAgICAgICBkYXlFbGVtLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgIGRheUVsZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9ICJub25lIjsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIC8vIEFsbG93IHBpbGwgdG8gb3ZlcmZsb3cKICAgICAgICBkYXlFbGVtLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsKICAgICAgICBkYXlFbGVtLnN0eWxlLm92ZXJmbG93ID0gInZpc2libGUiOwoKICAgICAgICAvLyBDbGlja2luZyB0aGUgZGF5IGNlbGwgc2V0cyB0aGUgaGVhZGVyIGZpbHRlciAoZnVsbCBkYXRlKQogICAgICAgIGRheUVsZW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpewogICAgICAgICAgdHJ5IHsgc2V0TWF0dXJpdHlIZWFkZXJGaWx0ZXJGcm9tRGF0ZShkdCk7IH0gY2F0Y2goXykge30KICAgICAgICB9KTsKCiAgICAgICAgLy8gLS0tIGJhZGdlIGNyZWF0aW9uIChzdW0gVk1VcykgLS0tCiAgICAgICAgY29uc3Qga2V5ID0gYnVpbGREYXlLZXlGcm9tRGF0ZShkdCk7CiAgICAgICAgY29uc3QgY291bnQgPSBkYXRlTWFwW2tleV07CiAgICAgICAgaWYgKCFjb3VudCkgcmV0dXJuOwoKICAgICAgICBjb25zdCBiYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICBiYWRnZS50ZXh0Q29udGVudCA9IFN0cmluZyhjb3VudCk7CiAgICAgICAgYmFkZ2Uuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgICAgIGJhZGdlLnN0eWxlLnRvcCA9ICItMnB4IjsKICAgICAgICBiYWRnZS5zdHlsZS5yaWdodCA9ICItMnB4IjsKICAgICAgICBiYWRnZS5zdHlsZS5taW5XaWR0aCA9ICIxOHB4IjsKICAgICAgICBiYWRnZS5zdHlsZS5oZWlnaHQgPSAiMThweCI7CiAgICAgICAgYmFkZ2Uuc3R5bGUucGFkZGluZyA9ICIwIDZweCI7CiAgICAgICAgYmFkZ2Uuc3R5bGUubGluZUhlaWdodCA9ICIxOHB4IjsKICAgICAgICBiYWRnZS5zdHlsZS50ZXh0QWxpZ24gPSAiY2VudGVyIjsKICAgICAgICBiYWRnZS5zdHlsZS5mb250U2l6ZSA9ICIxMHB4IjsKICAgICAgICBiYWRnZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzA2M2Q4NSI7CiAgICAgICAgYmFkZ2Uuc3R5bGUuY29sb3IgPSAieWVsbG93IjsKICAgICAgICBiYWRnZS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiOTk5cHgiOwogICAgICAgIGJhZGdlLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKICAgICAgICBiYWRnZS5zdHlsZS53aGl0ZVNwYWNlID0gIm5vd3JhcCI7CiAgICAgICAgYmFkZ2Uuc3R5bGUuekluZGV4ID0gIjIiOwoKICAgICAgICBiYWRnZS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIHRyeSB7IHNldE1hdHVyaXR5SGVhZGVyRmlsdGVyRnJvbURhdGUoZHQpOyB9IGNhdGNoKF8pIHt9CiAgICAgICAgfSk7CgogICAgICAgIGRheUVsZW0uYXBwZW5kQ2hpbGQoYmFkZ2UpOwogICAgICB9LAoKICAgICAgLy8g4pyFIE5ldzogd2hlbiB1c2VyIG5hdmlnYXRlcyBtb250aHMveWVhcnMgdmlhIGFycm93cyBvciBoZWFkZXIsCiAgICAgIC8vICAgICAgICBzZXQgdGhlIGhlYWRlciBmaWx0ZXIgdG8gIllZWVkgTW9uIgogICAgICBvbk1vbnRoQ2hhbmdlOiBmdW5jdGlvbihzZWxlY3RlZERhdGVzLCBkYXRlU3RyLCBmcCl7CiAgICAgICAgdHJ5IHsgc2V0TWF0dXJpdHlIZWFkZXJGaWx0ZXJGcm9tWWVhck1vbnRoKGZwLmN1cnJlbnRZZWFyLCBmcC5jdXJyZW50TW9udGgpOyB9IGNhdGNoKF8pIHt9CiAgICAgICAgX19maXhGbGF0cGlja3JIZWFkZXIoZnApOwogICAgICB9LAogICAgICBvblllYXJDaGFuZ2U6IGZ1bmN0aW9uKHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHIsIGZwKXsKICAgICAgICB0cnkgeyBzZXRNYXR1cml0eUhlYWRlckZpbHRlckZyb21ZZWFyTW9udGgoZnAuY3VycmVudFllYXIsIGZwLmN1cnJlbnRNb250aCk7IH0gY2F0Y2goXykge30KICAgICAgICBfX2ZpeEZsYXRwaWNrckhlYWRlcihmcCk7CiAgICAgIH0sCgogICAgICAvLyBTZWxlY3RpbmcgYSBzcGVjaWZpYyBkYXRlIChldmVuIGlmIG5vIGJhZGdlKSBzZXRzIHRoZSBoZWFkZXIgZmlsdGVyIChmdWxsIGRhdGUpCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihzZWxlY3RlZERhdGVzKXsKICAgICAgICBpZiAoc2VsZWN0ZWREYXRlcyAmJiBzZWxlY3RlZERhdGVzLmxlbmd0aCkgewogICAgICAgICAgdHJ5IHsgc2V0TWF0dXJpdHlIZWFkZXJGaWx0ZXJGcm9tRGF0ZShzZWxlY3RlZERhdGVzWzBdKTsgfSBjYXRjaChfKSB7fQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCiAgICAgICAgICAgICAgJy50YWJ1bGF0b3ItY29sW3RhYnVsYXRvci1maWVsZD0iTWF0dXJpdHlfRGF0ZV9GbXQiXSAudGFidWxhdG9yLWhlYWRlci1maWx0ZXIgaW5wdXQnCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGlmIChpbnB1dCkgewogICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImlucHV0IiwgIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgICAgICAgaW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImNoYW5nZSIsIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2goXykge30KICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uKHNlbGVjdGVkRGF0ZXMsIGRhdGVTdHIsIGZwKXsgX19maXhGbGF0cGlja3JIZWFkZXIoZnApOyB9CiAgICB9KTsKCiAgICAvLyBLZWVwIHRoZSBib290c3RyYXAgcG9pbnRlciBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgbGl2ZSBpbnN0YW5jZQogICAgd2luZG93Ll9jYWxlbmRhciA9IHdpbmRvdy5jYWxlbmRhclBpY2tlcjsKICAgIC8vIE5FVzogYXR0YWNoIGhlYWRlciDihpIgY2FsZW5kYXIgc3luYwogICAgYXR0YWNoTWF0dXJpdHlIZWFkZXJTeW5jKCk7CiAgfQoKCiAgZnVuY3Rpb24gdXBkYXRlU3Rha2VYZW5mdFN1bW1hcnlMaW5lKCl7CiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3VtbWFyeUNvbnRhaW5lciIpOwogICAgaWYgKCFjb250YWluZXIpIHJldHVybjsKCiAgICBsZXQgbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGFrZVhlbmZ0SXRlbUNvdW50Iik7CiAgICBpZiAoIWxpbmUpIHsKICAgICAgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBsaW5lLmlkID0gInN0YWtlWGVuZnRJdGVtQ291bnQiOwogICAgICBsaW5lLnN0eWxlLm1hcmdpblRvcCA9ICI0cHgiOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobGluZSk7CiAgICB9CgogICAgY29uc3QgYWxsID0gKEFycmF5LmlzQXJyYXkod2luZG93Ll9hbGxVbmlmaWVkUm93cykgJiYgd2luZG93Ll9hbGxVbmlmaWVkUm93cy5sZW5ndGgpCiAgICAgID8gd2luZG93Ll9hbGxVbmlmaWVkUm93cwogICAgICA6ICh3aW5kb3cuY29pbnRvb2xUYWJsZSA/ICh3aW5kb3cuY29pbnRvb2xUYWJsZS5nZXREYXRhKCJhbGwiKSB8fCB3aW5kb3cuY29pbnRvb2xUYWJsZS5nZXREYXRhKCJhY3RpdmUiKSkgOiBbXSk7CgogICAgY29uc3Qgc3hmID0gYWxsLmZpbHRlcihyID0+IHIuU291cmNlVHlwZSA9PT0gIlN0YWtlIFhFTkZUIik7CiAgICBjb25zdCBjb3VudCA9IHN4Zi5sZW5ndGg7CiAgICBjb25zdCBtYXR1cmluZ0NvdW50ID0gc3hmLmZpbHRlcihyID0+IHIuU3RhdHVzID09PSAiTWF0dXJpbmciKS5sZW5ndGg7CiAgICBjb25zdCBjbGFpbWFibGVDb3VudCA9IHN4Zi5maWx0ZXIociA9PiByLlN0YXR1cyA9PT0gIkNsYWltYWJsZSIpLmxlbmd0aDsKCiAgICBsaW5lLmlubmVySFRNTCA9IGA8c3Ryb25nPlhFTkZUIFN0YWtlczo8L3N0cm9uZz4gJHtjb3VudC50b0xvY2FsZVN0cmluZygpfSB8IDxzdHJvbmc+TWF0dXJpbmc6PC9zdHJvbmc+ICR7bWF0dXJpbmdDb3VudC50b0xvY2FsZVN0cmluZygpfSB8IDxzdHJvbmc+Q2xhaW1hYmxlOjwvc3Ryb25nPiAke2NsYWltYWJsZUNvdW50LnRvTG9jYWxlU3RyaW5nKCl9YDsKICB9CgogIC8vIEV4dGVuZCB0aGUgc3VtbWFyeSB3aXRoIFhFTkZUIGNvdW50cwogIGZ1bmN0aW9uIHVwZGF0ZVhlbmZ0U3VtbWFyeUxpbmUoKXsKICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdW1tYXJ5Q29udGFpbmVyIik7CiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuOwoKICAgIGxldCBsaW5lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInhlbmZ0SXRlbUNvdW50Iik7CiAgICBpZiAoIWxpbmUpIHsKICAgICAgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBsaW5lLmlkID0gInhlbmZ0SXRlbUNvdW50IjsKICAgICAgbGluZS5zdHlsZS5tYXJnaW5Ub3AgPSAiNnB4IjsKICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmUpOwogICAgfQoKICAgIC8vIE92ZXJhbGwsIHVuZmlsdGVyZWQgZGF0YQogICAgY29uc3QgYWxsID0gKEFycmF5LmlzQXJyYXkod2luZG93Ll9hbGxVbmlmaWVkUm93cykgJiYgd2luZG93Ll9hbGxVbmlmaWVkUm93cy5sZW5ndGgpCiAgICAgID8gd2luZG93Ll9hbGxVbmlmaWVkUm93cwogICAgICA6ICh3aW5kb3cuY29pbnRvb2xUYWJsZSA/ICh3aW5kb3cuY29pbnRvb2xUYWJsZS5nZXREYXRhKCJhbGwiKSB8fCB3aW5kb3cuY29pbnRvb2xUYWJsZS5nZXREYXRhKCJhY3RpdmUiKSkgOiBbXSk7CgogICAgY29uc3QgeGYgPSBhbGwuZmlsdGVyKHIgPT4gci5Tb3VyY2VUeXBlID09PSAiWEVORlQiKTsKICAgIGNvbnN0IHhmQ291bnQgPSB4Zi5sZW5ndGg7CiAgICBjb25zdCB4ZlZNVXMgID0geGYucmVkdWNlKChzLCByKSA9PiBzICsgKE51bWJlcihyLlZNVXMpfHwwKSwgMCk7CiAgICBjb25zdCBhcGV4ICAgICA9IHhmLmZpbHRlcihyID0+IFN0cmluZyhyLkNhdGVnb3J5fHwiIikudG9Mb3dlckNhc2UoKSA9PT0gImFwZXgiKS5sZW5ndGg7CiAgICBjb25zdCBjb2xsZWN0b3I9IHhmLmZpbHRlcihyID0+IFN0cmluZyhyLkNhdGVnb3J5fHwiIikudG9Mb3dlckNhc2UoKSA9PT0gImNvbGxlY3RvciIpLmxlbmd0aDsKICAgIGNvbnN0IGxpbWl0ZWQgID0geGYuZmlsdGVyKHIgPT4gU3RyaW5nKHIuQ2xhc3N8fCIiKS50b0xvd2VyQ2FzZSgpID09PSAibGltaXRlZCIpLmxlbmd0aDsKCiAgICBjb25zdCBtYXR1cmluZ1ZNVXMgPSB4Zi5maWx0ZXIociA9PiByLlN0YXR1cyA9PT0gIk1hdHVyaW5nIikucmVkdWNlKChzLCByKSA9PiBzICsgKE51bWJlcihyLlZNVXMpfHwwKSwgMCk7CiAgICBjb25zdCBjbGFpbWFibGVDb3VudCA9IHhmLmZpbHRlcihyID0+IHIuU3RhdHVzID09PSAiQ2xhaW1hYmxlIikubGVuZ3RoOwoKICAgIGxpbmUuaW5uZXJIVE1MID0gYDxzdHJvbmc+WEVORlRzOjwvc3Ryb25nPiAke3hmQ291bnQudG9Mb2NhbGVTdHJpbmcoKX0KICAgIHwgPHN0cm9uZz5Ub3RhbCBWTVVzOjwvc3Ryb25nPiAke3hmVk1Vcy50b0xvY2FsZVN0cmluZygpfSAoQXBleDogJHthcGV4LnRvTG9jYWxlU3RyaW5nKCl9IHwgQ29sbGVjdG9yOiAke2NvbGxlY3Rvci50b0xvY2FsZVN0cmluZygpfSB8IExpbWl0ZWQ6ICR7bGltaXRlZC50b0xvY2FsZVN0cmluZygpfSkKICAgIHwgPHN0cm9uZz5NYXR1cmluZzo8L3N0cm9uZz4gJHttYXR1cmluZ1ZNVXMudG9Mb2NhbGVTdHJpbmcoKX0gfCA8c3Ryb25nPkNsYWltYWJsZTo8L3N0cm9uZz4gJHtjbGFpbWFibGVDb3VudC50b0xvY2FsZVN0cmluZygpfWA7CiAgfQoKCgoKCiAgLy8gVW5pZmllZCByZWZyZXNoOiBjb2x1bW5zICsgbWVyZ2UgKyBzdW1tYXJ5ICsgY2FsZW5kYXIKICBhc3luYyBmdW5jdGlvbiByZWZyZXNoVW5pZmllZCgpewogICAgaWYgKCF3aW5kb3cuY29pbnRvb2xUYWJsZSkgcmV0dXJuOwoKICAgIGVuc3VyZVVuaWZpZWRDb2x1bW5zKCk7CgogICAgY29uc3QgY3RSb3dzID0gYXdhaXQgZmV0Y2hDb2ludG9vbFJvd3MoKTsKICAgIGNvbnN0IHhmUm93cyA9IGF3YWl0IGZldGNoWGVuZnRSb3dzKCk7CiAgICBjb25zdCBzdGFrZVhmUm93cyA9IGF3YWl0IGZldGNoU3Rha2VYZW5mdFJvd3MoKTsKICAgIGNvbnN0IHN0YWtlUm93cyAgID0gYXdhaXQgZmV0Y2hTdGFrZVJvd3MoKTsKCiAgICBjb25zdCBtZXJnZWQgPSBjdFJvd3MubWFwKHIgPT4geyByLlNvdXJjZVR5cGUgPSAiQ29pbnRvb2wiOyByZXR1cm4gcjsgfSkKICAgICAgLmNvbmNhdCh4ZlJvd3MubWFwKG1hcFhlbmZ0VG9Sb3cpKQogICAgICAuY29uY2F0KHN0YWtlWGZSb3dzLm1hcChtYXBTdGFrZVhlbmZ0VG9Sb3cpKQogICAgICAuY29uY2F0KHN0YWtlUm93cy5tYXAobWFwU3Rha2VUb1JvdykpOwoKICAgIC8vIENhY2hlIGFuIHVuZmlsdGVyZWQgc25hcHNob3QgZm9yIGdsb2JhbCBzdGF0cwogICAgd2luZG93Ll9hbGxVbmlmaWVkUm93cyA9IG1lcmdlZC5zbGljZSgpOwoKICAgIC8vIFJlcGxhY2UgZGF0YSB3aXRob3V0IGxvc2luZyBmaWx0ZXJzL2Zvcm1hdHRlcnMKICAgIHdpbmRvdy5jb2ludG9vbFRhYmxlLnJlcGxhY2VEYXRhKG1lcmdlZCk7CiAgICBjb25zdCBoYXNOb25Db2ludG9vbCA9ICh4ZlJvd3MubGVuZ3RoICsgc3Rha2VYZlJvd3MubGVuZ3RoICsgc3Rha2VSb3dzLmxlbmd0aCkgPiAwOwogICAgY2xlYXJYZW5mdEJsb2NraW5nRmlsdGVycyhoYXNOb25Db2ludG9vbCk7CgogICAgLy8gVXBkYXRlIHN1bW1hcnkgJiBjYWxlbmRhciAobm93IHJlYWQgZnJvbSBfYWxsVW5pZmllZFJvd3MpCiAgICBpZiAodHlwZW9mIHVwZGF0ZVN1bW1hcnlTdGF0cyA9PT0gImZ1bmN0aW9uIikgeyB0cnkgeyB1cGRhdGVTdW1tYXJ5U3RhdHMoKTsgfSBjYXRjaChfKXt9IH0KICAgIHRyeSB7IHVwZGF0ZVhlbmZ0U3VtbWFyeUxpbmUoKTsgfSBjYXRjaChfKSB7fQogICAgdHJ5IHsgdXBkYXRlU3Rha2VYZW5mdFN1bW1hcnlMaW5lKCk7IH0gY2F0Y2goXykge30KICAgIHRyeSB7IHVwZGF0ZVN0YWtlU3VtbWFyeUxpbmUoKTsgfSBjYXRjaChfKSB7fSAvLyDinIUgQUREIFRISVMgTElORQogICAgdHJ5IHsgYXdhaXQgdXBkYXRlVW5pZmllZENhbGVuZGFyKCk7IH0gY2F0Y2goXykge30KICB9CgoKICAvLyBLZWVwIG1lcmdlZCBhZnRlciBhbnkgQ29pblRvb2wgcmVmcmVzaGVzCiAgZnVuY3Rpb24gYXR0YWNoR3VhcmRzKCl7CiAgICBpZiAoIXdpbmRvdy5jb2ludG9vbFRhYmxlKSByZXR1cm47CiAgICBpZiAoIXdpbmRvdy5fdW5pZnlXcmFwcGVkUG9wdWxhdGUgJiYgdHlwZW9mIHdpbmRvdy5wb3B1bGF0ZVRhYmxlID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIHZhciBfb3JpZ1BvcHVsYXRlID0gd2luZG93LnBvcHVsYXRlVGFibGU7CiAgICAgIHdpbmRvdy5wb3B1bGF0ZVRhYmxlID0gZnVuY3Rpb24obWludHMpewogICAgICAgIF9vcmlnUG9wdWxhdGUobWludHMpOwogICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnJlZnJlc2hVbmlmaWVkID09PSAiZnVuY3Rpb24iKSB3aW5kb3cucmVmcmVzaFVuaWZpZWQoKTsKICAgICAgfTsKICAgICAgd2luZG93Ll91bmlmeVdyYXBwZWRQb3B1bGF0ZSA9IHRydWU7CiAgICB9CgogICAgaWYgKCF3aW5kb3cuY29pbnRvb2xUYWJsZS5fdW5pZnlQYXRjaGVkKSB7CiAgICAgIHZhciBfb3JpZ1JlcGxhY2UgPSB3aW5kb3cuY29pbnRvb2xUYWJsZS5yZXBsYWNlRGF0YS5iaW5kKHdpbmRvdy5jb2ludG9vbFRhYmxlKTsKICAgICAgdmFyIF9tZXJnaW5nID0gZmFsc2U7CiAgICAgIHdpbmRvdy5jb2ludG9vbFRhYmxlLnJlcGxhY2VEYXRhID0gYXN5bmMgZnVuY3Rpb24oZGF0YSl7CiAgICAgICAgdmFyIHJlcyA9IGF3YWl0IF9vcmlnUmVwbGFjZShkYXRhKTsKICAgICAgICBpZiAoIV9tZXJnaW5nICYmIHR5cGVvZiB3aW5kb3cucmVmcmVzaFVuaWZpZWQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIF9tZXJnaW5nID0gdHJ1ZTsgdHJ5IHsgYXdhaXQgd2luZG93LnJlZnJlc2hVbmlmaWVkKCk7IH0gZmluYWxseSB7IF9tZXJnaW5nID0gZmFsc2U7IH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlczsKICAgICAgfTsKICAgICAgd2luZG93LmNvaW50b29sVGFibGUuX3VuaWZ5UGF0Y2hlZCA9IHRydWU7CiAgICB9CgogICAgLy8gQWx3YXlzIHVzZSB1bmlmaWVkIGNhbGVuZGFyCiAgICBpZiAodHlwZW9mIHdpbmRvdy51cGRhdGVDYWxlbmRhciA9PT0gImZ1bmN0aW9uIiAmJiAhd2luZG93Ll91bmlmeVdyYXBwZWRDYWxlbmRhcikgewogICAgICB3aW5kb3cudXBkYXRlQ2FsZW5kYXIgPSBmdW5jdGlvbigpeyByZXR1cm4gdXBkYXRlVW5pZmllZENhbGVuZGFyKCk7IH07CiAgICAgIHdpbmRvdy5fdW5pZnlXcmFwcGVkQ2FsZW5kYXIgPSB0cnVlOwogICAgfQogIH0KCiAgLy8gQm9vdAogIGVuc3VyZVhlbmZ0U2NhbkJ1dHRvbigpOwogIHdoZW5UYWJsZVJlYWR5KGZ1bmN0aW9uKCl7CiAgICBhdHRhY2hHdWFyZHMoKTsKICAgIHdpbmRvdy5yZWZyZXNoVW5pZmllZCA9IHJlZnJlc2hVbmlmaWVkOwogICAgcmVmcmVzaFVuaWZpZWQoKTsKICB9KTsKfSkoKTsK',
        'js/xen-stake.js': 'Ly8gPT09IFJlZ3VsYXIgWEVOIFN0YWtlcyBzY2FubmVyIChjb250cmFjdC1vbmx5LCByYXRlbGltaXRlZCwgRklYRUQgZGVjb2RlKSA9PT09DQovLyBGaXg6IGRlY29kZSBsb2cgYGRhdGFgIHdpdGggdzMuZXRoLmFiaSAod2luZG93LldlYjMuZXRoLmFiaSBjYW4gYmUgdW5kZWZpbmVkIGluIHNvbWUgYnVpbGRzKQ0KLy8gUmVzdWx0OiBhbW91bnQvdGVybSBhcmUgbm93IHBvcHVsYXRlZDsgbWF0dXJpdHkvc3RhdHVzIHJlbmRlciBjb3JyZWN0bHkgaW4gdGFibGUgKyBjYWxlbmRhci4NCihmdW5jdGlvbiAoKSB7DQogIGNvbnN0IENPTlRSQUNUX0FERFJFU1MgPSAiMHgwNjQ1MGRlZTdmZDJmYjhlMzkwNjE0MzRiYWJjZmMwNTU5OWE2ZmI4Ii50b0xvd2VyQ2FzZSgpOw0KICBjb25zdCBERUZBVUxUX1JQQyA9ICJodHRwczovL2V0aGVyZXVtLXJwYy5wdWJsaWNub2RlLmNvbSI7DQogIGNvbnN0IE1JTl9DT05UUkFDVF9CTE9DSyA9IDE1NzAwMDAwOw0KICBjb25zdCBTQ0FOX0JBQ0tUUkFDS19CTE9DS1MgPSAxMDAwOw0KDQogIC8vIFRocm90dGxlICgyIHJlcS9zZWMpDQogIGNvbnN0IFJBVEVfUEVSX1NFQyA9IDE7DQogIGNvbnN0IE1JTl9JTlRFUlZBTF9NUyA9IE1hdGguY2VpbCgxMDAwIC8gUkFURV9QRVJfU0VDKTsNCiAgbGV0IF9fbGFzdENhbGxBdCA9IDA7DQogIGFzeW5jIGZ1bmN0aW9uIHRocm90dGxlKCkgew0KICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7DQogICAgY29uc3Qgd2FpdCA9IE1hdGgubWF4KDAsIF9fbGFzdENhbGxBdCArIE1JTl9JTlRFUlZBTF9NUyAtIG5vdyk7DQogICAgaWYgKHdhaXQgPiAwKSBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgd2FpdCkpOw0KICAgIF9fbGFzdENhbGxBdCA9IERhdGUubm93KCk7DQogIH0NCg0KICAvLyBVdGlscw0KICBmdW5jdGlvbiBjbGVhbkhleEFkZHIoYSl7cmV0dXJuIFN0cmluZyhhfHwiIikudHJpbSgpLnRvTG93ZXJDYXNlKCk7fQ0KICBmdW5jdGlvbiBwYWRUb3BpY0FkZHJlc3MoYWRkcil7cmV0dXJuICIweCIrIjAiLnJlcGVhdCgyNCkrYWRkci5yZXBsYWNlKC9eMHgvLCIiKS50b0xvd2VyQ2FzZSgpO30NCiAgZnVuY3Rpb24gZm10TG9jYWxEYXRlVGltZSh0cyl7DQogICAgaWYoIU51bWJlci5pc0Zpbml0ZSh0cyl8fHRzPD0wKSByZXR1cm4gIiI7DQogICAgaWYgKHR5cGVvZiB3aW5kb3cubHV4b24hPT0idW5kZWZpbmVkIiAmJiB3aW5kb3cubHV4b24uRGF0ZVRpbWUpew0KICAgICAgdHJ5eyByZXR1cm4gd2luZG93Lmx1eG9uLkRhdGVUaW1lLmZyb21TZWNvbmRzKHRzKS5zZXRab25lKEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSkudG9Gb3JtYXQoInl5eXkgTExMIGRkLCBoaDptbSBhIik7IH1jYXRjaHt9DQogICAgfQ0KICAgIGNvbnN0IGQ9bmV3IERhdGUodHMqMTAwMCksbW89WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXVtkLmdldE1vbnRoKCldOw0KICAgIGNvbnN0IGRkPVN0cmluZyhkLmdldERhdGUoKSkucGFkU3RhcnQoMiwiMCIpOyBsZXQgaD1kLmdldEhvdXJzKCk7IGNvbnN0IGFtcG09aD49MTI/IlBNIjoiQU0iOyBoPWglMTJ8fDEyOw0KICAgIHJldHVybiBgJHtkLmdldEZ1bGxZZWFyKCl9ICR7bW99ICR7ZGR9LCAke1N0cmluZyhoKS5wYWRTdGFydCgyLCIwIil9OiR7U3RyaW5nKGQuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCIwIil9ICR7YW1wbX1gOw0KICB9DQogIGZ1bmN0aW9uIGRheUtleUxvY2FsKHRzKXsNCiAgICBpZighTnVtYmVyLmlzRmluaXRlKHRzKXx8dHM8PTApIHJldHVybiAiIjsNCiAgICBpZiAodHlwZW9mIHdpbmRvdy5sdXhvbiE9PSJ1bmRlZmluZWQiICYmIHdpbmRvdy5sdXhvbi5EYXRlVGltZSl7DQogICAgICB0cnl7IHJldHVybiB3aW5kb3cubHV4b24uRGF0ZVRpbWUuZnJvbVNlY29uZHModHMpLnNldFpvbmUoSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lKS50b0Zvcm1hdCgieXl5eS1MTC1kZCIpOyB9Y2F0Y2h7fQ0KICAgIH0NCiAgICBjb25zdCBkPW5ldyBEYXRlKHRzKjEwMDApOyByZXR1cm4gYCR7ZC5nZXRGdWxsWWVhcigpfS0ke1N0cmluZyhkLmdldE1vbnRoKCkrMSkucGFkU3RhcnQoMiwiMCIpfS0ke1N0cmluZyhkLmdldERhdGUoKSkucGFkU3RhcnQoMiwiMCIpfWA7DQogIH0NCg0KICAvLyBJREINCiAgY29uc3QgREJfTkFNRT0iREItWGVuLVN0YWtlIiwgREJfVkVSPTEsIFNUT1JFPSJzdGFrZXMiLCBTVE9SRV9TVD0ic2NhblN0YXRlIjsNCiAgZnVuY3Rpb24gb3BlbkRCKCl7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PnsNCiAgICBjb25zdCByZXE9aW5kZXhlZERCLm9wZW4oREJfTkFNRSxEQl9WRVIpOw0KICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQ9ZT0+e2NvbnN0IGRiPWUudGFyZ2V0LnJlc3VsdDsNCiAgICAgIGlmKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFNUT1JFKSl7Y29uc3Qgb3M9ZGIuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkUse2tleVBhdGg6ImlkIn0pOyBvcy5jcmVhdGVJbmRleCgiYnlPd25lciIsIm93bmVyIix7dW5pcXVlOmZhbHNlfSk7fQ0KICAgICAgaWYoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoU1RPUkVfU1QpKXtkYi5jcmVhdGVPYmplY3RTdG9yZShTVE9SRV9TVCx7a2V5UGF0aDoiYWRkcmVzcyJ9KTt9DQogICAgfTsNCiAgICByZXEub25zdWNjZXNzPSgpPT5yZXNvbHZlKHJlcS5yZXN1bHQpOyByZXEub25lcnJvcj0oKT0+cmVqZWN0KHJlcS5lcnJvcik7DQogIH0pO30NCiAgZnVuY3Rpb24gZ2V0QnlPd25lcihkYiwgb3duZXIpe3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57DQogICAgY29uc3QgdHg9ZGIudHJhbnNhY3Rpb24oU1RPUkUsInJlYWRvbmx5Iik7IGNvbnN0IGlkeD10eC5vYmplY3RTdG9yZShTVE9SRSkuaW5kZXgoImJ5T3duZXIiKTsNCiAgICBjb25zdCByZXE9aWR4LmdldEFsbChvd25lcik7IHJlcS5vbnN1Y2Nlc3M9KCk9PnJlc29sdmUocmVxLnJlc3VsdHx8W10pOyByZXEub25lcnJvcj0oKT0+cmVqZWN0KHJlcS5lcnJvcik7DQogIH0pO30NCiAgZnVuY3Rpb24gc2F2ZVJvdyhkYixyb3cpe3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57DQogICAgaWYoIXJvd3x8IXJvdy5pZCl7Y29uc29sZS53YXJuKCJbWGVuU3Rha2VdIE5vdCBzYXZpbmcgcm93IHdpdGhvdXQgaWQ6Iixyb3cpOyByZXNvbHZlKCk7IHJldHVybjt9DQogICAgY29uc3QgdHg9ZGIudHJhbnNhY3Rpb24oU1RPUkUsInJlYWR3cml0ZSIpOyB0eC5vYmplY3RTdG9yZShTVE9SRSkucHV0KHJvdykub25zdWNjZXNzPSgpPT5yZXNvbHZlKCk7IHR4Lm9uZXJyb3I9ZT0+cmVqZWN0KGUudGFyZ2V0LmVycm9yKTsNCiAgfSk7fQ0KICBmdW5jdGlvbiBnZXRTY2FuU3RhdGUoZGIsYWRkcmVzcyl7YWRkcmVzcz1jbGVhbkhleEFkZHIoYWRkcmVzcyk7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PnsNCiAgICBjb25zdCB0eD1kYi50cmFuc2FjdGlvbihTVE9SRV9TVCwicmVhZG9ubHkiKTsgdHgub2JqZWN0U3RvcmUoU1RPUkVfU1QpLmdldChhZGRyZXNzKS5vbnN1Y2Nlc3M9ZT0+cmVzb2x2ZShlLnRhcmdldC5yZXN1bHR8fG51bGwpOyB0eC5vbmVycm9yPWU9PnJlamVjdChlLnRhcmdldC5lcnJvcik7DQogIH0pO30NCiAgZnVuY3Rpb24gcHV0U2NhblN0YXRlKGRiLGFkZHJlc3MsbGFzdCl7YWRkcmVzcz1jbGVhbkhleEFkZHIoYWRkcmVzcyk7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PnsNCiAgICBjb25zdCB0eD1kYi50cmFuc2FjdGlvbihTVE9SRV9TVCwicmVhZHdyaXRlIik7IHR4Lm9iamVjdFN0b3JlKFNUT1JFX1NUKS5wdXQoe2FkZHJlc3MsbGFzdFNjYW5uZWRCbG9jazpOdW1iZXIobGFzdCl8fDB9KS5vbnN1Y2Nlc3M9KCk9PnJlc29sdmUoKTsgdHgub25lcnJvcj1lPT5yZWplY3QoZS50YXJnZXQuZXJyb3IpOw0KICB9KTt9DQogIGZ1bmN0aW9uIGNsZWFyU2NhblN0YXRlKGRiLGFkZHJlc3Mpe2FkZHJlc3M9Y2xlYW5IZXhBZGRyKGFkZHJlc3MpO3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57DQogICAgY29uc3QgdHg9ZGIudHJhbnNhY3Rpb24oU1RPUkVfU1QsInJlYWR3cml0ZSIpOyB0eC5vYmplY3RTdG9yZShTVE9SRV9TVCkuZGVsZXRlKGFkZHJlc3MpLm9uc3VjY2Vzcz0oKT0+cmVzb2x2ZSgpOyB0eC5vbmVycm9yPWU9PnJlamVjdChlLnRhcmdldC5lcnJvcik7DQogIH0pO30NCg0KICAvLyBXZWIzICsgUlBDDQogIGZ1bmN0aW9uIGdldFJwY0xpc3QoKXtjb25zdCB0YT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIik7IGNvbnN0IHJhdz0odGEmJnRhLnZhbHVlLnRyaW0oKSl8fGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXN0b21SUEMiKXx8REVGQVVMVF9SUEM7IHJldHVybiByYXcuc3BsaXQoL1xzK3xcbisvKS5tYXAocz0+cy50cmltKCkpLmZpbHRlcihCb29sZWFuKTt9DQogIGZ1bmN0aW9uIG5ld1dlYjMoKXtjb25zdCBsaXN0PWdldFJwY0xpc3QoKTsgY29uc3QgcHJvdmlkZXI9bmV3IHdpbmRvdy5XZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIobGlzdFswXSk7IGNvbnN0IHczPW5ldyB3aW5kb3cuV2ViMyhwcm92aWRlcik7IHczLl9fcnBjTGlzdD1saXN0OyB3My5fX3JwY0luZGV4PTA7IHJldHVybiB3Mzt9DQogIGZ1bmN0aW9uIHJvdGF0ZVJwYyh3Myl7IGlmKCF3My5fX3JwY0xpc3R8fCF3My5fX3JwY0xpc3QubGVuZ3RoKSByZXR1cm47IHczLl9fcnBjSW5kZXg9KHczLl9fcnBjSW5kZXgrMSkldzMuX19ycGNMaXN0Lmxlbmd0aDsgY29uc3QgbmV4dD13My5fX3JwY0xpc3RbdzMuX19ycGNJbmRleF07IHRyeXt3My5zZXRQcm92aWRlcihuZXcgd2luZG93LldlYjMucHJvdmlkZXJzLkh0dHBQcm92aWRlcihuZXh0KSk7fWNhdGNoe30gY29uc3Qgc3RhdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicnBjU3RhdHVzIik7IGlmKHN0YXQpIHN0YXQudGV4dENvbnRlbnQ9YCB2aWEgJHtuZXh0fWA7IH0NCg0KICAvLyBMb2dzIEFQSQ0KICBhc3luYyBmdW5jdGlvbiBmZXRjaExvZ3NPbmNlKGFwaUtleSwgcGFyYW1zKXsNCiAgICBjb25zdCBxcz1uZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykudG9TdHJpbmcoKTsNCiAgICBjb25zdCB1cmw9YGh0dHBzOi8vYXBpLmV0aGVyc2Nhbi5pby9hcGk/bW9kdWxlPWxvZ3MmYWN0aW9uPWdldExvZ3MmJHtxc30mYXBpa2V5PSR7YXBpS2V5fWA7DQogICAgYXdhaXQgdGhyb3R0bGUoKTsNCiAgICBjb25zdCByZXM9YXdhaXQgZmV0Y2godXJsKTsgaWYoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzLnN0YXR1c31gKTsNCiAgICBjb25zdCBkYXRhPWF3YWl0IHJlcy5qc29uKCkuY2F0Y2goKCk9Pih7c3RhdHVzOiIwIixtZXNzYWdlOiJiYWQganNvbiJ9KSk7IHJldHVybiBkYXRhOw0KICB9DQogIGFzeW5jIGZ1bmN0aW9uIGZldGNoTG9nc1NwbGl0KGFwaUtleSwgcGFyYW1zLCBzaW5rLCBkZXB0aD0wLCBhdHRlbXB0PTEpew0KICAgIHRyeXsNCiAgICAgIGNvbnN0IGRhdGE9YXdhaXQgZmV0Y2hMb2dzT25jZShhcGlLZXksIHBhcmFtcyk7DQogICAgICBpZiAoZGF0YS5zdGF0dXM9PT0iMSIgJiYgQXJyYXkuaXNBcnJheShkYXRhLnJlc3VsdCkpIHsgc2luay5wdXNoKC4uLmRhdGEucmVzdWx0KTsgcmV0dXJuOyB9DQogICAgICBjb25zdCBtc2c9YCR7ZGF0YS5tZXNzYWdlfHwiIn0gJHtkYXRhLnJlc3VsdHx8IiJ9YDsNCiAgICAgIGlmICgvTWF4IGNhbGxzIHBlciBzZWMgcmF0ZSBsaW1pdCByZWFjaGVkL2kudGVzdChtc2cpKSB7DQogICAgICAgIGNvbnN0IGJhY2tvZmY9TWF0aC5taW4oNDAwMCwgNjAwKmF0dGVtcHQpOw0KICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyPT5zZXRUaW1lb3V0KHIsIGJhY2tvZmYpKTsNCiAgICAgICAgcmV0dXJuIGZldGNoTG9nc1NwbGl0KGFwaUtleSwgcGFyYW1zLCBzaW5rLCBkZXB0aCwgYXR0ZW1wdCsxKTsNCiAgICAgIH0NCiAgICAgIGlmICgvd2luZG93IGlzIHRvbyBsYXJnZXxyZWR1Y2UgdGhlIHJhbmdlL2kudGVzdChtc2cpICYmIGRlcHRoPDE4KXsNCiAgICAgICAgY29uc3QgZnJvbT1OdW1iZXIocGFyYW1zLmZyb21CbG9jayksIHRvPU51bWJlcihwYXJhbXMudG9CbG9jayk7IGlmICghKE51bWJlci5pc0Zpbml0ZShmcm9tKSYmTnVtYmVyLmlzRmluaXRlKHRvKSYmdG8+ZnJvbSkpIHRocm93IG5ldyBFcnJvcihtc2cpOw0KICAgICAgICBjb25zdCBtaWQ9TWF0aC5mbG9vcigoZnJvbSt0bykvMik7DQogICAgICAgIGF3YWl0IGZldGNoTG9nc1NwbGl0KGFwaUtleSwgey4uLnBhcmFtcywgdG9CbG9jazpTdHJpbmcobWlkKX0sIHNpbmssIGRlcHRoKzEsIDEpOw0KICAgICAgICBhd2FpdCBmZXRjaExvZ3NTcGxpdChhcGlLZXksIHsuLi5wYXJhbXMsIGZyb21CbG9jazpTdHJpbmcobWlkKzEpfSwgc2luaywgZGVwdGgrMSwgMSk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGlmICgvbm8gcmVjb3JkcyBmb3VuZC9pLnRlc3QobXNnKSkgcmV0dXJuOw0KICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZ3x8ImxvZ3MgZXJyb3IiKTsNCiAgICB9IGNhdGNoKGUpew0KICAgICAgaWYgKGF0dGVtcHQ8PTUpeyBjb25zdCBiYWNrb2ZmPU1hdGgubWluKDUwMDAsIDgwMCphdHRlbXB0KTsgYXdhaXQgbmV3IFByb21pc2Uocj0+c2V0VGltZW91dChyLCBiYWNrb2ZmKSk7IHJldHVybiBmZXRjaExvZ3NTcGxpdChhcGlLZXksIHBhcmFtcywgc2luaywgZGVwdGgsIGF0dGVtcHQrMSk7IH0NCiAgICAgIHRocm93IGU7DQogICAgfQ0KICB9DQoNCiAgLy8gQ29yZSBzY2FuDQogIGFzeW5jIGZ1bmN0aW9uIHNjYW4oKXsNCiAgICBjb25zdCBhZGRycz0oZnVuY3Rpb24oKXtjb25zdCBlbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoQWRkcmVzcyIpOyBjb25zdCByYXc9KGVsJiZlbC52YWx1ZSl8fGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJldGhBZGRyZXNzIil8fCIiOyBjb25zdCBhcnI9cmF3LnJlcGxhY2UoL1s7LF0rL2csIlxuIikuc3BsaXQoL1xyP1xuLykubWFwKHM9PnMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbikubWFwKHM9PnMudG9Mb3dlckNhc2UoKSk7IGNvbnN0IHNlZW49bmV3IFNldCgpOyByZXR1cm4gYXJyLmZpbHRlcihhPT5zZWVuLmhhcyhhKT9mYWxzZTooc2Vlbi5hZGQoYSksdHJ1ZSkpO30pKCk7DQogICAgY29uc3QgYXBpS2V5PShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoZXJzY2FuQXBpS2V5Iik/LnZhbHVlfHwiIikudHJpbSgpOw0KICAgIGNvbnN0IGZvcmNlUmVzY2FuPSEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcmNlUmVzY2FuIik/LmNoZWNrZWQ7DQogICAgaWYoIWFkZHJzLmxlbmd0aCl7YWxlcnQoIkFkZCBhdCBsZWFzdCBvbmUgYWRkcmVzcyBpbiBTZXR0aW5ncyB0byBzY2FuIFN0YWtlcy4iKTtyZXR1cm47fQ0KICAgIGlmKCFhcGlLZXkpe2FsZXJ0KCJBbiBFdGhlcnNjYW4gQVBJIEtleSBpcyByZXF1aXJlZCB0byBzY2FuIFN0YWtlcy4iKTtyZXR1cm47fQ0KDQogICAgY29uc3QgdzM9bmV3V2ViMygpOw0KICAgIGNvbnN0IGRiPWF3YWl0IG9wZW5EQigpOw0KICAgIGNvbnN0IGFkZHJMYmw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZHJlc3NQcm9ncmVzc1RleHQiKTsNCiAgICBjb25zdCB0b2tlbkJhcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9rZW5Qcm9ncmVzc0JhciIpOw0KICAgIGNvbnN0IHRva2VuVHh0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2tlblByb2dyZXNzVGV4dCIpOw0KICAgIGNvbnN0IGV0ckVsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJldHJUZXh0Iik7DQogICAgY29uc3QgcHJvZ1dyYXA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dyZXNzQ29udGFpbmVyIik7IGlmICh3aW5kb3cucHJvZ3Jlc3NVSSkgeyB3aW5kb3cucHJvZ3Jlc3NVSS5zaG93KHRydWUpOyB3aW5kb3cucHJvZ3Jlc3NVSS5zZXRUeXBlKCdTdGFrZXMnKTsgfSBlbHNlIGlmIChwcm9nV3JhcCkgcHJvZ1dyYXAuc3R5bGUuZGlzcGxheT0iYmxvY2siOw0KDQogICAgLy8gY29uc3RhbnRzIGZvciBBUFkgY2FsYyAoQUJJIG1vdmVkIHRvIC4vQUJJL3hlbi1BQkkuanMpCiAgICBjb25zdCB4ZW4gPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5BYmksIENPTlRSQUNUX0FERFJFU1MpOwogICAgbGV0IGdlbmVzaXNUcz0xNjY1MTg3MjAwLCBTRUNPTkRTX0lOX0RBWT04NjQwMDsNCiAgICB0cnl7IGdlbmVzaXNUcz1OdW1iZXIoYXdhaXQgeGVuLm1ldGhvZHMuZ2VuZXNpc1RzKCkuY2FsbCgpKXx8Z2VuZXNpc1RzOyB9Y2F0Y2h7fQ0KICAgIHRyeXsgU0VDT05EU19JTl9EQVk9TnVtYmVyKGF3YWl0IHhlbi5tZXRob2RzLlNFQ09ORFNfSU5fREFZKCkuY2FsbCgpKXx8ODY0MDA7IH1jYXRjaHt9DQogICAgZnVuY3Rpb24gYXB5QXQodHMpeyBjb25zdCBTVEFSVD0yMCwgRU5EPTIsIFNURVA9OTAqU0VDT05EU19JTl9EQVk7IGNvbnN0IGRlYz1NYXRoLmZsb29yKE1hdGgubWF4KDAsIHRzLWdlbmVzaXNUcykvU1RFUCk7IGNvbnN0IGFweT1TVEFSVC1kZWM7IHJldHVybiBhcHk8RU5EP0VORDphcHk7IH0NCg0KICAgIGNvbnN0IHRvcGljU3Rha2UgICAgPSB3My51dGlscy5zaGEzKCJTdGFrZWQoYWRkcmVzcyx1aW50MjU2LHVpbnQyNTYpIik7DQogICAgY29uc3QgdG9waWNXaXRoZHJhdyA9IHczLnV0aWxzLnNoYTMoIldpdGhkcmF3bihhZGRyZXNzLHVpbnQyNTYsdWludDI1NikiKTsNCg0KICAgIGNvbnN0IGdldENodW5rU2l6ZT0od2luZG93LmdldENodW5rU2l6ZXx8KCgpPT41MDAwMCkpOyBsZXQgQ0hVTktfU0laRT1OdW1iZXIoZ2V0Q2h1bmtTaXplKCkpfHw1MDAwMDsNCiAgICBpZighTnVtYmVyLmlzRmluaXRlKENIVU5LX1NJWkUpKSBDSFVOS19TSVpFPTUwMDAwOyBDSFVOS19TSVpFPU1hdGgubWF4KDEwMDAwLCBNYXRoLm1pbihDSFVOS19TSVpFLCA1MDAwMDApKTsNCg0KICAgIGNvbnN0IHVwZGF0ZVN0YXR1cz0obSk9PnsgaWYodG9rZW5UeHQpIHRva2VuVHh0LnRleHRDb250ZW50PW07IH07DQogICAgd2luZG93Ll9fc2Nhbkxhc3RBY3Rpdml0eVRzPURhdGUubm93KCk7DQogICAgY29uc3QgaGVhcnRiZWF0PXNldEludGVydmFsKCgpPT57IGNvbnN0IGR0PU1hdGguZmxvb3IoKERhdGUubm93KCktKHdpbmRvdy5fX3NjYW5MYXN0QWN0aXZpdHlUc3x8RGF0ZS5ub3coKSkpLzEwMDApOyBpZihldHJFbCkgZXRyRWwudGV4dENvbnRlbnQ9ZHQ+PTM/YFx1MjNGMyAke2R0fXMgc2luY2UgbGFzdCByZXBseWA6IiI7IH0sMTAwMCk7DQoNCiAgICB0cnl7DQogICAgICBmb3IobGV0IGE9MDsgYTxhZGRycy5sZW5ndGg7IGErKyl7DQogICAgICAgIGNvbnN0IGFkZHI9Y2xlYW5IZXhBZGRyKGFkZHJzW2FdKTsNCiAgICAgICAgdHJ5ew0KICAgICAgICAgIGNvbnN0IGxhdGVzdEJsb2NrPWF3YWl0IHczLmV0aC5nZXRCbG9ja051bWJlcigpOw0KICAgICAgICAgIGlmIChhZGRyTGJsKSBhZGRyTGJsLnRleHRDb250ZW50PWBTY2FubmluZyBhZGRyZXNzICR7YSsxfS8ke2FkZHJzLmxlbmd0aH06ICR7YWRkci5zbGljZSgwLDYpfeKApiR7YWRkci5zbGljZSgtNCl9YDsNCg0KICAgICAgICAgIGlmIChmb3JjZVJlc2NhbikgYXdhaXQgY2xlYXJTY2FuU3RhdGUoZGIsIGFkZHIpOw0KICAgICAgICAgIGNvbnN0IHN0PWF3YWl0IGdldFNjYW5TdGF0ZShkYiwgYWRkcik7DQogICAgICAgICAgY29uc3QgYmFzZVN0YXJ0ID0gc3QgPyAoc3QubGFzdFNjYW5uZWRCbG9jayArIDEpIDogTUlOX0NPTlRSQUNUX0JMT0NLOw0KICAgICAgICAgIGNvbnN0IHJlc3VtZUZyb209IE1hdGgubWF4KE1JTl9DT05UUkFDVF9CTE9DSywgYmFzZVN0YXJ0IC0gU0NBTl9CQUNLVFJBQ0tfQkxPQ0tTKTsNCg0KICAgICAgICAgIGNvbnN0IHRvdGFsQmxvY2tzPU1hdGgubWF4KDAsIGxhdGVzdEJsb2NrIC0gcmVzdW1lRnJvbSArIDEpOw0KICAgICAgICAgIGNvbnN0IHRvdGFsQ2h1bmtzPU1hdGgubWF4KDEsIE1hdGguY2VpbCh0b3RhbEJsb2Nrcy9DSFVOS19TSVpFKSk7DQogICAgICAgICAgY29uc3QgcHJldkJhck1heD10b2tlbkJhcj90b2tlbkJhci5tYXg6MCwgcHJldkJhclZhbD10b2tlbkJhcj90b2tlbkJhci52YWx1ZTowOw0KICAgICAgICAgIGlmICh0b2tlbkJhcikgeyB0b2tlbkJhci5tYXg9dG90YWxDaHVua3M7IHRva2VuQmFyLnZhbHVlPTA7IH0NCiAgICAgICAgICBsZXQgY2h1bmtzRG9uZT0wLCBsYXN0VWlVcGRhdGU9MDsgY29uc3Qgc3RhcnRlZEF0PURhdGUubm93KCk7DQoNCiAgICAgICAgICBsZXQgc3Rha2VzQ2FjaGU9YXdhaXQgZ2V0QnlPd25lcihkYiwgYWRkcik7DQogICAgICAgICAgY29uc3QgcmVmcmVzaFN0YWtlc0NhY2hlPWFzeW5jKCk9Pnsgc3Rha2VzQ2FjaGU9YXdhaXQgZ2V0QnlPd25lcihkYiwgYWRkcik7IH07DQoNCiAgICAgICAgICBmb3IobGV0IHN0YXJ0QmxvY2s9cmVzdW1lRnJvbTsgc3RhcnRCbG9jazw9bGF0ZXN0QmxvY2s7IHN0YXJ0QmxvY2srPUNIVU5LX1NJWkUpew0KICAgICAgICAgICAgY29uc3QgZW5kQmxvY2s9TWF0aC5taW4oc3RhcnRCbG9jaytDSFVOS19TSVpFLTEsIGxhdGVzdEJsb2NrKTsNCiAgICAgICAgICAgIGNvbnN0IHRvcGljMT1wYWRUb3BpY0FkZHJlc3MoYWRkcik7DQogICAgICAgICAgICBjb25zdCBzaW5rU3Rha2U9W10sIHNpbmtXZD1bXTsNCg0KICAgICAgICAgICAgYXdhaXQgZmV0Y2hMb2dzU3BsaXQoYXBpS2V5LCB7ZnJvbUJsb2NrOlN0cmluZyhzdGFydEJsb2NrKSwgdG9CbG9jazpTdHJpbmcoZW5kQmxvY2spLCBhZGRyZXNzOkNPTlRSQUNUX0FERFJFU1MsIHRvcGljMDp0b3BpY1N0YWtlLCB0b3BpYzE6dG9waWMxfSwgc2lua1N0YWtlKTsNCiAgICAgICAgICAgIGF3YWl0IGZldGNoTG9nc1NwbGl0KGFwaUtleSwge2Zyb21CbG9jazpTdHJpbmcoc3RhcnRCbG9jayksIHRvQmxvY2s6U3RyaW5nKGVuZEJsb2NrKSwgYWRkcmVzczpDT05UUkFDVF9BRERSRVNTLCB0b3BpYzA6dG9waWNXaXRoZHJhdywgdG9waWMxOnRvcGljMX0sIHNpbmtXZCk7DQoNCiAgICAgICAgICAgIGNvbnN0IGl0ZW1zPVtdOyBmb3IoY29uc3QgZXYgb2Ygc2lua1N0YWtlKSBpdGVtcy5wdXNoKHtraW5kOiJzdGFrZSIsIGV2fSk7IGZvcihjb25zdCBldiBvZiBzaW5rV2QpIGl0ZW1zLnB1c2goe2tpbmQ6IndpdGhkcmF3IiwgZXZ9KTsNCiAgICAgICAgICAgIGl0ZW1zLnNvcnQoKGEsYik9PnsgY29uc3QgYmE9TnVtYmVyKEJpZ0ludChhLmV2LmJsb2NrTnVtYmVyKSksIGJiPU51bWJlcihCaWdJbnQoYi5ldi5ibG9ja051bWJlcikpOyBpZihiYSE9PWJiKSByZXR1cm4gYmEtYmI7IGNvbnN0IGxhPU51bWJlcihCaWdJbnQoYS5ldi5sb2dJbmRleHx8IjB4MCIpKSwgbGI9TnVtYmVyKEJpZ0ludChiLmV2LmxvZ0luZGV4fHwiMHgwIikpOyByZXR1cm4gbGEtbGI7IH0pOw0KDQogICAgICAgICAgICBpZihpdGVtcy5sZW5ndGgpew0KICAgICAgICAgICAgICB1cGRhdGVTdGF0dXMoYFByb2Nlc3NpbmcgJHtpdGVtcy5sZW5ndGh9IHN0YWtlIGxvZ3PigKZgKTsNCiAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXsNCiAgICAgICAgICAgICAgICBjb25zdCBpdD1pdGVtc1tpXSwgZXY9aXQuZXY7DQogICAgICAgICAgICAgICAgY29uc3QgaGFzaD1ldi50cmFuc2FjdGlvbkhhc2g7DQogICAgICAgICAgICAgICAgY29uc3QgYm51bT1OdW1iZXIoQmlnSW50KGV2LmJsb2NrTnVtYmVyKSk7DQogICAgICAgICAgICAgICAgY29uc3QgdHNIZXg9ZXYudGltZVN0YW1wOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRzU2VjPSB0c0hleCA/IE51bWJlcihCaWdJbnQodHNIZXgpKSA6IChhd2FpdCAoYXN5bmMoKT0+eyB0cnl7IGNvbnN0IGI9YXdhaXQgdzMuZXRoLmdldEJsb2NrKGJudW0pOyByZXR1cm4gTnVtYmVyKGI/LnRpbWVzdGFtcHx8MCk7fWNhdGNoe3JldHVybiAwO30gfSkoKSk7DQoNCiAgICAgICAgICAgICAgICBpZiAoaXQua2luZD09PSJzdGFrZSIpew0KICAgICAgICAgICAgICAgICAgbGV0IGFtb3VudFdlaT0wbiwgdGVybURheXM9MDsNCiAgICAgICAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YUhleCA9IGV2LmRhdGEgfHwgIjB4IjsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVjb2RlZCA9IHczLmV0aC5hYmkuZGVjb2RlUGFyYW1ldGVycyhbInVpbnQyNTYiLCJ1aW50MjU2Il0sIGRhdGFIZXgpOw0KICAgICAgICAgICAgICAgICAgICBhbW91bnRXZWkgPSBCaWdJbnQoZGVjb2RlZFswXS50b1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICAgICAgdGVybURheXMgID0gTnVtYmVyKGRlY29kZWRbMV0pIHx8IDA7DQogICAgICAgICAgICAgICAgICB9IGNhdGNoe30NCg0KICAgICAgICAgICAgICAgICAgLy8g4pyFIEZJWDogRGVmaW5lIGEgdW5pcXVlICdpZCcgZm9yIHRoZSBzdGFrZSByZWNvcmQuDQogICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGAke2FkZHJ9LSR7aGFzaH1gOw0KDQogICAgICAgICAgICAgICAgICBjb25zdCBUT0sgPSAxMG4gKiogMThuOw0KICAgICAgICAgICAgICAgICAgY29uc3QgYW1vdW50VG9rZW5zID0gKGFtb3VudFdlaSA+PSAwbikgPyAoYW1vdW50V2VpIC8gVE9LKSA6IDBuOw0KICAgICAgICAgICAgICAgICAgY29uc3QgbWF0dXJpdHlUcyA9IHRzU2VjICsgdGVybURheXMgKiA4NjQwMDsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IGFweSA9IGFweUF0KHRzU2VjKTsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IF9zdGF0dXMgPSBtYXR1cml0eVRzIDw9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApID8gIkNsYWltYWJsZSIgOiAiTWF0dXJpbmciOw0KDQogICAgICAgICAgICAgICAgICBjb25zdCByb3cgPSB7DQogICAgICAgICAgICAgICAgICAgIGlkLCAvLyBOb3cgZGVmaW5lZA0KICAgICAgICAgICAgICAgICAgICBvd25lcjogYWRkciwNCiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnRUb2tlbnMudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAgICAgYW1vdW50V2VpOiBhbW91bnRXZWkudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAgICAgdGVybTogdGVybURheXMsDQogICAgICAgICAgICAgICAgICAgIGFweSwNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUczogdHNTZWMsIC8vIOKchSBGSVg6IFVzZSB0c1NlYw0KICAgICAgICAgICAgICAgICAgICBtYXR1cml0eVRzLA0KICAgICAgICAgICAgICAgICAgICBNYXR1cml0eV9EYXRlX0ZtdDogZm10TG9jYWxEYXRlVGltZShtYXR1cml0eVRzKSwNCiAgICAgICAgICAgICAgICAgICAgbWF0dXJpdHlEYXRlT25seTogZGF5S2V5TG9jYWwobWF0dXJpdHlUcyksDQogICAgICAgICAgICAgICAgICAgIFNvdXJjZVR5cGU6ICJTdGFrZSIsDQogICAgICAgICAgICAgICAgICAgIHN0YXR1czogX3N0YXR1cywNCiAgICAgICAgICAgICAgICAgICAgU3RhdHVzOiBfc3RhdHVzLA0KICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyB0eXBlOiAic3Rha2UiLCBoYXNoLCB0aW1lU3RhbXA6IHRzU2VjIH1dLCAvLyDinIUgRklYOiBVc2UgdHNTZWMNCiAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVSb3coZGIsIHJvdyk7DQogICAgICAgICAgICAgICAgICBzdGFrZXNDYWNoZS5wdXNoKHJvdyk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdE9wZW4gPSBzdGFrZXNDYWNoZS5zbGljZSgpLnNvcnQoKGEsYik9PihiLnN0YXJ0VHN8fDApLShhLnN0YXJ0VHN8fDApKQ0KICAgICAgICAgICAgICAgICAgICAuZmluZChyID0+ICEoQXJyYXkuaXNBcnJheShyLmFjdGlvbnMpJiZyLmFjdGlvbnMuc29tZSh4PT54LnR5cGU9PT0id2l0aGRyYXciKSkpOw0KICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdE9wZW4pew0KICAgICAgICAgICAgICAgICAgICAvLyDinIUgRklYOiBVc2UgdGhlIGNvcnJlY3QgJ3RzU2VjJyB2YXJpYWJsZS4NCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2l0aGRyYXdUcyA9IHRzU2VjOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXR1cmVkID0gKE51bWJlcihsYXRlc3RPcGVuLm1hdHVyaXR5VHMpIHx8IDApIDw9IHdpdGhkcmF3VHM7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IG1hdHVyZWQgPyAiQ2xhaW1lZCIgOiAiRW5kZWQgRWFybHkiOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBib3RoIGtleXMgc28gYWxsIFVJIHBhdGhzIHNlZSBpdA0KICAgICAgICAgICAgICAgICAgICBsYXRlc3RPcGVuLnN0YXR1cyA9IG5ld1N0YXR1czsgICAvLyBvcmlnaW5hbA0KICAgICAgICAgICAgICAgICAgICBsYXRlc3RPcGVuLlN0YXR1cyA9IG5ld1N0YXR1czsgICAvLyBUaXRsZUNhc2UgbWlycm9yDQoNCiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T3Blbi5hY3Rpb25zID0gQXJyYXkuaXNBcnJheShsYXRlc3RPcGVuLmFjdGlvbnMpDQogICAgICAgICAgICAgICAgICAgICAgPyBsYXRlc3RPcGVuLmFjdGlvbnMNCiAgICAgICAgICAgICAgICAgICAgICA6IFtdOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIWxhdGVzdE9wZW4uYWN0aW9ucy5zb21lKChhKSA9PiBhLmhhc2ggPT09IGhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T3Blbi5hY3Rpb25zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIndpdGhkcmF3IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2gsDQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lU3RhbXA6IHdpdGhkcmF3VHMsDQogICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2F2ZVJvdyhkYiwgbGF0ZXN0T3Blbik7DQogICAgICAgICAgICAgICAgICAgIGlmIChpJTEwPT09MCkgYXdhaXQgcmVmcmVzaFN0YWtlc0NhY2hlKCk7DQogICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBhd2FpdCByZWZyZXNoU3Rha2VzQ2FjaGUoKTsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGlmICh0b2tlblR4dCkgdG9rZW5UeHQudGV4dENvbnRlbnQ9YE5vIFhFTiBzdGFrZSBhY3Rpdml0eSAke3N0YXJ0QmxvY2t94oCTJHtlbmRCbG9ja31gOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBhd2FpdCBwdXRTY2FuU3RhdGUoZGIsIGFkZHIsIGVuZEJsb2NrKTsNCiAgICAgICAgICAgIGNodW5rc0RvbmUrKzsgd2luZG93Ll9fc2Nhbkxhc3RBY3Rpdml0eVRzPURhdGUubm93KCk7DQogICAgICAgICAgICBpZiAodG9rZW5CYXIpIHsgdG9rZW5CYXIubWF4PXRvdGFsQ2h1bmtzOyB0b2tlbkJhci52YWx1ZT1jaHVua3NEb25lOyB9DQogICAgICAgICAgICBjb25zdCBub3c9RGF0ZS5ub3coKTsNCiAgICAgICAgICAgIGlmIChub3ctbGFzdFVpVXBkYXRlPjMwMCl7DQogICAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQ9KG5vdy1zdGFydGVkQXQpLzEwMDAsIHJhdGU9Y2h1bmtzRG9uZS9NYXRoLm1heCgxLGVsYXBzZWQpOw0KICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdDaHVua3M9TWF0aC5tYXgoMCx0b3RhbENodW5rcy1jaHVua3NEb25lKTsNCiAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nU2VjPSByYXRlPjAgPyByZW1haW5pbmdDaHVua3MvcmF0ZSA6IDA7DQogICAgICAgICAgICAgIGlmIChldHJFbCkgZXRyRWwudGV4dENvbnRlbnQgPSBpc0Zpbml0ZShyZW1haW5pbmdTZWMpP2BFVEE6ICR7TWF0aC5yb3VuZChyZW1haW5pbmdTZWMpfXNgOiIiOw0KICAgICAgICAgICAgICBsYXN0VWlVcGRhdGU9bm93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGlmICh0b2tlbkJhcikgeyB0b2tlbkJhci5tYXg9cHJldkJhck1heDsgdG9rZW5CYXIudmFsdWU9cHJldkJhclZhbDsgfQ0KICAgICAgICB9IGNhdGNoKGVycil7DQogICAgICAgICAgY29uc29sZS5lcnJvcigiW1hlblN0YWtlXSBTY2FuIGZhaWxlZCBmb3IiLCBhZGRyLCBlcnIpOw0KICAgICAgICAgIGlmICh0b2tlblR4dCkgdG9rZW5UeHQudGV4dENvbnRlbnQ9YEVycm9yIHNjYW5uaW5nICR7YWRkci5zbGljZSgwLDYpfeKApmA7DQogICAgICAgICAgcm90YXRlUnBjKHczKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0gZmluYWxseSB7IGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0KTsgfQ0KDQogICAgY29uc3QgdG9rZW5UeHQyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2tlblByb2dyZXNzVGV4dCIpOw0KICAgIGlmICh0b2tlblR4dDIpIHRva2VuVHh0Mi50ZXh0Q29udGVudD0iU3Rha2Ugc2NhbiBjb21wbGV0ZS4iOw0KICAgIHNldFRpbWVvdXQoKCk9PnsgaWYoIXdpbmRvdy5fX3NjYW5BbGxBY3RpdmUpeyBpZih3aW5kb3cucHJvZ3Jlc3NVSSkgd2luZG93LnByb2dyZXNzVUkuc2hvdyhmYWxzZSk7IGVsc2UgeyBjb25zdCBwcm9nPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9ncmVzc0NvbnRhaW5lciIpOyBpZiAocHJvZykgcHJvZy5zdHlsZS5kaXNwbGF5PSJub25lIjsgfSB9IH0sMTIwMCk7DQogIH0NCg0KLy8gSGVscGVyIHRvIGdldCBBTEwgcmVjb3JkcyBmcm9tIGEgc3RvcmUsIG5vdCBqdXN0IGJ5IG93bmVyIGluZGV4DQogIGZ1bmN0aW9uIGdldEFsbEZyb21TdG9yZShkYiwgc3RvcmVOYW1lKSB7DQogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAicmVhZG9ubHkiKTsNCiAgICAgICAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShzdG9yZU5hbWUpOw0KICAgICAgICBjb25zdCByZXEgPSBzdG9yZS5nZXRBbGwoKTsNCiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGUgPT4gcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQgfHwgW10pOw0KICAgICAgICByZXEub25lcnJvciA9IGUgPT4gcmVqZWN0KGUudGFyZ2V0LmVycm9yKTsNCiAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgcmVqZWN0KGUpOw0KICAgICAgfQ0KICAgIH0pOw0KICB9DQoNCiAgLy8g4pyFIEZJWDogVGhlIGdldEFsbCBmdW5jdGlvbiBub3cgY29ycmVjdGx5IGZldGNoZXMgYW5kIHJldHVybnMgYWxsIHJlY29yZHMuDQogIHdpbmRvdy54ZW5TdGFrZSA9IHsNCiAgICBDT05UUkFDVF9BRERSRVNTLA0KICAgIG9wZW5EQiwNCiAgICBnZXRBbGw6IChkYikgPT4gZ2V0QWxsRnJvbVN0b3JlKGRiLCBTVE9SRSksIC8vIFVzZSB0aGUgbmV3IGhlbHBlciB0byBnZXQgZXZlcnl0aGluZw0KICAgIHNjYW4NCiAgfTsNCn0pKCk7DQo=',
        'js/xenft-stake.js': 'Ly8gPT09IFN0YWtlIFhFTkZUcyBtb2R1bGUgKEV0aGVyc2Nhbi1PcHRpbWl6ZWQgd2l0aCBJbmNyZW1lbnRhbCBTY2FubmluZykgPT09PT09PT09PT09PT09PT09PT09PT09PT09DQovLyBTY2FucyB0aGUgU3Rha2UgWEVORlQgY29udHJhY3QgYW5kIHN0b3JlcyByb3dzIGluIEluZGV4ZWREQiAiREItWGVuZnQtU3Rha2UiLg0KLy8gRXhwb3NlcyB3aW5kb3cueGVuZnRTdGFrZSA9IHsgQ09OVFJBQ1RfQUREUkVTUywgb3BlbkRCLCBnZXRBbGwsIHNjYW4gfS4NCi8vDQovLyBLZXkgYmVoYXZpb3IgcGVyIHVzZXIgcmVxdWVzdDoNCi8vICAg4oCiIFVzZXMgaW5jcmVtZW50YWwgc2Nhbm5pbmcgKHJlc3VtZSBmcm9tIGxhc3QgYmxvY2spIGZvciBzcGVlZC4NCi8vICAg4oCiIFRyYWNrcyB0cmFuc2ZlcnMgYmV0d2VlbiBhZGRyZXNzZXMgdG8gdXBkYXRlIG93bmVyc2hpcCBjb3JyZWN0bHkuDQovLyAgIOKAoiBJZ25vcmUgdG9rZW5VUkkubWF0dXJpdHkgZm9yIFN0YWtlIFhFTkZUcy4NCi8vICAg4oCiIERlcml2ZSBtYXR1cml0eSBzdHJpY3RseSBhczogbWF0dXJpdHlUcyA9IGZpcnN0X21pbnRfdHgudGltZXN0YW1wICsgdGVybV9kYXlzICogODY0MDANCi8vICAg4oCiIElmIGEgdG9rZW4gaXMgZW5kZWQvY2xhaW1lZCwgYXBwZW5kIGFuIGFjdGlvbiBhbmQgc2V0IHN0YXR1cyAiQ2xhaW1lZCIsIGJ1dCBETyBOT1QgY2xvYmJlcg0KLy8gICAgIG9yaWdpbmFsIEFQWS90ZXJtL21hdHVyaXR5IChwcmVzZXJ2ZSBlYXJsaWVyIG5vbi16ZXJvIHZhbHVlcykuDQovLyAgIOKAoiBBY3Rpb25zIGluY2x1ZGUgZW5kU3Rha2Ugd2l0aCB0eEhhc2gvdGltZVN0YW1wIHdoZW4gYXZhaWxhYmxlLg0KDQooZnVuY3Rpb24oKXsNCiAgY29uc3QgQ09OVFJBQ1RfQUREUkVTUyA9ICIweGZFZEEwM2I5MTUxNEQzMWI0MzVkNEUxNTE5RmQ5ZTY5OUMyOUJiRkMiOw0KICBjb25zdCBDT05UUkFDVF9DUkVBVElPTl9CTE9DSyA9IDE2MzM5OTAwOyAvLyBPcHRpbWl6YXRpb246IGRvbid0IHNjYW4gYmVmb3JlIHRoaXMNCiAgY29uc3QgWkVST19BRERSID0gIjB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCI7DQoNCiAgY29uc3QgREVGQVVMVF9SUEMgPSBgaHR0cHM6Ly9ldGhlcmV1bS1ycGMucHVibGljbm9kZS5jb21gOw0KDQogIC8vIEFCSSBtb3ZlZCB0byAuL0FCSS94ZW5mdC1zdGFrZS1BQkkuanMgYXMgd2luZG93LnhlbmZ0U3Rha2VBYmkKDQogIC8vIC0tLSBzbWFsbCB1dGlscyAtLS0NCiAgZnVuY3Rpb24gY2xlYW5IZXhBZGRyKGEpeyByZXR1cm4gU3RyaW5nKGF8fCcnKS50cmltKCkudG9Mb3dlckNhc2UoKTsgfQ0KDQogIGZ1bmN0aW9uIGdldEFkZHJlc3Nlc0Zyb21TZXR0aW5ncygpew0KICAgIGNvbnN0IHRleHQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aEFkZHJlc3MiKT8udmFsdWUgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImV0aEFkZHJlc3MiKSB8fCAiIikudHJpbSgpOw0KICAgIHJldHVybiB0ZXh0LnNwbGl0KC9ccj9cbi8pLm1hcChzPT5zLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pOw0KICB9DQoNCiAgZnVuY3Rpb24gZ2V0UnBjTGlzdCgpew0KICAgIGNvbnN0IHRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImN1c3RvbVJQQyIpOw0KICAgIGNvbnN0IHJhdyA9ICh0YSAmJiB0YS52YWx1ZS50cmltKCkpIHx8IChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VzdG9tUlBDIikgfHwgREVGQVVMVF9SUEMpOw0KICAgIHJldHVybiBTdHJpbmcocmF3KS5zcGxpdCgvXHMrfFxuKy8pLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7DQogIH0NCg0KICBmdW5jdGlvbiBuZXdXZWIzKCl7DQogICAgY29uc3QgcnBjTGlzdCA9IGdldFJwY0xpc3QoKTsNCiAgICBjb25zdCBwcm92aWRlciA9IG5ldyB3aW5kb3cuV2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKHJwY0xpc3RbMF0pOw0KICAgIGNvbnN0IHczID0gbmV3IHdpbmRvdy5XZWIzKHByb3ZpZGVyKTsNCiAgICB3My5fX3JwY0xpc3QgPSBycGNMaXN0Ow0KICAgIHczLl9fcnBjSW5kZXggPSAwOw0KICAgIHJldHVybiB3MzsNCiAgfQ0KICBmdW5jdGlvbiByb3RhdGVScGModzMpew0KICAgIGlmICghdzMuX19ycGNMaXN0IHx8ICF3My5fX3JwY0xpc3QubGVuZ3RoKSByZXR1cm47DQogICAgdzMuX19ycGNJbmRleCA9ICh3My5fX3JwY0luZGV4ICsgMSkgJSB3My5fX3JwY0xpc3QubGVuZ3RoOw0KICAgIGNvbnN0IG5leHQgPSB3My5fX3JwY0xpc3RbdzMuX19ycGNJbmRleF07DQogICAgdHJ5IHsgdzMuc2V0UHJvdmlkZXIobmV3IHdpbmRvdy5XZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIobmV4dCkpOyB9IGNhdGNoIHt9DQogICAgdHJ5IHsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJwY1N0YXR1cyIpICYmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicnBjU3RhdHVzIikudGV4dENvbnRlbnQgPSBgdmlhICR7bmV4dH1gKTsgfSBjYXRjaCB7fQ0KICB9DQoNCiAgYXN5bmMgZnVuY3Rpb24gd2l0aFJldHJ5KHczLCBsYWJlbCwgZm4pew0KICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KDYsICh3My5fX3JwY0xpc3Q/Lmxlbmd0aCB8fCA0KSAqIDIpOw0KICAgIGxldCBsYXN0RXJyOw0KICAgIGZvciAobGV0IGk9MDtpPG1heDtpKyspew0KICAgICAgdHJ5IHsNCiAgICAgICAgcmV0dXJuIGF3YWl0IGZuKCk7DQogICAgICB9IGNhdGNoKGUpIHsNCiAgICAgICAgbGFzdEVyciA9IGU7DQogICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHI9PnNldFRpbWVvdXQociwgMjAwKSk7DQogICAgICAgIHJvdGF0ZVJwYyh3Myk7DQogICAgICB9DQogICAgfQ0KICAgIHRocm93IG5ldyBFcnJvcihsYWJlbCArICIgZmFpbGVkIGFjcm9zcyBSUENzOiAiICsgKGxhc3RFcnI/Lm1lc3NhZ2UgfHwgbGFzdEVycikpOw0KICB9DQoNCiAgZnVuY3Rpb24gZmluZEF0dHIoYXR0cnMsIG5hbWVMaWtlKXsNCiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXR0cnMpKSByZXR1cm4gbnVsbDsNCiAgICBjb25zdCBrZXkgPSBTdHJpbmcobmFtZUxpa2UpLnRvTG93ZXJDYXNlKCk7DQogICAgY29uc3QgaGl0ID0gYXR0cnMuZmluZChhID0+IFN0cmluZyhhPy50cmFpdF90eXBlfHwnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhrZXkpKTsNCiAgICByZXR1cm4gaGl0IHx8IG51bGw7DQogIH0NCg0KICBmdW5jdGlvbiBwYXJzZU51bUxvb3NlKHYpew0KICAgIGlmICh2ID09IG51bGwgfHwgdHlwZW9mIHYgPT09ICdvYmplY3QnKSByZXR1cm4gTmFOOw0KICAgIGNvbnN0IHMgPSBTdHJpbmcodikucmVwbGFjZSgvWyxfXS9nLCAnJykucmVwbGFjZSgvW15cZC5cLV0vZywgJycpOw0KICAgIHJldHVybiBwYXJzZUZsb2F0KHMpOw0KICB9DQoNCiAgZnVuY3Rpb24gZXh0cmFjdEpzb25Gcm9tRGF0YVVyaSh1cmkpew0KICAgIHRyeXsNCiAgICAgIGlmICh0eXBlb2YgdXJpICE9PSAnc3RyaW5nJykgcmV0dXJuIHt9Ow0KICAgICAgaWYgKHVyaS5zdGFydHNXaXRoKCdkYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCcpKSB7DQogICAgICAgIGNvbnN0IGI2NCA9IHVyaS5zcGxpdCgnYmFzZTY0LCcpWzFdIHx8ICcnOw0KICAgICAgICBjb25zdCBqc29uID0gYXRvYihiNjQpOw0KICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTsNCiAgICAgIH0NCiAgICAgIGlmICh1cmkuc3RhcnRzV2l0aCgnZGF0YTphcHBsaWNhdGlvbi9qc29uLCcpKSB7DQogICAgICAgIGNvbnN0IHJhdyA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmkuc3BsaXQoJ2RhdGE6YXBwbGljYXRpb24vanNvbiwnKVsxXSB8fCAne30nKTsNCiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmF3KTsNCiAgICAgIH0NCiAgICAgIGlmICh1cmkudHJpbSgpLnN0YXJ0c1dpdGgoJ3snKSkgcmV0dXJuIEpTT04ucGFyc2UodXJpKTsNCiAgICB9Y2F0Y2goZSl7fQ0KICAgIHJldHVybiB7fTsNCiAgfQ0KDQogIC8vIC0tLSBJbmRleGVkREIgLS0tDQogIGNvbnN0IERCX05BTUUgPSAiREItWGVuZnQtU3Rha2UiOw0KICBjb25zdCBEQl9WRVJTSU9OID0gMjsgLy8gQnVtcCB2ZXJzaW9uIGZvciBzY2hlbWEgY2hhbmdlDQogIGNvbnN0IFNUT1JFX1NUQUtFUyA9ICJzdGFrZXMiOw0KICBjb25zdCBTVE9SRV9TVEFURSA9ICJzY2FuU3RhdGUiOw0KDQogIGZ1bmN0aW9uIG9wZW5EQigpew0KICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICBjb25zdCByZXEgPSBpbmRleGVkREIub3BlbihEQl9OQU1FLCBEQl9WRVJTSU9OKTsNCiAgICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBlID0+IHsNCiAgICAgICAgY29uc3QgZGIgPSBlLnRhcmdldC5yZXN1bHQ7DQogICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhTVE9SRV9TVEFLRVMpKSB7DQogICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkVfU1RBS0VTLCB7IGtleVBhdGg6ICJ0b2tlbklkIiB9KTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoU1RPUkVfU1RBVEUpKSB7DQogICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkVfU1RBVEUsIHsga2V5UGF0aDogImFkZHJlc3MiIH0pOw0KICAgICAgICB9DQogICAgICB9Ow0KICAgICAgcmVxLm9uc3VjY2VzcyA9IGUgPT4gcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQpOw0KICAgICAgcmVxLm9uZXJyb3IgICA9IGUgPT4gcmVqZWN0KGUudGFyZ2V0LmVycm9yKTsNCiAgICB9KTsNCiAgfQ0KICBmdW5jdGlvbiBzYXZlKGRiLCByb3cpew0KICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX1NUQUtFUywgInJlYWR3cml0ZSIpOw0KICAgICAgdHgub2JqZWN0U3RvcmUoU1RPUkVfU1RBS0VTKS5wdXQocm93KS5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKCk7DQogICAgICB0eC5vbmVycm9yID0gZSA9PiByZWplY3QoZSk7DQogICAgfSk7DQogIH0NCiAgZnVuY3Rpb24gZ2V0QWxsKGRiKXsNCiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9TVEFLRVMsICJyZWFkb25seSIpOw0KICAgICAgdHgub2JqZWN0U3RvcmUoU1RPUkVfU1RBS0VTKS5nZXRBbGwoKS5vbnN1Y2Nlc3MgPSBlID0+IHJlc29sdmUoZS50YXJnZXQucmVzdWx0IHx8IFtdKTsNCiAgICAgIHR4Lm9uZXJyb3IgPSBlID0+IHJlamVjdChlKTsNCiAgICB9KTsNCiAgfQ0KICBmdW5jdGlvbiBnZXRCeVRva2VuSWQoZGIsIHRva2VuSWQpew0KICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7DQogICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX1NUQUtFUywgInJlYWRvbmx5Iik7DQogICAgICB0eC5vYmplY3RTdG9yZShTVE9SRV9TVEFLRVMpLmdldChTdHJpbmcodG9rZW5JZCkpLm9uc3VjY2VzcyA9IGUgPT4gcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQgfHwgbnVsbCk7DQogICAgICB0eC5vbmVycm9yID0gZSA9PiByZWplY3QoZSk7DQogICAgfSk7DQogIH0NCg0KICAvLyAtLS0gREIgU2NhbiBTdGF0ZSBIZWxwZXJzIC0tLQ0KICBhc3luYyBmdW5jdGlvbiBnZXRTY2FuU3RhdGUoZGIsIGFkZHJlc3MpIHsNCiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9TVEFURSwgInJlYWRvbmx5Iik7DQogICAgICAgIGNvbnN0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoU1RPUkVfU1RBVEUpOw0KICAgICAgICBjb25zdCByZXEgPSBzdG9yZS5nZXQoY2xlYW5IZXhBZGRyKGFkZHJlc3MpKTsNCiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGUgPT4gcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQgfHwgbnVsbCk7DQogICAgICAgIHJlcS5vbmVycm9yID0gZSA9PiByZWplY3QoZS50YXJnZXQuZXJyb3IpOw0KICAgICAgfSBjYXRjaCAoZSkgeyByZXNvbHZlKG51bGwpOyB9DQogICAgfSk7DQogIH0NCiAgYXN5bmMgZnVuY3Rpb24gcHV0U2NhblN0YXRlKGRiLCBhZGRyZXNzLCBsYXN0U2Nhbm5lZEJsb2NrKSB7DQogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfU1RBVEUsICJyZWFkd3JpdGUiKTsNCiAgICAgIHR4Lm9iamVjdFN0b3JlKFNUT1JFX1NUQVRFKS5wdXQoew0KICAgICAgICBhZGRyZXNzOiBjbGVhbkhleEFkZHIoYWRkcmVzcyksDQogICAgICAgIGxhc3RTY2FubmVkQmxvY2s6IE51bWJlcihsYXN0U2Nhbm5lZEJsb2NrKSB8fCAwLA0KICAgICAgICB1cGRhdGVkQXQ6IERhdGUubm93KCkNCiAgICAgIH0pLm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTsNCiAgICAgIHR4Lm9uZXJyb3IgPSBlID0+IHJlamVjdChlLnRhcmdldC5lcnJvcik7DQogICAgfSk7DQogIH0NCiAgYXN5bmMgZnVuY3Rpb24gY2xlYXJTY2FuU3RhdGUoZGIsIGFkZHJlc3MpIHsNCiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9TVEFURSwgInJlYWR3cml0ZSIpOw0KICAgICAgdHgub2JqZWN0U3RvcmUoU1RPUkVfU1RBVEUpLmRlbGV0ZShjbGVhbkhleEFkZHIoYWRkcmVzcykpLm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTsNCiAgICAgIHR4Lm9uZXJyb3IgPSBlID0+IHJlamVjdChlLnRhcmdldC5lcnJvcik7DQogICAgfSk7DQogIH0NCg0KDQogIC8vIC0tLSBFdGhlcnNjYW4gaGVscGVyOiBGZXRjaCBORlQgdHJhbnNmZXJzIGluIGEgc3BlY2lmaWMgYmxvY2sgcmFuZ2UgLS0tDQogIGFzeW5jIGZ1bmN0aW9uIGZldGNoU3Rha2VUeHNJblJhbmdlKHVzZXJBZGRyZXNzLCBhcGlLZXksIHN0YXJ0QmxvY2ssIGVuZEJsb2NrKSB7DQogICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLmV0aGVyc2Nhbi5pby9hcGk/bW9kdWxlPWFjY291bnQmYWN0aW9uPXRva2VubmZ0dHgmY29udHJhY3RhZGRyZXNzPSR7Q09OVFJBQ1RfQUREUkVTU30mYWRkcmVzcz0ke3VzZXJBZGRyZXNzfSZzdGFydGJsb2NrPSR7c3RhcnRCbG9ja30mZW5kYmxvY2s9JHtlbmRCbG9ja30mcGFnZT0xJm9mZnNldD0xMDAwMCZzb3J0PWFzYyZhcGlrZXk9JHthcGlLZXl9YDsNCg0KICAgIGNvbnN0IE1BWF9BVFRFTVBUUyA9IDM7DQogICAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gTUFYX0FUVEVNUFRTOyBhdHRlbXB0KyspIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCk7DQogICAgICAgIGlmICghcmVzLm9rKSB7DQogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFdGhlcnNjYW4gQVBJIHJldHVybmVkIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7DQoNCiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAiMSIgJiYgQXJyYXkuaXNBcnJheShkYXRhLnJlc3VsdCkpIHsNCiAgICAgICAgICByZXR1cm4gZGF0YS5yZXN1bHQ7IC8vIFNVQ0NFU1M6IEdvdCB0cmFuc2FjdGlvbnMNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gIjAiICYmIGRhdGEubWVzc2FnZSAmJiBkYXRhLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbm8gdHJhbnNhY3Rpb25zIGZvdW5kJykpIHsNCiAgICAgICAgICByZXR1cm4gW107IC8vIFNVQ0NFU1M6IE5vIHRyYW5zYWN0aW9ucyBpbiB0aGlzIHJhbmdlIGlzIGEgdmFsaWQgcmVzcG9uc2UNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gIjAiICYmIGRhdGEucmVzdWx0ICYmIHR5cGVvZiBkYXRhLnJlc3VsdCA9PT0gJ3N0cmluZycgJiYgZGF0YS5yZXN1bHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncmF0ZSBsaW1pdCcpKSB7DQogICAgICAgICAgaWYgKGF0dGVtcHQgPCBNQVhfQVRURU1QVFMpIHsNCiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCA3NTAgKiBhdHRlbXB0KSk7DQogICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV0aGVyc2NhbiBBUEkgRXJyb3I6ICR7ZGF0YS5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ30gLSAke2RhdGEucmVzdWx0fWApOw0KDQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKGBbU3Rha2VYRU5GVF0gQXR0ZW1wdCAke2F0dGVtcHR9LyR7TUFYX0FUVEVNUFRTfSB0byBmZXRjaCB0eHMgZmFpbGVkOmAsIGVycm9yLm1lc3NhZ2UpOw0KICAgICAgICBpZiAoYXR0ZW1wdCA+PSBNQVhfQVRURU1QVFMpIHsNCiAgICAgICAgICB0aHJvdyBlcnJvcjsNCiAgICAgICAgfQ0KICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgNTAwICogYXR0ZW1wdCkpOw0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gW107DQogIH0NCg0KDQogIC8vIC0tLSBNYWluIFNjYW4gRnVuY3Rpb24gLS0tDQogIGFzeW5jIGZ1bmN0aW9uIHNjYW4oKXsNCiAgICBjb25zdCBhZGRyZXNzZXMgPSBnZXRBZGRyZXNzZXNGcm9tU2V0dGluZ3MoKTsNCiAgICBjb25zdCBldGhlcnNjYW5BcGlLZXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXRoZXJzY2FuQXBpS2V5Iik/LnZhbHVlLnRyaW0oKTsNCiAgICBjb25zdCBmb3JjZVJlc2NhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JjZVJlc2NhbicpPy5jaGVja2VkOw0KDQogICAgaWYgKCFhZGRyZXNzZXMubGVuZ3RoKSB7DQogICAgICBhbGVydCgiQWRkIGF0IGxlYXN0IG9uZSBhZGRyZXNzIGluIFNldHRpbmdzIHRvIHNjYW4gU3Rha2UgWEVORlRzLiIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZiAoIWV0aGVyc2NhbkFwaUtleSkgew0KICAgICAgYWxlcnQoIkFuIEV0aGVyc2NhbiBBUEkgS2V5IGlzIHJlcXVpcmVkIGZvciB0aGlzIGZhc3Qgc2NhbiBtZXRob2QuIFBsZWFzZSBhZGQgb25lIGluIFNldHRpbmdzLiIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGNvbnN0IHczID0gbmV3V2ViMygpOw0KICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7DQogICAgY29uc3QgYyAgPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5mdFN0YWtlQWJpLCBDT05UUkFDVF9BRERSRVNTKTsNCg0KICAgIGNvbnN0IGFkZHJMYmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkcmVzc1Byb2dyZXNzVGV4dCIpOw0KICAgIGNvbnN0IHRva2VuQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRva2VuUHJvZ3Jlc3NCYXIiKTsNCiAgICBjb25zdCB0b2tlblR4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2tlblByb2dyZXNzVGV4dCIpOw0KICAgIGlmICh3aW5kb3cucHJvZ3Jlc3NVSSkgeyB3aW5kb3cucHJvZ3Jlc3NVSS5zaG93KHRydWUpOyB3aW5kb3cucHJvZ3Jlc3NVSS5zZXRUeXBlKCdTdGFrZSBYRU5GVHMnKTsgfQ0KDQogICAgZm9yIChsZXQgYUluZGV4ID0gMDsgYUluZGV4IDwgYWRkcmVzc2VzLmxlbmd0aDsgYUluZGV4Kyspew0KICAgICAgY29uc3QgYWRkciA9IGNsZWFuSGV4QWRkcihhZGRyZXNzZXNbYUluZGV4XSk7DQogICAgICB0cnkgew0KICAgICAgICAvLyBGZXRjaCBsYXRlc3QgYmxvY2sgZm9yIGVhY2ggYWRkcmVzcyB0byBlbnN1cmUgZnJlc2huZXNzDQogICAgICAgIGNvbnN0IGxhdGVzdEJsb2NrID0gYXdhaXQgd2l0aFJldHJ5KHczLCBgZ2V0QmxvY2tOdW1iZXIgZm9yICR7YWRkci5zbGljZSgwLDYpfWAsICgpID0+IHczLmV0aC5nZXRCbG9ja051bWJlcigpKTsNCg0KICAgICAgICBpZiAoYWRkckxibCkgYWRkckxibC50ZXh0Q29udGVudCA9IGBTY2FubmluZyBhZGRyZXNzICR7YUluZGV4KzF9IG9mICR7YWRkcmVzc2VzLmxlbmd0aH06ICR7d2luZG93LnByb2dyZXNzVUkgPyB3aW5kb3cucHJvZ3Jlc3NVSS5zaG9ydEFkZHIoYWRkcikgOiBhZGRyLnNsaWNlKDAsNikrIuKApiIrYWRkci5zbGljZSgtNCl9YDsNCg0KICAgICAgICBpZiAoZm9yY2VSZXNjYW4pIHsNCiAgICAgICAgICBhd2FpdCBjbGVhclNjYW5TdGF0ZShkYiwgYWRkcik7DQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBzY2FuU3RhdGUgPSBhd2FpdCBnZXRTY2FuU3RhdGUoZGIsIGFkZHIpOw0KICAgICAgICBjb25zdCBzdGFydEJsb2NrID0gc2NhblN0YXRlID8gc2NhblN0YXRlLmxhc3RTY2FubmVkQmxvY2sgKyAxIDogQ09OVFJBQ1RfQ1JFQVRJT05fQkxPQ0s7DQoNCiAgICAgICAgaWYgKHN0YXJ0QmxvY2sgPiBsYXRlc3RCbG9jayAmJiAhZm9yY2VSZXNjYW4pIHsNCiAgICAgICAgICBpZih0b2tlblR4dCkgdG9rZW5UeHQudGV4dENvbnRlbnQgPSBgU3Rha2UgWEVORlRzIGZvciAke2FkZHIuc2xpY2UoMCw2KX0uLi4gYXJlIHVwIHRvIGRhdGUuYDsNCiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgNTAwKSk7DQogICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBuZXdUeHMgPSBhd2FpdCBmZXRjaFN0YWtlVHhzSW5SYW5nZShhZGRyLCBldGhlcnNjYW5BcGlLZXksIHN0YXJ0QmxvY2ssIGxhdGVzdEJsb2NrKTsNCg0KICAgICAgICBpZiAoIW5ld1R4cy5sZW5ndGgpIHsNCiAgICAgICAgICBhd2FpdCBwdXRTY2FuU3RhdGUoZGIsIGFkZHIsIGxhdGVzdEJsb2NrKTsNCiAgICAgICAgICBpZih0b2tlblR4dCkgdG9rZW5UeHQudGV4dENvbnRlbnQgPSBgTm8gbmV3IFN0YWtlIFhFTkZUIGFjdGl2aXR5IGZvdW5kIGZvciAke2FkZHIuc2xpY2UoMCw2KX0uLi5gOw0KICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCA1MDApKTsNCiAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh0b2tlbkJhcikgeyB0b2tlbkJhci52YWx1ZSA9IDA7IHRva2VuQmFyLm1heCA9IE1hdGgubWF4KDEsIG5ld1R4cy5sZW5ndGgpOyB9DQogICAgICAgIGlmICh0b2tlblR4dCkgdG9rZW5UeHQudGV4dENvbnRlbnQgPSBgRm91bmQgJHtuZXdUeHMubGVuZ3RofSBuZXcgdHJhbnNhY3Rpb25zLiBQcm9jZXNzaW5n4oCmYDsNCiAgICAgICAgbGV0IF9zdGFydGVkQXQgPSBEYXRlLm5vdygpOw0KICAgICAgICBsZXQgX2xhc3RVaSA9IDA7DQoNCiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbmV3VHhzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgY29uc3QgdHggPSBuZXdUeHNbaV07DQogICAgICAgICAgY29uc3QgdG9rZW5JZCA9IFN0cmluZyh0eC50b2tlbklEKTsNCg0KICAgICAgICAgIGNvbnN0IGRvbmUgPSBpICsgMTsNCiAgICAgICAgICBpZiAodG9rZW5CYXIpIHRva2VuQmFyLnZhbHVlID0gZG9uZTsNCiAgICAgICAgICBpZiAod2luZG93LnByb2dyZXNzVUkpIHdpbmRvdy5wcm9ncmVzc1VJLnNldFN0YWdlKCdQcm9jZXNzaW5nIFN0YWtlIFhFTkZUIHR4cycsIGRvbmUsIG5ld1R4cy5sZW5ndGgsIGBUb2tlbiAjJHt0b2tlbklkfWApOw0KICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7DQogICAgICAgICAgaWYgKG5vdyAtIF9sYXN0VWkgPiAzMDApIHsNCiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSAobm93IC0gX3N0YXJ0ZWRBdCkgLyAxMDAwOw0KICAgICAgICAgICAgY29uc3QgcmF0ZSA9IGRvbmUgLyBNYXRoLm1heCgxLCBlbGFwc2VkKTsNCiAgICAgICAgICAgIGNvbnN0IHJlbWFpbiA9IE1hdGgubWF4KDAsIG5ld1R4cy5sZW5ndGggLSBkb25lKTsNCiAgICAgICAgICAgIGNvbnN0IGV0YSA9IHJhdGUgPiAwID8gcmVtYWluIC8gcmF0ZSA6IDA7DQogICAgICAgICAgICBpZiAod2luZG93LnByb2dyZXNzVUkpIHdpbmRvdy5wcm9ncmVzc1VJLnNldEV0YShldGEpOw0KICAgICAgICAgICAgX2xhc3RVaSA9IG5vdzsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBjb25zdCBpc01pbnQgPSB0eC50by50b0xvd2VyQ2FzZSgpID09PSBhZGRyLnRvTG93ZXJDYXNlKCk7DQogICAgICAgICAgY29uc3QgaXNDbGFpbSA9IHR4LmZyb20udG9Mb3dlckNhc2UoKSA9PT0gYWRkci50b0xvd2VyQ2FzZSgpICYmIHR4LnRvLnRvTG93ZXJDYXNlKCkgPT09IFpFUk9fQUREUjsNCiAgICAgICAgICBjb25zdCBpc1RyYW5zZmVyT3V0ID0gdHguZnJvbS50b0xvd2VyQ2FzZSgpID09PSBhZGRyLnRvTG93ZXJDYXNlKCkgJiYgIWlzQ2xhaW07DQoNCiAgICAgICAgICBsZXQgZXhpc3RpbmcgPSBhd2FpdCBnZXRCeVRva2VuSWQoZGIsIHRva2VuSWQpOw0KDQogICAgICAgICAgaWYgKGlzTWludCAmJiAhZXhpc3RpbmcpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgIGNvbnN0IHVyaSA9IGF3YWl0IHdpdGhSZXRyeSh3MywgYHRva2VuVVJJIGZvciAjJHt0b2tlbklkfWAsIGFzeW5jICgpID0+IGF3YWl0IGMubWV0aG9kcy50b2tlblVSSSh0b2tlbklkKS5jYWxsKCkpOw0KICAgICAgICAgICAgICBjb25zdCBtZXRhID0gZXh0cmFjdEpzb25Gcm9tRGF0YVVyaSh1cmkpOw0KICAgICAgICAgICAgICBjb25zdCBhdHRycyA9IEFycmF5LmlzQXJyYXkobWV0YT8uYXR0cmlidXRlcykgPyBtZXRhLmF0dHJpYnV0ZXMgOiBbXTsNCg0KICAgICAgICAgICAgICBsZXQgYW1vdW50ID0gcGFyc2VOdW1Mb29zZShmaW5kQXR0cihhdHRycywgJ2Ftb3VudCcpPy52YWx1ZSk7DQogICAgICAgICAgICAgIGxldCB0ZXJtID0gcGFyc2VOdW1Mb29zZShmaW5kQXR0cihhdHRycywgJ3Rlcm0nKT8udmFsdWUpOw0KICAgICAgICAgICAgICBsZXQgYXB5ID0gcGFyc2VOdW1Mb29zZShmaW5kQXR0cihhdHRycywgJ2FweScpPy52YWx1ZSk7DQoNCiAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGVybSkgfHwgdGVybSA8PSAwKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IHR4RGV0YWlscyA9IGF3YWl0IHczLmV0aC5nZXRUcmFuc2FjdGlvbih0eC5oYXNoKTsNCiAgICAgICAgICAgICAgICAgIGlmICh0eERldGFpbHMgJiYgdHlwZW9mIHR4RGV0YWlscy5pbnB1dCA9PT0gJ3N0cmluZycgJiYgdHhEZXRhaWxzLmlucHV0LnNsaWNlKDAsMTApLnRvTG93ZXJDYXNlKCkgPT09ICcweGQ3ZmEwMjNkJykgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBbYW10LCB0XSA9IHczLmV0aC5hYmkuZGVjb2RlUGFyYW1ldGVycyhbJ3VpbnQyNTYnLCd1aW50MjU2J10sICcweCcgKyB0eERldGFpbHMuaW5wdXQuc2xpY2UoMTApKTsNCiAgICAgICAgICAgICAgICAgICAgdGVybSA9IE51bWJlcih0KTsNCiAgICAgICAgICAgICAgICAgICAgYW1vdW50ID0gYW10Ow0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLyogaWdub3JlICovIH0NCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIGNvbnN0IG1pbnRUcyA9IE51bWJlcih0eC50aW1lU3RhbXApOw0KICAgICAgICAgICAgICBjb25zdCBjb21wdXRlZE1hdHVyaXR5VHMgPSBtaW50VHMgKyAodGVybSA+IDAgPyB0ZXJtICogODY0MDAgOiAwKTsNCiAgICAgICAgICAgICAgY29uc3Qgbm93U2VjID0gTWF0aC5mbG9vcihEYXRlLm5vdygpLzEwMDApOw0KICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSAoY29tcHV0ZWRNYXR1cml0eVRzID4gMCAmJiBjb21wdXRlZE1hdHVyaXR5VHMgPD0gbm93U2VjKSA/ICJDbGFpbWFibGUiIDogIk1hdHVyaW5nIjsNCg0KICAgICAgICAgICAgICBsZXQgTWF0dXJpdHlfRGF0ZV9GbXQgPSAiIiwgbWF0dXJpdHlEYXRlT25seSA9ICIiOw0KICAgICAgICAgICAgICBjb25zdCBkdCA9ICh3aW5kb3cubHV4b24gPyB3aW5kb3cubHV4b24uRGF0ZVRpbWUuZnJvbVNlY29uZHMoY29tcHV0ZWRNYXR1cml0eVRzKSA6IG51bGwpOw0KICAgICAgICAgICAgICBpZiAoZHQ/LmlzVmFsaWQpIHsNCiAgICAgICAgICAgICAgICBNYXR1cml0eV9EYXRlX0ZtdCA9IGR0LnRvRm9ybWF0KCJ5eXl5IExMTCBkZCwgaGg6bW0gYSIpOw0KICAgICAgICAgICAgICAgIG1hdHVyaXR5RGF0ZU9ubHkgID0gZHQudG9Gb3JtYXQoInl5eXktTU0tZGQiKTsNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIGNvbnN0IG5ld1JvdyA9IHsNCiAgICAgICAgICAgICAgICB0b2tlbklkLA0KICAgICAgICAgICAgICAgIG93bmVyOiBhZGRyLA0KICAgICAgICAgICAgICAgIGFtb3VudDogU3RyaW5nKGFtb3VudCB8fCAiMCIpLA0KICAgICAgICAgICAgICAgIHRlcm06IHRlcm0gfHwgMCwNCiAgICAgICAgICAgICAgICBhcHk6IGFweSB8fCAwLA0KICAgICAgICAgICAgICAgIG1hdHVyaXR5VHM6IGNvbXB1dGVkTWF0dXJpdHlUcyB8fCAwLA0KICAgICAgICAgICAgICAgIHN0YXR1cywNCiAgICAgICAgICAgICAgICBNYXR1cml0eV9EYXRlX0ZtdCwNCiAgICAgICAgICAgICAgICBtYXR1cml0eURhdGVPbmx5LA0KICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtdDQogICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgIGF3YWl0IHNhdmUoZGIsIG5ld1Jvdyk7DQoNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW1N0YWtlWEVORlRdIEZhaWxlZCB0byBwcm9jZXNzIG5ldyBtaW50IGZvciB0b2tlbiAjJHt0b2tlbklkfS5gLCBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2UgaWYgKGlzQ2xhaW0gJiYgZXhpc3RpbmcgJiYgZXhpc3Rpbmcuc3RhdHVzICE9PSAiQ2xhaW1lZCIpIHsNCiAgICAgICAgICAgIGV4aXN0aW5nLnN0YXR1cyA9ICJDbGFpbWVkIjsNCiAgICAgICAgICAgIGNvbnN0IGNsYWltQWN0aW9uID0geyB0eXBlOiAiZW5kU3Rha2UiLCBoYXNoOiB0eC5oYXNoLCB0aW1lU3RhbXA6IE51bWJlcih0eC50aW1lU3RhbXApIH07DQogICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhpc3RpbmcuYWN0aW9ucykpIGV4aXN0aW5nLmFjdGlvbnMgPSBbXTsNCiAgICAgICAgICAgIGlmICghZXhpc3RpbmcuYWN0aW9ucy5zb21lKGEgPT4gYS5oYXNoID09PSB0eC5oYXNoKSkgew0KICAgICAgICAgICAgICBleGlzdGluZy5hY3Rpb25zLnB1c2goY2xhaW1BY3Rpb24pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYXdhaXQgc2F2ZShkYiwgZXhpc3RpbmcpOw0KICAgICAgICAgIH0gZWxzZSBpZiAoaXNUcmFuc2Zlck91dCAmJiBleGlzdGluZyAmJiBleGlzdGluZy5vd25lci50b0xvd2VyQ2FzZSgpID09PSBhZGRyLnRvTG93ZXJDYXNlKCkpIHsNCiAgICAgICAgICAgIGV4aXN0aW5nLm93bmVyID0gY2xlYW5IZXhBZGRyKHR4LnRvKTsNCiAgICAgICAgICAgIGF3YWl0IHNhdmUoZGIsIGV4aXN0aW5nKTsNCiAgICAgICAgICAgIGlmICh0b2tlblR4dCkgdG9rZW5UeHQudGV4dENvbnRlbnQgPSBgVG9rZW4gIyR7dG9rZW5JZH0gdHJhbnNmZXJyZWQgdG8gJHtleGlzdGluZy5vd25lci5zbGljZSgwLDYpfS4uLmA7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGF3YWl0IHB1dFNjYW5TdGF0ZShkYiwgYWRkciwgbGF0ZXN0QmxvY2spOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNvbXBsZXRlIHNjYW4gZm9yIGFkZHJlc3MgJHthZGRyfTpgLCBlcnJvcik7DQogICAgICAgIGlmICh0b2tlblR4dCkgdG9rZW5UeHQudGV4dENvbnRlbnQgPSBgRXJyb3Igc2Nhbm5pbmcgJHthZGRyLnNsaWNlKDAsNil9Li4uIFNlZSBjb25zb2xlLmA7DQogICAgICB9DQogICAgfQ0KDQogICAgaWYgKHRva2VuVHh0KSB0b2tlblR4dC50ZXh0Q29udGVudCA9ICJTdGFrZSBzY2FuIGNvbXBsZXRlLiI7DQogICAgc2V0VGltZW91dCgoKT0+ew0KICAgICAgaWYgKCF3aW5kb3cuX19zY2FuQWxsQWN0aXZlKSB7DQogICAgICAgIGlmICh3aW5kb3cucHJvZ3Jlc3NVSSkgd2luZG93LnByb2dyZXNzVUkuc2hvdyhmYWxzZSk7DQogICAgICAgIGVsc2UgaWYgKHByb2dDb250YWluZXIpIHByb2dDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgIH0NCiAgICB9LCAxMjAwKTsNCiAgfQ0KDQogIC8vIEV4cG9ydA0KICB3aW5kb3cueGVuZnRTdGFrZSA9IHsgQ09OVFJBQ1RfQUREUkVTUywgb3BlbkRCLCBnZXRBbGwsIHNjYW4gfTsNCn0pKCk7DQo=',
        'js/xenft.js': 'Ly8gPT09IFhFTkZUIElOVEVHUkFUSU9OIChzY2FuIERCIG9ubHkpID09PQ0KLy8gVXNlcyBhIHNlcGFyYXRlIEluZGV4ZWREQiAiREJfWGVuZnQiLg0KLy8gRXhwb3Nlczogd2luZG93LnhlbmZ0ID0geyBvcGVuREIsIGdldEFsbCwgc2NhbiwgQ09OVFJBQ1RfQUREUkVTUyB9DQoNCg0KLy8gRmV0Y2ggRW5kVG9ycmVudCAoYnVsa0NsYWltTWludFJld2FyZCkgZXZlbnRzIGZvciBhIHVzZXIsIHdpdGggdGltZXN0YW1wcw0KYXN5bmMgZnVuY3Rpb24gZmV0Y2hFbmRUb3JyZW50QWN0aW9ucyh3MywgdXNlciwgZnJvbUJsb2NrKSB7DQogIGNvbnN0IGMgPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5mdEFiaSwgQ09OVFJBQ1RfQUREUkVTUyk7DQogIGNvbnN0IGV2cyA9IGF3YWl0IGMuZ2V0UGFzdEV2ZW50cygiRW5kVG9ycmVudCIsIHsNCiAgICBmaWx0ZXI6IHsgdXNlciB9LA0KICAgIGZyb21CbG9jazogTnVtYmVyKGZyb21CbG9jayB8fCAwKSwNCiAgICB0b0Jsb2NrOiAibGF0ZXN0IiwNCiAgfSk7DQoNCiAgY29uc3QgYWN0aW9ucyA9IFtdOw0KICBmb3IgKGNvbnN0IGV2IG9mIGV2cykgew0KICAgIGxldCB0cyA9IDA7DQogICAgdHJ5IHsNCiAgICAgIGNvbnN0IGIgPSBhd2FpdCB3My5ldGguZ2V0QmxvY2soZXYuYmxvY2tOdW1iZXIpOw0KICAgICAgdHMgPSBOdW1iZXIoYj8udGltZXN0YW1wIHx8IDApOw0KICAgIH0gY2F0Y2gge30NCiAgICBhY3Rpb25zLnB1c2goew0KICAgICAgdHlwZTogImJ1bGtDbGFpbU1pbnRSZXdhcmQiLA0KICAgICAgdG9rZW5JZDogU3RyaW5nKGV2LnJldHVyblZhbHVlcy50b2tlbklkKSwNCiAgICAgIHRvOiBldi5yZXR1cm5WYWx1ZXMudG8sDQogICAgICBoYXNoOiBldi50cmFuc2FjdGlvbkhhc2gsICAgICAgLy8gSU1QT1JUQU5UOiAnaGFzaCcgaXMgd2hhdCB0aGUgdGFibGUgZXhwZWN0cw0KICAgICAgdGltZVN0YW1wOiB0cywNCiAgICAgIGJsb2NrTnVtYmVyOiBldi5ibG9ja051bWJlciwNCiAgICB9KTsNCiAgfQ0KICByZXR1cm4gYWN0aW9uczsNCn0NCg0KDQooZnVuY3Rpb24oKXsNCiAgY29uc3QgQ09OVFJBQ1RfQUREUkVTUyA9ICIweDBhMjUyNjYzREJDYzBiMDczMDYzRDY0MjBhNDAzMTllNDM4Q2ZhNTkiOw0KICBjb25zdCBERUZBVUxUX1JQQyA9IGBodHRwczovL2V0aGVyZXVtLXJwYy5wdWJsaWNub2RlLmNvbWA7DQoNCg0KDQogIC8vIC0tLSBoZWxwZXJzIGZyb20gdXNlcidzIGNvZGUgLS0tDQogIGZ1bmN0aW9uIGZvcm1hdExvY2FsRGF0ZShkYXRlKSB7DQogICAgY29uc3Qgb3B0aW9ucyA9IHsgeWVhcjogJ251bWVyaWMnLCBtb250aDogJ3Nob3J0JywgZGF5OiAnbnVtZXJpYycsIGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfTsNCiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygiZW4tVVMiLCBvcHRpb25zKS5yZXBsYWNlKC9cc1tBLVpdezMsNH0kLywgIiIpOw0KICB9DQogIGZ1bmN0aW9uIGZvcm1hdFVUQ0RhdGUoZGF0ZSkgew0KICAgIGNvbnN0IG1vbnRocyA9IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJKdW4iLCAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXTsNCiAgICByZXR1cm4gYCR7bW9udGhzW2RhdGUuZ2V0VVRDTW9udGgoKV19ICR7ZGF0ZS5nZXRVVENEYXRlKCl9LCAke2RhdGUuZ2V0VVRDRnVsbFllYXIoKX0gJHtTdHJpbmcoZGF0ZS5nZXRVVENIb3VycygpKS5wYWRTdGFydCgyLCcwJyl9OiR7U3RyaW5nKGRhdGUuZ2V0VVRDTWludXRlcygpKS5wYWRTdGFydCgyLCcwJyl9IFVUQ2A7DQogIH0NCiAgZnVuY3Rpb24gZ2V0TG9jYWxEYXRlU3RyaW5nKGRhdGUpIHsNCiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOw0KICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSkucGFkU3RhcnQoMiwgJzAnKTsNCiAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7DQogICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7DQogIH0NCiAgZnVuY3Rpb24gZGVjb2RlTWludEluZm8oaW5mb1N0cikgew0KICAgIGxldCBpbmZvID0gQmlnSW50KGluZm9TdHIpOw0KICAgIGNvbnN0IG5mdE5hbWVzID0gWydSdWJ5JywgJ09wYWwnLCAnVG9wYXonLCAnRW1lcmFsZCcsICdBcXVhbWFyaW5lJywgJ1NhcHBoaXJlJywgJ0FtZXRoeXN0JywgJ1hlbnR1cmlvbicsICdMaW1pdGVkJywgJ1JhcmUnLCAnRXBpYycsICdMZWdlbmRhcnknLCAnRXhvdGljJywgJ1h1bmljb3JuJ107DQogICAgY29uc3QgZ2V0TWFwcGluZyA9IChzaGlmdCwgYml0cykgPT4gTnVtYmVyKChpbmZvID4+IEJpZ0ludChzaGlmdCkpICYgKChCaWdJbnQoMSkgPDwgQmlnSW50KGJpdHMpKSAtIEJpZ0ludCgxKSkpOw0KICAgIGxldCBtYXBwaW5ncyA9IHsNCiAgICAgIHRlcm06IGdldE1hcHBpbmcoMjQwLCAxNiksDQogICAgICBtYXR1cml0eVRzOiBnZXRNYXBwaW5nKDE3NiwgNjQpLA0KICAgICAgcmFuazogZ2V0TWFwcGluZyg0OCwgMTI4KSwNCiAgICAgIGFtcDogZ2V0TWFwcGluZygzMiwgMTYpLA0KICAgICAgZWFhOiBnZXRNYXBwaW5nKDE2LCAxNiksDQogICAgICBuZnRDbGFzczogZ2V0TWFwcGluZyg4LCA4KSAmIDB4M0YsDQogICAgICByZWRlZW1lZDogZ2V0TWFwcGluZygwLCA4KQ0KICAgIH07DQogICAgbWFwcGluZ3MuYXBleCA9IG1hcHBpbmdzLm5mdENsYXNzID4gODsNCiAgICBtYXBwaW5ncy5saW1pdGVkID0gbWFwcGluZ3MubmZ0Q2xhc3MgPT09IDg7DQogICAgbWFwcGluZ3MuY29sbGVjdG9yID0gIW1hcHBpbmdzLmFwZXggJiYgIW1hcHBpbmdzLmxpbWl0ZWQ7DQogICAgbWFwcGluZ3MubmZ0Q2xhc3MgPSBtYXBwaW5ncy5saW1pdGVkID8gIkxpbWl0ZWQiIDogKG1hcHBpbmdzLm5mdENsYXNzIDwgbmZ0TmFtZXMubGVuZ3RoID8gbmZ0TmFtZXNbbWFwcGluZ3MubmZ0Q2xhc3NdIDogIlVua25vd24iKTsNCiAgICByZXR1cm4gbWFwcGluZ3M7DQogIH0NCiAgZnVuY3Rpb24gZXh0cmFjdFRva2VuRGF0YSh0b2tlblVyaSkgew0KICAgIGlmICh0b2tlblVyaSAmJiB0b2tlblVyaS5zdGFydHNXaXRoKCJkYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCIpKSB7DQogICAgICBjb25zdCBiYXNlNjREYXRhID0gdG9rZW5Vcmkuc3BsaXQoIiwiKVsxXTsNCiAgICAgIHRyeSB7IHJldHVybiBKU09OLnBhcnNlKGF0b2IoYmFzZTY0RGF0YSkpOyB9IGNhdGNoIHsgcmV0dXJuIHt9OyB9DQogICAgfQ0KICAgIHJldHVybiB7fTsNCiAgfQ0KDQogIC8vIC0tLSBJTkRFWEVEREIgLS0tDQogIGZ1bmN0aW9uIG9wZW5EQigpIHsNCiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKCJEQl9YZW5mdCIsIDEpOw0KICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBldmVudCA9PiB7DQogICAgICAgIGNvbnN0IGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDsNCiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCJ4ZW5mdHMiKSkgew0KICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCJ4ZW5mdHMiLCB7IGtleVBhdGg6ICJYZW5mdF9pZCIgfSk7DQogICAgICAgIH0NCiAgICAgIH07DQogICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGUgPT4gcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQpOw0KICAgICAgcmVxdWVzdC5vbmVycm9yID0gZSA9PiByZWplY3QoZS50YXJnZXQuZXJyb3IpOw0KICAgIH0pOw0KICB9DQogIGZ1bmN0aW9uIHNhdmUoZGIsIHhlbmZ0KSB7DQogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oInhlbmZ0cyIsICJyZWFkd3JpdGUiKTsNCiAgICAgIHR4Lm9iamVjdFN0b3JlKCJ4ZW5mdHMiKS5wdXQoeGVuZnQpLm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUoKTsNCiAgICAgIHR4Lm9uZXJyb3IgPSBlID0+IHJlamVjdChlKTsNCiAgICB9KTsNCiAgfQ0KICBmdW5jdGlvbiBnZXRBbGwoZGIpIHsNCiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbigieGVuZnRzIiwgInJlYWRvbmx5Iik7DQogICAgICB0eC5vYmplY3RTdG9yZSgieGVuZnRzIikuZ2V0QWxsKCkub25zdWNjZXNzID0gZSA9PiByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCB8fCBbXSk7DQogICAgICB0eC5vbmVycm9yID0gZSA9PiByZWplY3QoZSk7DQogICAgfSk7DQogIH0NCiAgYXN5bmMgZnVuY3Rpb24gZ2V0QnlUb2tlbklkKGRiLCB0b2tlbklkKSB7DQogICAgY29uc3QgYWxsID0gYXdhaXQgZ2V0QWxsKGRiKTsNCiAgICByZXR1cm4gYWxsLmZpbmQodCA9PiB0LnRva2VuSWQgPT0gdG9rZW5JZCB8fCB0LlhlbmZ0X2lkID09IHRva2VuSWQpOw0KICB9DQoNCg0KICAvLyAtLS0gTE9HIFNDQU4gKGJ1bGtDbGFpbU1pbnRSZXdhcmQgLT4gRW5kVG9ycmVudCkgLS0tDQogIGFzeW5jIGZ1bmN0aW9uIGZldGNoRW5kVG9ycmVudEFjdGlvbnModzMsIGFkZHIsIGZyb21CbG9jaykgew0KICAgIGNvbnN0IGMgPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5mdEFiaSwgQ09OVFJBQ1RfQUREUkVTUyk7DQogICAgY29uc3QgbGF0ZXN0ID0gYXdhaXQgdzMuZXRoLmdldEJsb2NrTnVtYmVyKCk7DQogICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heCgwLCBOdW1iZXIoZnJvbUJsb2NrIHx8IDApKTsNCiAgICBsZXQgZXZlbnRzID0gW107DQogICAgdHJ5IHsNCiAgICAgIGV2ZW50cyA9IGF3YWl0IGMuZ2V0UGFzdEV2ZW50cygiRW5kVG9ycmVudCIsIHsNCiAgICAgICAgZmlsdGVyOiB7IHVzZXI6IGFkZHIgfSwNCiAgICAgICAgZnJvbUJsb2NrOiBzdGFydCwNCiAgICAgICAgdG9CbG9jazogJ2xhdGVzdCcNCiAgICAgIH0pOw0KICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgIC8vIFNvbWUgUlBDcyBkb24ndCBhbGxvdyBnZXRQYXN0RXZlbnRzOyBza2lwIGxvZ3Mgb24gdGhvc2UgZW5kcG9pbnRzLg0KICAgICAgZXZlbnRzID0gW107DQogICAgfQ0KICAgIC8vIERlY29yYXRlIHdpdGggYmxvY2sgdGltZXN0YW1wcyBhbmQgbm9ybWFsaXplZCBhY3Rpb24gb2JqZWN0cw0KICAgIGNvbnN0IGFjdGlvbnMgPSBbXTsNCiAgICBmb3IgKGNvbnN0IGV2IG9mIGV2ZW50cykgew0KICAgICAgbGV0IHRzID0gMDsNCiAgICAgIHRyeSB7IGNvbnN0IGIgPSBhd2FpdCB3My5ldGguZ2V0QmxvY2soZXYuYmxvY2tOdW1iZXIpOyB0cyA9IE51bWJlcihiLnRpbWVzdGFtcCkgfHwgMDsgfSBjYXRjaCB7fQ0KICAgICAgY29uc3QgdG9rZW5JZCA9IFN0cmluZyhldj8ucmV0dXJuVmFsdWVzPy50b2tlbklkID8/ICIiKTsNCiAgICAgIGNvbnN0IHRvID0gU3RyaW5nKGV2Py5yZXR1cm5WYWx1ZXM/LnRvID8/ICIiKTsNCiAgICAgIGFjdGlvbnMucHVzaCh7DQogICAgICAgIHR5cGU6ICJidWxrQ2xhaW1NaW50UmV3YXJkIiwNCiAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwNCiAgICAgICAgdG86IHRvLA0KICAgICAgICBoYXNoOiBldj8udHJhbnNhY3Rpb25IYXNoIHx8ICIiLA0KICAgICAgICB0aW1lU3RhbXA6IHRzLA0KICAgICAgICBibG9ja051bWJlcjogZXYuYmxvY2tOdW1iZXINCiAgICAgIH0pOw0KICAgIH0NCiAgICByZXR1cm4gYWN0aW9uczsNCiAgfQ0KDQogIC8vIHhlbmZ0LmpzIOKAlCBwZXJzaXN0ZW50IFJQQyB3YXJuaW5nIHBvcHVwDQogIGZ1bmN0aW9uIGVuc3VyZVRvYXN0RWwoKSB7DQogICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdsb2JhbFRvYXN0Iik7DQogICAgaWYgKGVsKSByZXR1cm4gZWw7DQoNCiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgIGVsLmlkID0gImdsb2JhbFRvYXN0IjsNCiAgICBlbC5jbGFzc05hbWUgPSAidG9hc3QiOw0KDQogICAgLy8gQ2xvc2UgYnV0dG9uDQogICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7DQogICAgYnRuLnRleHRDb250ZW50ID0gIsOXIjsNCiAgICBidG4uc3R5bGUuZmxvYXQgPSAicmlnaHQiOw0KICAgIGJ0bi5zdHlsZS5mb250U2l6ZSA9ICIyMHB4IjsNCiAgICBidG4uc3R5bGUuYmFja2dyb3VuZCA9ICJ0cmFuc3BhcmVudCI7DQogICAgYnRuLnN0eWxlLmJvcmRlciA9ICJub25lIjsNCiAgICBidG4uc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOw0KICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4gZWwucmVtb3ZlKCk7DQoNCiAgICBlbC5hcHBlbmRDaGlsZChidG4pOw0KDQogICAgY29uc3QgbXNnU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsNCiAgICBtc2dTcGFuLmlkID0gImdsb2JhbFRvYXN0TWVzc2FnZSI7DQogICAgZWwuYXBwZW5kQ2hpbGQobXNnU3Bhbik7DQoNCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTsNCiAgICByZXR1cm4gZWw7DQogIH0NCg0KICBmdW5jdGlvbiBzaG93UGVyc2lzdGVudFRvYXN0KG1zZywga2luZCA9ICJlcnJvciIpIHsNCiAgICBjb25zdCBlbCA9IGVuc3VyZVRvYXN0RWwoKTsNCiAgICBjb25zdCBtc2dTcGFuID0gZWwucXVlcnlTZWxlY3RvcigiI2dsb2JhbFRvYXN0TWVzc2FnZSIpOw0KICAgIGlmIChtc2dTcGFuKSBtc2dTcGFuLnRleHRDb250ZW50ID0gbXNnOw0KICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoInN1Y2Nlc3MiLCAiZXJyb3IiKTsNCiAgICBpZiAoa2luZCkgZWwuY2xhc3NMaXN0LmFkZChraW5kKTsNCiAgICBlbC5jbGFzc0xpc3QuYWRkKCJzaG93Iik7ICAgLy8gc3RheXMgdW50aWwgdXNlciBjbGlja3Mgw5cNCiAgfQ0KDQogIGxldCBfX3JwY1dhcm5lZE9uY2UgPSBmYWxzZTsNCiAgZnVuY3Rpb24gd2FyblJwY0luY29tcGF0aWJsZShycGMsIGRldGFpbCkgew0KICAgIGlmIChfX3JwY1dhcm5lZE9uY2UpIHJldHVybjsNCiAgICBfX3JwY1dhcm5lZE9uY2UgPSB0cnVlOw0KDQogICAgY29uc3QgdHh0ID0gYFRoaXMgUlBDIHNlZW1zIGluY29tcGF0aWJsZSB3aXRoIFhFTkZUIHNjYW5uaW5nOlxuJHtycGN9XG5cbmAgKw0KICAgICAgYEl0IHRpbWVkIG91dCAvIGRvZXNuJ3Qgc3VwcG9ydCByZXF1aXJlZCBjYWxscy5cbmAgKw0KICAgICAgYE9wZW4gU2V0dGluZ3Mg4oaSIOKAnEN1c3RvbSBFVEggUlBDc+KAnSBhbmQgcmVtb3ZlIGl0LCBvciBtb3ZlIGEgZGlmZmVyZW50IFJQQyB0byB0aGUgdG9wLlxuXG5gICsNCiAgICAgIGBEZXRhaWxzOiAke2RldGFpbCB8fCAidGltZW91dCJ9YDsNCg0KICAgIHRyeSB7IHNob3dQZXJzaXN0ZW50VG9hc3QodHh0LCAiZXJyb3IiKTsgfQ0KICAgIGNhdGNoIHsgYWxlcnQodHh0KTsgfQ0KICB9DQoNCiAgLy8gLS0tIFJQQyBoZWxwZXIgLS0tDQogIC8vIHhlbmZ0LmpzIOKAlCBnZXRXb3JraW5nQ29udHJhY3QNCiAgYXN5bmMgZnVuY3Rpb24gZ2V0V29ya2luZ0NvbnRyYWN0KHJwY0xpc3QpIHsNCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJwY0xpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgIGNvbnN0IHJwYyA9IHJwY0xpc3RbaV0udHJpbSgpOw0KICAgICAgaWYgKCFycGMpIGNvbnRpbnVlOw0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgdzMgPSBuZXcgV2ViMyhycGMpOw0KICAgICAgICBhd2FpdCB3My5ldGguZ2V0Q2hhaW5JZCgpOw0KICAgICAgICAvLyBORVc6IHJlbWVtYmVyIHdoaWNoIFJQQyB3ZeKAmXJlIHVzaW5nIGZvciBYRU5GVCBzY2FubmluZw0KICAgICAgICB3aW5kb3cuX2FjdGl2ZVhlbmZ0UnBjID0gcnBjOw0KICAgICAgICByZXR1cm4gbmV3IHczLmV0aC5Db250cmFjdCh3aW5kb3cueGVuZnRBYmksIENPTlRSQUNUX0FERFJFU1MpOw0KICAgICAgfSBjYXRjaCB7fQ0KICAgIH0NCiAgICB0aHJvdyBuZXcgRXJyb3IoIk5vIHdvcmtpbmcgUlBDIGVuZHBvaW50cyBmb3VuZCIpOw0KICB9DQoNCiAgLy8gLS0tIHB1YmxpYyBzY2FuKCkgLS0tDQogIGFzeW5jIGZ1bmN0aW9uIHNjYW4oKSB7DQogICAgLy8gU2hvdyBzaGFyZWQgcHJvZ3Jlc3MgVUkNCiAgICBpZiAod2luZG93LnByb2dyZXNzVUkpIHsgd2luZG93LnByb2dyZXNzVUkuc2hvdyh0cnVlKTsgd2luZG93LnByb2dyZXNzVUkuc2V0VHlwZSgnWEVORlRzJyk7IH0NCiAgICBjb25zdCBhZGRyZXNzUHJvZ3Jlc3NUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZHJlc3NQcm9ncmVzc1RleHQiKTsNCg0KICAgIC8vIFVzZXMgc2FtZSBpbnB1dHMgVUkgYXMgQ29pbnRvb2wgc2V0dGluZ3MNCiAgICBjb25zdCBhZGRyZXNzSW5wdXQgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV0aEFkZHJlc3MiKT8udmFsdWUgfHwgIiIpLnRyaW0oKTsNCiAgICBpZiAoIWFkZHJlc3NJbnB1dCkgeyBhbGVydCgiRW50ZXIgYXQgbGVhc3Qgb25lIEV0aGVyZXVtIGFkZHJlc3MgKFNldHRpbmdzKS4iKTsgcmV0dXJuOyB9DQoNCiAgICBjb25zdCBycGNJbnB1dCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VzdG9tUlBDIik/LnZhbHVlIHx8IERFRkFVTFRfUlBDKS50cmltKCk7DQogICAgY29uc3QgcnBjRW5kcG9pbnRzID0gcnBjSW5wdXQuc3BsaXQoIlxuIikubWFwKHM9PnMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7DQogICAgaWYgKHJwY0VuZHBvaW50cy5sZW5ndGggPT09IDApIHsgYWxlcnQoIkVudGVyIGF0IGxlYXN0IG9uZSBSUEMgZW5kcG9pbnQuIik7IHJldHVybjsgfQ0KDQogICAgY29uc3QgYWRkcmVzc2VzID0gYWRkcmVzc0lucHV0LnNwbGl0KCJcbiIpLm1hcChzPT5zLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pOw0KDQogICAgbGV0IGNvbnRyYWN0Ow0KICAgIHRyeSB7IGNvbnRyYWN0ID0gYXdhaXQgZ2V0V29ya2luZ0NvbnRyYWN0KHJwY0VuZHBvaW50cyk7IH0NCiAgICBjYXRjaCB7IGFsZXJ0KCJDb3VsZCBub3QgY29ubmVjdCB0byBhbnkgUlBDLiIpOyByZXR1cm47IH0NCg0KICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7DQogICAgY29uc3QgcHJvZ3Jlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9rZW5Qcm9ncmVzc0JhciIpOw0KICAgIGNvbnN0IHRva2VuUHJvZ3Jlc3NUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRva2VuUHJvZ3Jlc3NUZXh0Iik7DQogICAgaWYgKHByb2dyZXNzKSB7IHByb2dyZXNzLnZhbHVlID0gMDsgcHJvZ3Jlc3MubWF4ID0gMTAwOyB9DQoNCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZHJlc3Nlcy5sZW5ndGg7IGkrKykgew0KICAgICAgY29uc3QgYWRkciA9IGFkZHJlc3Nlc1tpXTsNCiAgICAgIGlmICh3aW5kb3cucHJvZ3Jlc3NVSSkgd2luZG93LnByb2dyZXNzVUkuc2V0QWRkcmVzcyhpKzEsIGFkZHJlc3Nlcy5sZW5ndGgsIGFkZHIpOw0KICAgICAgbGV0IHRva2VuSWRzID0gW107DQogICAgICAvLyB4ZW5mdC5qcyDigJQgaW5zaWRlIHNjYW4oKSwgd2hlcmUgdG9rZW5JZHMgYXJlIGZldGNoZWQgcGVyIGFkZHJlc3MNCiAgICAgIHRyeSB7DQogICAgICAgIGlmICh0eXBlb2YgY29udHJhY3QubWV0aG9kcy5vd25lZFRva2VucyA9PT0gImZ1bmN0aW9uIikgew0KICAgICAgICAgIHRva2VuSWRzID0gYXdhaXQgY29udHJhY3QubWV0aG9kcy5vd25lZFRva2VucygpLmNhbGwoeyBmcm9tOiBhZGRyIH0pOw0KICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250cmFjdC5tZXRob2RzLmJhbGFuY2VPZiA9PT0gImZ1bmN0aW9uIikgew0KICAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCBjb250cmFjdC5tZXRob2RzLmJhbGFuY2VPZihhZGRyKS5jYWxsKCk7DQogICAgICAgICAgdG9rZW5JZHMgPSBhd2FpdCBQcm9taXNlLmFsbCgNCiAgICAgICAgICAgIEFycmF5LmZyb20oe2xlbmd0aDpOdW1iZXIoYmFsYW5jZSl9LChfLGopPT5jb250cmFjdC5tZXRob2RzLnRva2VuT2ZPd25lckJ5SW5kZXgoYWRkcixqKS5jYWxsKCkpDQogICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICBjb25zdCBtc2cgPSAoZSAmJiAoZS5tZXNzYWdlIHx8IFN0cmluZyhlKSkpIHx8ICIiOw0KICAgICAgICAvLyBEZXRlY3QgSFRUUCA0MDggb3IgRVZNIHRpbWVvdXQgc2hhcGVzDQogICAgICAgIGlmICgvNDA4fHJlcXVlc3QgdGltZW91dHxldm0gdGltZW91dHx0aW1lb3V0L2kudGVzdChtc2cpKSB7DQogICAgICAgICAgY29uc3QgcnBjID0gd2luZG93Ll9hY3RpdmVYZW5mdFJwYyB8fCAoQXJyYXkuaXNBcnJheShycGNFbmRwb2ludHMpID8gcnBjRW5kcG9pbnRzWzBdIDogIiIpOw0KICAgICAgICAgIHdhcm5ScGNJbmNvbXBhdGlibGUocnBjLCBtc2cpOw0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUud2FybigiVG9rZW4gZmV0Y2ggZmFpbGVkIGZvciIsIGFkZHIsIGUpOw0KICAgICAgICBjb250aW51ZTsNCiAgICAgIH0NCg0KICAgICAgaWYgKHByb2dyZXNzKSB7IHByb2dyZXNzLm1heCA9IHRva2VuSWRzLmxlbmd0aCB8fCAxMDA7IHByb2dyZXNzLnZhbHVlID0gMDsgfQ0KDQogICAgICBsZXQgcHJvY2Vzc2VkID0gMDsNCiAgICAgIGxldCBfc3RhcnRlZEF0ID0gRGF0ZS5ub3coKTsNCiAgICAgIGxldCBfbGFzdFVpID0gMDsNCiAgICAgIGZvciAoY29uc3QgdG9rZW5JZCBvZiB0b2tlbklkcykgew0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgZ2V0QnlUb2tlbklkKGRiLCB0b2tlbklkKTsNCg0KICAgICAgICAgIGNvbnN0IG5vdyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApOw0KICAgICAgICAgIGxldCBtYXR1cml0eVRzID0gMDsNCiAgICAgICAgICBpZiAoZXhpc3RpbmcpIHsNCiAgICAgICAgICAgIGlmICgnTWF0dXJpdHlfVGltZXN0YW1wJyBpbiBleGlzdGluZykgew0KICAgICAgICAgICAgICBtYXR1cml0eVRzID0gTnVtYmVyKGV4aXN0aW5nLk1hdHVyaXR5X1RpbWVzdGFtcCB8fCAwKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ21hdHVyaXR5VHMnIGluIGV4aXN0aW5nKSB7DQogICAgICAgICAgICAgIG1hdHVyaXR5VHMgPSBOdW1iZXIoZXhpc3RpbmcubWF0dXJpdHlUcyB8fCAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQoNCiAgICAgICAgICBjb25zdCBpc1JlZGVlbWVkID0gZXhpc3RpbmcgPyBOdW1iZXIoZXhpc3RpbmcucmVkZWVtZWQgfHwgMCkgPT09IDEgOiBmYWxzZTsNCiAgICAgICAgICBjb25zdCBpc0Z1dHVyZU1hdHVyaW5nID0gZXhpc3RpbmcgPyAobWF0dXJpdHlUcyA+IG5vdykgOiBmYWxzZTsNCg0KLy8gU2tpcCBhbHJlYWR5LWtub3duIGZ1dHVyZSBvciByZWRlZW1lZCBYRU5GVHMNCiAgICAgICAgICBpZiAoZXhpc3RpbmcgJiYgKGlzUmVkZWVtZWQgfHwgaXNGdXR1cmVNYXR1cmluZykpIHsNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgIH0NCg0KDQogICAgICAgICAgLy8gLS0tIEFmdGVyIHRva2Vuczogc2NhbiBFbmRUb3JyZW50IGxvZ3Mgb25jZSBmb3IgdGhpcyBvd25lciBhbmQgbWVyZ2UgaW50byBlbnRyaWVzDQogICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHczID0gbmV3IFdlYjMocnBjRW5kcG9pbnRzWzBdKTsNCiAgICAgICAgICAgIGxldCBzdGFydEJsb2NrID0gMDsNCiAgICAgICAgICAgIHRyeSB7IHN0YXJ0QmxvY2sgPSBOdW1iZXIoYXdhaXQgY29udHJhY3QubWV0aG9kcy5zdGFydEJsb2NrTnVtYmVyKCkuY2FsbCgpKTsgfSBjYXRjaCB7fQ0KDQogICAgICAgICAgICBjb25zdCBhY3Rpb25zID0gYXdhaXQgZmV0Y2hFbmRUb3JyZW50QWN0aW9ucyh3MywgYWRkciwgc3RhcnRCbG9jayk7DQogICAgICAgICAgICBpZiAoYWN0aW9ucy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgY29uc3QgYnlUb2tlbiA9IGFjdGlvbnMucmVkdWNlKChhY2MsIGEpID0+IHsNCiAgICAgICAgICAgICAgICAoYWNjW1N0cmluZyhhLnRva2VuSWQpXSB8fD0gW10pLnB1c2goYSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgICAgICAgfSwge30pOw0KDQogICAgICAgICAgICAgIGNvbnN0IHJvd3MgPSBhd2FpdCBnZXRBbGwoZGIpOw0KICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7DQogICAgICAgICAgICAgICAgaWYgKChyb3cub3duZXIgfHwgIiIpLnRvTG93ZXJDYXNlKCkgIT09IGFkZHIudG9Mb3dlckNhc2UoKSkgY29udGludWU7DQogICAgICAgICAgICAgICAgY29uc3QgdGlkID0gU3RyaW5nKHJvdy5YZW5mdF9pZCB8fCByb3cudG9rZW5JZCB8fCAiIik7DQogICAgICAgICAgICAgICAgY29uc3QgYWN0cyA9IGJ5VG9rZW5bdGlkXSB8fCBbXTsNCiAgICAgICAgICAgICAgICBpZiAoYWN0cy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgIHJvdy5hY3Rpb25zID0gKHJvdy5hY3Rpb25zIHx8IFtdKS5jb25jYXQoYWN0cyk7DQogICAgICAgICAgICAgICAgICByb3cubGF0ZXN0QWN0aW9uVGltZXN0YW1wID0gTWF0aC5tYXgoDQogICAgICAgICAgICAgICAgICAgIC4uLnJvdy5hY3Rpb25zLm1hcCh4ID0+IE51bWJlcih4LnRpbWVTdGFtcCB8fCAwKSkNCiAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICBhd2FpdCBzYXZlKGRiLCByb3cpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIGNvbnNvbGUud2FybigiRW5kVG9ycmVudCBzY2FuIGZhaWxlZDoiLCBlKTsNCiAgICAgICAgICB9DQovLyBPY2Nhc2lvbmFsbHkgcmVmcmVzaCBuZWFyIG1hdHVyaXR5DQogICAgICAgICAgbGV0IHJlZnJlc2ggPSB0cnVlOw0KICAgICAgICAgIGlmIChleGlzdGluZykgew0KICAgICAgICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7DQogICAgICAgICAgICBjb25zdCBpc1JlZGVlbWVkID0gTnVtYmVyKGV4aXN0aW5nLnJlZGVlbWVkIHx8IDApID09PSAxOw0KICAgICAgICAgICAgY29uc3QgaXNNYXR1cmluZ0Z1dHVyZSA9IE51bWJlcihleGlzdGluZy5tYXR1cml0eVRzIHx8IDApID4gbm93Ow0KICAgICAgICAgICAgcmVmcmVzaCA9ICEoaXNSZWRlZW1lZCB8fCBpc01hdHVyaW5nRnV0dXJlKTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKCFyZWZyZXNoKSB7IGNvbnRpbnVlOyB9DQoNCiAgICAgICAgICBsZXQgZGV0YWlsID0gbnVsbDsNCiAgICAgICAgICBmb3IgKGNvbnN0IHJwYyBvZiBycGNFbmRwb2ludHMpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgIGNvbnN0IHczID0gbmV3IFdlYjMocnBjKTsNCiAgICAgICAgICAgICAgY29uc3QgYyAgPSBuZXcgdzMuZXRoLkNvbnRyYWN0KHdpbmRvdy54ZW5mdEFiaSwgQ09OVFJBQ1RfQUREUkVTUyk7DQogICAgICAgICAgICAgIGNvbnN0IHRva2VuVXJpID0gYXdhaXQgYy5tZXRob2RzLnRva2VuVVJJKHRva2VuSWQpLmNhbGwoKTsNCiAgICAgICAgICAgICAgY29uc3QgdG9rZW5EYXRhID0gZXh0cmFjdFRva2VuRGF0YSh0b2tlblVyaSk7DQogICAgICAgICAgICAgIGNvbnN0IHhlbmZ0SWQgPSB0b2tlbkRhdGEubmFtZSA/IHRva2VuRGF0YS5uYW1lLnNwbGl0KCcjJykucG9wKCkudHJpbSgpIDogdG9rZW5JZDsNCiAgICAgICAgICAgICAgY29uc3QgbWludEluZm9SYXcgPSBhd2FpdCBjLm1ldGhvZHMubWludEluZm8oeGVuZnRJZCkuY2FsbCgpOw0KICAgICAgICAgICAgICBjb25zdCBtaW50SW5mbyA9IGRlY29kZU1pbnRJbmZvKG1pbnRJbmZvUmF3KTsNCiAgICAgICAgICAgICAgY29uc3QgbWF0dXJpdHlEYXRlID0gbmV3IERhdGUobWludEluZm8ubWF0dXJpdHlUcyAqIDEwMDApOw0KICAgICAgICAgICAgICBjb25zdCBsb2NhbE1hdHVyaXR5ID0gKHR5cGVvZiBsdXhvbiAhPT0gInVuZGVmaW5lZCINCiAgICAgICAgICAgICAgICA/IGx1eG9uLkRhdGVUaW1lLmZyb21KU0RhdGUobWF0dXJpdHlEYXRlKS50b0Zvcm1hdCgneXl5eSBMTEwgZGQsIGhoOm1tIGEnKSAvLyB0d28tZGlnaXQgaG91cg0KICAgICAgICAgICAgICAgIDogZm9ybWF0TG9jYWxEYXRlKG1hdHVyaXR5RGF0ZSkpOw0KICAgICAgICAgICAgICBjb25zdCB1dGNNYXR1cml0eSAgID0gZm9ybWF0VVRDRGF0ZShtYXR1cml0eURhdGUpOw0KICAgICAgICAgICAgICBjb25zdCBtYXR1cml0eUtleSA9ICh0eXBlb2YgbHV4b24gIT09ICJ1bmRlZmluZWQiKQ0KICAgICAgICAgICAgICAgID8gbHV4b24uRGF0ZVRpbWUuZnJvbVNlY29uZHMobWludEluZm8ubWF0dXJpdHlUcykNCiAgICAgICAgICAgICAgICAgIC5zZXRab25lKEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSkNCiAgICAgICAgICAgICAgICAgIC50b0Zvcm1hdCgieXl5eS1MTC1kZCIpDQogICAgICAgICAgICAgICAgOiAoZnVuY3Rpb24oZCl7IHJldHVybiBkLmdldEZ1bGxZZWFyKCkrIi0iK1N0cmluZyhkLmdldE1vbnRoKCkrMSkucGFkU3RhcnQoMiwiMCIpKyItIitTdHJpbmcoZC5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsIjAiKTsgfSkobmV3IERhdGUobWludEluZm8ubWF0dXJpdHlUcyoxMDAwKSk7DQoNCg0KICAgICAgICAgICAgICBkZXRhaWwgPSB7DQogICAgICAgICAgICAgICAgb3duZXI6IGFkZHIsDQogICAgICAgICAgICAgICAgdG9rZW5JZDogdG9rZW5JZCwNCiAgICAgICAgICAgICAgICBYZW5mdF9pZDogeGVuZnRJZCwNCiAgICAgICAgICAgICAgICBBTVA6IHRva2VuRGF0YS5hdHRyaWJ1dGVzID8gKHRva2VuRGF0YS5hdHRyaWJ1dGVzLmZpbmQoYSA9PiBhLnRyYWl0X3R5cGUgPT09ICJBTVAiKT8udmFsdWUgfHwgIiIpIDogIiIsDQogICAgICAgICAgICAgICAgQ2F0ZWdvcnk6IHRva2VuRGF0YS5hdHRyaWJ1dGVzID8gKHRva2VuRGF0YS5hdHRyaWJ1dGVzLmZpbmQoYSA9PiBhLnRyYWl0X3R5cGUgPT09ICJDYXRlZ29yeSIpPy52YWx1ZSB8fCAiIikgOiAiIiwNCiAgICAgICAgICAgICAgICBDbGFzczogdG9rZW5EYXRhLmF0dHJpYnV0ZXMgPyAodG9rZW5EYXRhLmF0dHJpYnV0ZXMuZmluZChhID0+IGEudHJhaXRfdHlwZSA9PT0gIkNsYXNzIik/LnZhbHVlIHx8ICIiKSA6ICIiLA0KICAgICAgICAgICAgICAgICJFQUEgKCUpIjogdG9rZW5EYXRhLmF0dHJpYnV0ZXMgPyAodG9rZW5EYXRhLmF0dHJpYnV0ZXMuZmluZChhID0+IGEudHJhaXRfdHlwZSA9PT0gIkVBQSAoJSkiKT8udmFsdWUgfHwgIiIpIDogIiIsDQogICAgICAgICAgICAgICAgIk1hdHVyaXR5X0RhdGVfRm10IjogbG9jYWxNYXR1cml0eSwNCiAgICAgICAgICAgICAgICAiTWF0dXJpdHkgVVRDIjogdXRjTWF0dXJpdHksDQogICAgICAgICAgICAgICAgVGVybTogdG9rZW5EYXRhLmF0dHJpYnV0ZXMgPyAodG9rZW5EYXRhLmF0dHJpYnV0ZXMuZmluZChhID0+IGEudHJhaXRfdHlwZSA9PT0gIlRlcm0iKT8udmFsdWUgfHwgIiIpIDogIiIsDQogICAgICAgICAgICAgICAgVk1VczogdG9rZW5EYXRhLmF0dHJpYnV0ZXMgPyAodG9rZW5EYXRhLmF0dHJpYnV0ZXMuZmluZChhID0+IGEudHJhaXRfdHlwZSA9PT0gIlZNVXMiKT8udmFsdWUgfHwgIiIpIDogIiIsDQogICAgICAgICAgICAgICAgIlhFTiBCdXJuZWQiOiB0b2tlbkRhdGEuYXR0cmlidXRlcyA/ICh0b2tlbkRhdGEuYXR0cmlidXRlcy5maW5kKGEgPT4gYS50cmFpdF90eXBlID09PSAiWEVOIEJ1cm5lZCIpPy52YWx1ZSB8fCAiIikgOiAiIiwNCiAgICAgICAgICAgICAgICByZWRlZW1lZDogbWludEluZm8ucmVkZWVtZWQsDQogICAgICAgICAgICAgICAgbWF0dXJpdHlEYXRlT25seTogbWF0dXJpdHlLZXksDQogICAgICAgICAgICAgICAgTWF0dXJpdHlfVGltZXN0YW1wOiBOdW1iZXIobWludEluZm8ubWF0dXJpdHlUcyksDQogICAgICAgICAgICAgICAgYW1wOiBtaW50SW5mby5hbXAsDQogICAgICAgICAgICAgICAgYXBleDogbWludEluZm8uYXBleCwNCiAgICAgICAgICAgICAgICBjUmFuazogdG9rZW5EYXRhLmF0dHJpYnV0ZXMgPyAodG9rZW5EYXRhLmF0dHJpYnV0ZXMuZmluZChhID0+IGEudHJhaXRfdHlwZSA9PT0gImNSYW5rIik/LnZhbHVlIHx8ICIiKSA6ICIiLA0KICAgICAgICAgICAgICAgIGNvbGxlY3RvcjogbWludEluZm8uY29sbGVjdG9yLA0KICAgICAgICAgICAgICAgIGVhYTogbWludEluZm8uZWFhLA0KICAgICAgICAgICAgICAgIGxpbWl0ZWQ6IG1pbnRJbmZvLmxpbWl0ZWQsDQogICAgICAgICAgICAgICAgbWF0dXJpdHlUczogbWludEluZm8ubWF0dXJpdHlUcywNCiAgICAgICAgICAgICAgICBuZnRDbGFzczogbWludEluZm8ubmZ0Q2xhc3MsDQogICAgICAgICAgICAgICAgcmFuazogbWludEluZm8ucmFuaywNCiAgICAgICAgICAgICAgICB0ZXJtOiBtaW50SW5mby50ZXJtLA0KICAgICAgICAgICAgICAgIG93bmVyOiBhZGRyDQogICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgIC8vIEF0dGFjaCBpbXBvcnRhbnQgZmxhZ3MvZmllbGRzDQogICAgICAgICAgICAgIHRyeSB7IGRldGFpbC5vd25lciA9IGFkZHI7IH0gY2F0Y2goXyl7fQ0KICAgICAgICAgICAgICB0cnkgeyBkZXRhaWwucmVkZWVtZWQgPSBOdW1iZXIobWludEluZm8ucmVkZWVtZWQpfHwwOyB9IGNhdGNoKF8pe30NCiAgICAgICAgICAgICAgLy8gZGVmYXVsdCBhY3Rpb25zIGNvbnRhaW5lcg0KICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGV0YWlsLmFjdGlvbnMpKSBkZXRhaWwuYWN0aW9ucyA9IFtdOw0KICAgICAgICAgICAgICBhd2FpdCBzYXZlKGRiLCBkZXRhaWwpOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgeyAvKiB0cnkgbmV4dCBSUEMgKi8gfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgIGNvbnNvbGUud2FybigiRmFpbGVkIHRva2VuIiwgdG9rZW5JZCwgZSk7DQogICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgcHJvY2Vzc2VkKys7DQogICAgICAgICAgaWYgKHByb2dyZXNzKSBwcm9ncmVzcy52YWx1ZSA9IHByb2Nlc3NlZDsNCiAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOw0KICAgICAgICAgIGlmIChub3cgLSBfbGFzdFVpID4gMzAwKSB7DQogICAgICAgICAgICBpZiAod2luZG93LnByb2dyZXNzVUkpIHdpbmRvdy5wcm9ncmVzc1VJLnNldFN0YWdlKCdQcm9jZXNzaW5nIFhFTkZUcycsIHByb2Nlc3NlZCwgdG9rZW5JZHMubGVuZ3RoKTsNCiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSAobm93IC0gX3N0YXJ0ZWRBdCkgLyAxMDAwOw0KICAgICAgICAgICAgY29uc3QgcmF0ZSA9IHByb2Nlc3NlZCAvIE1hdGgubWF4KDEsIGVsYXBzZWQpOw0KICAgICAgICAgICAgY29uc3QgcmVtYWluID0gTWF0aC5tYXgoMCwgdG9rZW5JZHMubGVuZ3RoIC0gcHJvY2Vzc2VkKTsNCiAgICAgICAgICAgIGNvbnN0IGV0YSA9IHJhdGUgPiAwID8gcmVtYWluIC8gcmF0ZSA6IDA7DQogICAgICAgICAgICBpZiAod2luZG93LnByb2dyZXNzVUkpIHdpbmRvdy5wcm9ncmVzc1VJLnNldEV0YShldGEpOw0KICAgICAgICAgICAgX2xhc3RVaSA9IG5vdzsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBDYWxsIHVuaWZpZWQgcmVmcmVzaCBpZiBwcmVzZW50DQogICAgaWYgKHR5cGVvZiB3aW5kb3cucmVmcmVzaFVuaWZpZWQgPT09ICJmdW5jdGlvbiIpIHsNCiAgICAgIHRyeSB7IGF3YWl0IHdpbmRvdy5yZWZyZXNoVW5pZmllZCgpOyB9IGNhdGNoIHt9DQogICAgfQ0KDQoNCiAgICB0b2tlblByb2dyZXNzVGV4dC50ZXh0Q29udGVudCA9ICJBZGRyZXNzIHNjYW5uaW5nIGNvbXBsZXRlLiI7DQogICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAvLyBPbmx5IGhpZGUgdGhlIGNvbnRhaW5lciBpZiB3ZSBhcmUgTk9UIHBhcnQgb2YgYSAiU2NhbiBBbGwiIHNlcXVlbmNlLg0KICAgICAgaWYgKCF3aW5kb3cuX19zY2FuQWxsQWN0aXZlKSB7DQogICAgICAgIGNvbnN0IGF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZHJlc3NQcm9ncmVzc1RleHQiKTsNCiAgICAgICAgY29uc3QgdHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9rZW5Qcm9ncmVzc1RleHQiKTsNCiAgICAgICAgaWYgKGF0KSBhdC50ZXh0Q29udGVudCA9ICIiOw0KICAgICAgICBpZiAodHQpIHR0LnRleHRDb250ZW50ID0gIiI7DQogICAgICAgIHdpbmRvdy5wcm9ncmVzc1VJPy5zaG93KGZhbHNlKTsNCiAgICAgIH0NCiAgICB9LCAyMDAwKTsNCg0KICB9DQoNCg0KDQogIC8vIEV4cG9ydA0KICB3aW5kb3cueGVuZnQgPSB7DQogICAgQ09OVFJBQ1RfQUREUkVTUywNCiAgICBvcGVuREIsDQogICAgZ2V0QWxsLA0KICAgIHNjYW4sDQogIH07DQp9KSgpOw0KDQo=',
            'ABI/cointool-ABI.js': 'Y29uc3QgY29pbnRvb2xBYmkgPSBbeyJpbnB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJwYXlhYmxlIiwidHlwZSI6ImNvbnN0cnVjdG9yIn0seyJzdGF0ZU11dGFiaWxpdHkiOiJwYXlhYmxlIiwidHlwZSI6ImZhbGxiYWNrIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoiYSIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJieXRlcyIsIm5hbWUiOiJkYXRhIiwidHlwZSI6ImJ5dGVzIn1dLCJuYW1lIjoiYyIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJwYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoiYSIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJieXRlcyIsIm5hbWUiOiJkYXRhIiwidHlwZSI6ImJ5dGVzIn1dLCJuYW1lIjoiY0tpbGwiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5IjoicGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Il90b2tlbiIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiY2xhaW1Ub2tlbnMiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImEiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYnl0ZXMiLCJuYW1lIjoiZGF0YSIsInR5cGUiOiJieXRlcyJ9XSwibmFtZSI6ImQiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5IjoicGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImEiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYnl0ZXMiLCJuYW1lIjoiZGF0YSIsInR5cGUiOiJieXRlcyJ9XSwibmFtZSI6ImRLaWxsIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6InBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NltdIiwibmFtZSI6ImEiLCJ0eXBlIjoidWludDI1NltdIn0seyJpbnRlcm5hbFR5cGUiOiJieXRlcyIsIm5hbWUiOiJkYXRhIiwidHlwZSI6ImJ5dGVzIn0seyJpbnRlcm5hbFR5cGUiOiJieXRlcyIsIm5hbWUiOiJfc2FsdCIsInR5cGUiOiJieXRlcyJ9XSwibmFtZSI6ImYiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5IjoicGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6ImsiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJieXRlcyIsIm5hbWUiOiIiLCJ0eXBlIjoiYnl0ZXMifV0sIm5hbWUiOiJtYXAiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG90YWwiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoiYnl0ZXMiLCJuYW1lIjoiZGF0YSIsInR5cGUiOiJieXRlcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYnl0ZXMiLCJuYW1lIjoiX3NhbHQiLCJ0eXBlIjoiYnl0ZXMifV0sIm5hbWUiOiJ0Iiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6InBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NltdIiwibmFtZSI6ImEiLCJ0eXBlIjoidWludDI1NltdIn0seyJpbnRlcm5hbFR5cGUiOiJieXRlcyIsIm5hbWUiOiJkYXRhIiwidHlwZSI6ImJ5dGVzIn0seyJpbnRlcm5hbFR5cGUiOiJieXRlcyIsIm5hbWUiOiJfc2FsdCIsInR5cGUiOiJieXRlcyJ9XSwibmFtZSI6InRfIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6InBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7InN0YXRlTXV0YWJpbGl0eSI6InBheWFibGUiLCJ0eXBlIjoicmVjZWl2ZSJ9XTsK',
        'ABI/xen-ABI.js': 'Ly8gRnVsbCBYRU4gY29udHJhY3QgQUJJIChFVEggbWFpbm5ldCAweDA2NDUwZEVlN0ZEMkZiOEUzOTA2MTQzNEJBYkNGQzA1NTk5YTZGYjgpCi8vIEV4cG9zZXM6IHdpbmRvdy54ZW5BYmkKd2luZG93LnhlbkFiaSA9IFt7ImlucHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiY29uc3RydWN0b3IifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6dHJ1ZSwiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJvd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InNwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidmFsdWUiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IkFwcHJvdmFsIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJyZXdhcmRBbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6Ik1pbnRDbGFpbWVkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifSx7ImluZGV4ZWQiOmZhbHNlLCJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InJhbmsiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IlJhbmtDbGFpbWVkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJhbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW5kZXhlZCI6ZmFsc2UsImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiU3Rha2VkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoiZnJvbSIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOmZhbHNlLCJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJUcmFuc2ZlciIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InVzZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYW1vdW50IiwidHlwZSI6InVpbnQyNTYifSx7ImluZGV4ZWQiOmZhbHNlLCJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InJld2FyZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiV2l0aGRyYXduIiwidHlwZSI6ImV2ZW50In0seyJpbnB1dHMiOltdLCJuYW1lIjoiQVVUSE9SUyIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiREFZU19JTl9ZRUFSIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IkVBQV9QTV9TVEFSVCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJFQUFfUE1fU1RFUCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJFQUFfUkFOS19TVEVQIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IkdFTkVTSVNfUkFOSyIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJNQVhfUEVOQUxUWV9QQ1QiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiTUFYX1RFUk1fRU5EIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6Ik1BWF9URVJNX1NUQVJUIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6Ik1JTl9URVJNIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IlJFV0FSRF9BTVBMSUZJRVJfRU5EIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IlJFV0FSRF9BTVBMSUZJRVJfU1RBUlQiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiU0VDT05EU19JTl9EQVkiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiVEVSTV9BTVBMSUZJRVIiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiVEVSTV9BTVBMSUZJRVJfVEhSRVNIT0xEIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IldJVEhEUkFXQUxfV0lORE9XX0RBWVMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiWEVOX0FQWV9EQVlTX1NURVAiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiWEVOX0FQWV9FTkQiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiWEVOX0FQWV9TVEFSVCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJYRU5fTUlOX0JVUk4iLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiWEVOX01JTl9TVEFLRSIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJhY3RpdmVNaW50ZXJzIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6ImFjdGl2ZVN0YWtlcyIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJvd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InNwZW5kZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImFsbG93YW5jZSIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJzcGVuZGVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYW1vdW50IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJhcHByb3ZlIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImFjY291bnQiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImJhbGFuY2VPZiIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ1c2VyIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYW1vdW50IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJidXJuIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJjbGFpbU1pbnRSZXdhcmQiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im90aGVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoicGN0IiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJjbGFpbU1pbnRSZXdhcmRBbmRTaGFyZSIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoicGN0IiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiY2xhaW1NaW50UmV3YXJkQW5kU3Rha2UiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRlcm0iLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImNsYWltUmFuayIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiZGVjaW1hbHMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50OCIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDgifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJzcGVuZGVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoic3VidHJhY3RlZFZhbHVlIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJkZWNyZWFzZUFsbG93YW5jZSIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6ImJvb2wiLCJuYW1lIjoiIiwidHlwZSI6ImJvb2wifV0sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJnZW5lc2lzVHMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiZ2V0Q3VycmVudEFNUCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJnZXRDdXJyZW50QVBZIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6ImdldEN1cnJlbnRFQUFSIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6ImdldEN1cnJlbnRNYXhUZXJtIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InJhbmtEZWx0YSIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImFtcGxpZmllciIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRlcm0iLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJlYWEiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImdldEdyb3NzUmV3YXJkIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoicHVyZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6ImdldFVzZXJNaW50Iiwib3V0cHV0cyI6W3siY29tcG9uZW50cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ1c2VyIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6Im1hdHVyaXR5VHMiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJyYW5rIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYW1wbGlmaWVyIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiZWFhUmF0ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJpbnRlcm5hbFR5cGUiOiJzdHJ1Y3QgWEVOQ3J5cHRvLk1pbnRJbmZvIiwibmFtZSI6IiIsInR5cGUiOiJ0dXBsZSJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6ImdldFVzZXJTdGFrZSIsIm91dHB1dHMiOlt7ImNvbXBvbmVudHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6Im1hdHVyaXR5VHMiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJhbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJhcHkiLCJ0eXBlIjoidWludDI1NiJ9XSwiaW50ZXJuYWxUeXBlIjoic3RydWN0IFhFTkNyeXB0by5TdGFrZUluZm8iLCJuYW1lIjoiIiwidHlwZSI6InR1cGxlIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiZ2xvYmFsUmFuayIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJzcGVuZGVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYWRkZWRWYWx1ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiaW5jcmVhc2VBbGxvd2FuY2UiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJib29sIiwibmFtZSI6IiIsInR5cGUiOiJib29sIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoibmFtZSIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYW1vdW50IiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoic3Rha2UiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6InN5bWJvbCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoidG90YWxTdXBwbHkiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoidG90YWxYZW5TdGFrZWQiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJhbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InRyYW5zZmVyIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImFtb3VudCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidHJhbnNmZXJGcm9tIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoidXNlckJ1cm5zIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoidXNlck1pbnRzIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ1c2VyIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6Im1hdHVyaXR5VHMiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJyYW5rIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYW1wbGlmaWVyIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiZWFhUmF0ZSIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJ1c2VyU3Rha2VzIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoibWF0dXJpdHlUcyIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImFtb3VudCIsInR5cGUiOiJ1aW50MjU2In0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImFweSIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoid2l0aGRyYXciLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9XTsK',
        'ABI/xenft-ABI.js': 'Ly8gRnVsbCBYRU5GVCAoVG9ycmVudCkgRVJDLTcyMSBBQkkgKDB4MGEyNTI2NjNEQkNjMGIwNzMwNjNENjQyMGE0MDMxOWU0MzhDZmE1OSkKLy8gRXhwb3Nlczogd2luZG93LnhlbmZ0QWJpCndpbmRvdy54ZW5mdEFiaSA9IFt7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ4ZW5DcnlwdG9fIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTZbXSIsIm5hbWUiOiJidXJuUmF0ZXNfIiwidHlwZSI6InVpbnQyNTZbXSJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NltdIiwibmFtZSI6InRva2VuTGltaXRzXyIsInR5cGUiOiJ1aW50MjU2W10ifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoic3RhcnRCbG9ja051bWJlcl8iLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJmb3J3YXJkZXJfIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoicm95YWx0eVJlY2VpdmVyXyIsInR5cGUiOiJhZGRyZXNzIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImNvbnN0cnVjdG9yIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoib3BlcmF0b3IiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6Ik9wZXJhdG9yTm90QWxsb3dlZCIsInR5cGUiOiJlcnJvciJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im93bmVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoiYXBwcm92ZWQiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6dHJ1ZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJBcHByb3ZhbCIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im93bmVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoib3BlcmF0b3IiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsImludGVybmFsVHlwZSI6ImJvb2wiLCJuYW1lIjoiYXBwcm92ZWQiLCJ0eXBlIjoiYm9vbCJ9XSwibmFtZSI6IkFwcHJvdmFsRm9yQWxsIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifSx7ImluZGV4ZWQiOmZhbHNlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJFbmRUb3JyZW50IiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InhlbkNvbnRyYWN0IiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG9rZW5Db250cmFjdCIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ4ZW5BbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW5kZXhlZCI6ZmFsc2UsImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5BbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IlJlZGVlbWVkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJjb3VudCIsInR5cGUiOiJ1aW50MjU2In0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJTdGFydFRvcnJlbnQiLCJ0eXBlIjoiZXZlbnQifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6dHJ1ZSwiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJmcm9tIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6dHJ1ZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJUcmFuc2ZlciIsInR5cGUiOiJldmVudCJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IkFVVEhPUlMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJzdHJpbmciLCJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IkJMQUNLT1VUX1RFUk0iLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiQ09NTU9OX0NBVEVHT1JZX0NPVU5URVIiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiTElNSVRFRF9DQVRFR09SWV9USU1FX1RIUkVTSE9MRCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJPUEVSQVRPUl9GSUxURVJfUkVHSVNUUlkiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJjb250cmFjdCBJT3BlcmF0b3JGaWx0ZXJSZWdpc3RyeSIsIm5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IlBPV0VSX0dST1VQX1NJWkUiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiUk9ZQUxUWV9CUCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJTUEVDSUFMX0NBVEVHT1JJRVNfVk1VX1RIUkVTSE9MRCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0cnVzdGVkRm9yd2FyZGVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJhZGRGb3J3YXJkZXIiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im9wZXJhdG9yIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYXBwcm92ZSIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoib3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImJhbGFuY2VPZiIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImJ1bGtDbGFpbU1pbnRSZXdhcmQiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImNvdW50IiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYnVsa0NsYWltUmFuayIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiY291bnQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYnVybmluZyIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYnVsa0NsYWltUmFua0xpbWl0ZWQiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImJ1cm4iLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJjYWxsQ2xhaW1NaW50UmV3YXJkIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJjYWxsQ2xhaW1SYW5rIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJnZW5lc2lzVHMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiZ2V0QXBwcm92ZWQiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiaXNBcGV4Iiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiJhcGV4IiwidHlwZSI6ImJvb2wifV0sInN0YXRlTXV0YWJpbGl0eSI6InB1cmUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJvd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im9wZXJhdG9yIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJpc0FwcHJvdmVkRm9yQWxsIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZvcndhcmRlciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiaXNUcnVzdGVkRm9yd2FyZGVyIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoibWludEluZm8iLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoibmFtZSIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImJ1cm5lZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoib25Ub2tlbkJ1cm5lZCIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoib3duZWRUb2tlbnMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2W10iLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTZbXSJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6Im93bmVyIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6Im93bmVyT2YiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoicG93ZXJEb3duIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJzYWxlUHJpY2UiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InJveWFsdHlJbmZvIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJyZWNlaXZlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InJveWFsdHlBbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNhZmVUcmFuc2ZlckZyb20iLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoiYnl0ZXMiLCJuYW1lIjoiZGF0YSIsInR5cGUiOiJieXRlcyJ9XSwibmFtZSI6InNhZmVUcmFuc2ZlckZyb20iLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im9wZXJhdG9yIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6ImJvb2wiLCJuYW1lIjoiYXBwcm92ZWQiLCJ0eXBlIjoiYm9vbCJ9XSwibmFtZSI6InNldEFwcHJvdmFsRm9yQWxsIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNwZWNpYWxDbGFzc2VzQnVyblJhdGVzIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoic3BlY2lhbENsYXNzZXNDb3VudGVycyIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNwZWNpYWxDbGFzc2VzVG9rZW5MaW1pdHMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoic3RhcnRCbG9ja051bWJlciIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYnl0ZXM0IiwibmFtZSI6ImludGVyZmFjZUlkIiwidHlwZSI6ImJ5dGVzNCJ9XSwibmFtZSI6InN1cHBvcnRzSW50ZXJmYWNlIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6InN5bWJvbCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoidG9rZW5JZENvdW50ZXIiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidG9rZW5VUkkiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJzdHJpbmciLCJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InRyYW5zZmVyRnJvbSIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJ2bXVDb3VudCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InhlbkJ1cm5lZCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJ4ZW5DcnlwdG8iLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJjb250cmFjdCBYRU5DcnlwdG8iLCJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifV07Cg==',
        'ABI/xenft-stake-ABI.js': 'Ly8gRnVsbCBTdGFrZSBYRU5GVCBFUkMtNzIxIEFCSSAoMHhmRWRBMDNiOTE1MTREMzFiNDM1ZDRFMTUxOUZkOWU2OTlDMjlCYkZDKQovLyBFeHBvc2VzOiB3aW5kb3cueGVuZnRTdGFrZUFiaQp3aW5kb3cueGVuZnRTdGFrZUFiaSA9IFt7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ4ZW5DcnlwdG9fIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTZbXSIsIm5hbWUiOiJidXJuUmF0ZXNfIiwidHlwZSI6InVpbnQyNTZbXSJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NltdIiwibmFtZSI6InRva2VuTGltaXRzXyIsInR5cGUiOiJ1aW50MjU2W10ifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoic3RhcnRCbG9ja051bWJlcl8iLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJmb3J3YXJkZXJfIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoicm95YWx0eVJlY2VpdmVyXyIsInR5cGUiOiJhZGRyZXNzIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImNvbnN0cnVjdG9yIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoib3BlcmF0b3IiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6Ik9wZXJhdG9yTm90QWxsb3dlZCIsInR5cGUiOiJlcnJvciJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im93bmVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoiYXBwcm92ZWQiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6dHJ1ZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJBcHByb3ZhbCIsInR5cGUiOiJldmVudCJ9LHsiYW5vbnltb3VzIjpmYWxzZSwiaW5wdXRzIjpbeyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im93bmVyIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoib3BlcmF0b3IiLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6ZmFsc2UsImludGVybmFsVHlwZSI6ImJvb2wiLCJuYW1lIjoiYXBwcm92ZWQiLCJ0eXBlIjoiYm9vbCJ9XSwibmFtZSI6IkFwcHJvdmFsRm9yQWxsIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifSx7ImluZGV4ZWQiOmZhbHNlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJFbmRUb3JyZW50IiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjp0cnVlLCJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InhlbkNvbnRyYWN0IiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG9rZW5Db250cmFjdCIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ4ZW5BbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW5kZXhlZCI6ZmFsc2UsImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5BbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6IlJlZGVlbWVkIiwidHlwZSI6ImV2ZW50In0seyJhbm9ueW1vdXMiOmZhbHNlLCJpbnB1dHMiOlt7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJjb3VudCIsInR5cGUiOiJ1aW50MjU2In0seyJpbmRleGVkIjpmYWxzZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJTdGFydFRvcnJlbnQiLCJ0eXBlIjoiZXZlbnQifSx7ImFub255bW91cyI6ZmFsc2UsImlucHV0cyI6W3siaW5kZXhlZCI6dHJ1ZSwiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJmcm9tIiwidHlwZSI6ImFkZHJlc3MifSx7ImluZGV4ZWQiOnRydWUsImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW5kZXhlZCI6dHJ1ZSwiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJUcmFuc2ZlciIsInR5cGUiOiJldmVudCJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IkFVVEhPUlMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJzdHJpbmciLCJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IkJMQUNLT1VUX1RFUk0iLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiQ09NTU9OX0NBVEVHT1JZX0NPVU5URVIiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiTElNSVRFRF9DQVRFR09SWV9USU1FX1RIUkVTSE9MRCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJPUEVSQVRPUl9GSUxURVJfUkVHSVNUUlkiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJjb250cmFjdCBJT3BlcmF0b3JGaWx0ZXJSZWdpc3RyeSIsIm5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6IlBPV0VSX0dST1VQX1NJWkUiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoiUk9ZQUxUWV9CUCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJTUEVDSUFMX0NBVEVHT1JJRVNfVk1VX1RIUkVTSE9MRCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0cnVzdGVkRm9yd2FyZGVyIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJhZGRGb3J3YXJkZXIiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im9wZXJhdG9yIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYXBwcm92ZSIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoib3duZXIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImJhbGFuY2VPZiIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0b2tlbklkIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidG8iLCJ0eXBlIjoiYWRkcmVzcyJ9XSwibmFtZSI6ImJ1bGtDbGFpbU1pbnRSZXdhcmQiLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImNvdW50IiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidGVybSIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYnVsa0NsYWltUmFuayIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiY291bnQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifSx7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiYnVybmluZyIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiYnVsa0NsYWltUmFua0xpbWl0ZWQiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6ImJ1cm4iLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6InRvIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJjYWxsQ2xhaW1NaW50UmV3YXJkIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJ0ZXJtIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJjYWxsQ2xhaW1SYW5rIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJnZW5lc2lzVHMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiZ2V0QXBwcm92ZWQiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoiaXNBcGV4Iiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiJhcGV4IiwidHlwZSI6ImJvb2wifV0sInN0YXRlTXV0YWJpbGl0eSI6InB1cmUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJvd25lciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im9wZXJhdG9yIiwidHlwZSI6ImFkZHJlc3MifV0sIm5hbWUiOiJpc0FwcHJvdmVkRm9yQWxsIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZvcndhcmRlciIsInR5cGUiOiJhZGRyZXNzIn1dLCJuYW1lIjoiaXNUcnVzdGVkRm9yd2FyZGVyIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoibWludEluZm8iLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoibmFtZSIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6ImFkZHJlc3MiLCJuYW1lIjoidXNlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6ImJ1cm5lZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoib25Ub2tlbkJ1cm5lZCIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoib3duZWRUb2tlbnMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2W10iLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTZbXSJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6Im93bmVyIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiIiLCJ0eXBlIjoiYWRkcmVzcyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6Im93bmVyT2YiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6IiIsInR5cGUiOiJhZGRyZXNzIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoicG93ZXJEb3duIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiJzYWxlUHJpY2UiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InJveWFsdHlJbmZvIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJyZWNlaXZlciIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InJveWFsdHlBbW91bnQiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNhZmVUcmFuc2ZlckZyb20iLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9LHsiaW50ZXJuYWxUeXBlIjoiYnl0ZXMiLCJuYW1lIjoiZGF0YSIsInR5cGUiOiJieXRlcyJ9XSwibmFtZSI6InNhZmVUcmFuc2ZlckZyb20iLCJvdXRwdXRzIjpbXSwic3RhdGVNdXRhYmlsaXR5Ijoibm9ucGF5YWJsZSIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6Im9wZXJhdG9yIiwidHlwZSI6ImFkZHJlc3MifSx7ImludGVybmFsVHlwZSI6ImJvb2wiLCJuYW1lIjoiYXBwcm92ZWQiLCJ0eXBlIjoiYm9vbCJ9XSwibmFtZSI6InNldEFwcHJvdmFsRm9yQWxsIiwib3V0cHV0cyI6W10sInN0YXRlTXV0YWJpbGl0eSI6Im5vbnBheWFibGUiLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNwZWNpYWxDbGFzc2VzQnVyblJhdGVzIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoic3BlY2lhbENsYXNzZXNDb3VudGVycyIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InNwZWNpYWxDbGFzc2VzVG9rZW5MaW1pdHMiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoic3RhcnRCbG9ja051bWJlciIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYnl0ZXM0IiwibmFtZSI6ImludGVyZmFjZUlkIiwidHlwZSI6ImJ5dGVzNCJ9XSwibmFtZSI6InN1cHBvcnRzSW50ZXJmYWNlIiwib3V0cHV0cyI6W3siaW50ZXJuYWxUeXBlIjoiYm9vbCIsIm5hbWUiOiIiLCJ0eXBlIjoiYm9vbCJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbXSwibmFtZSI6InN5bWJvbCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InN0cmluZyIsIm5hbWUiOiIiLCJ0eXBlIjoic3RyaW5nIn1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOltdLCJuYW1lIjoidG9rZW5JZENvdW50ZXIiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6IiIsInR5cGUiOiJ1aW50MjU2In1dLCJzdGF0ZU11dGFiaWxpdHkiOiJ2aWV3IiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoidG9rZW5JZCIsInR5cGUiOiJ1aW50MjU2In1dLCJuYW1lIjoidG9rZW5VUkkiLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJzdHJpbmciLCJuYW1lIjoiIiwidHlwZSI6InN0cmluZyJ9XSwic3RhdGVNdXRhYmlsaXR5IjoidmlldyIsInR5cGUiOiJmdW5jdGlvbiJ9LHsiaW5wdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJhZGRyZXNzIiwibmFtZSI6ImZyb20iLCJ0eXBlIjoiYWRkcmVzcyJ9LHsiaW50ZXJuYWxUeXBlIjoiYWRkcmVzcyIsIm5hbWUiOiJ0byIsInR5cGUiOiJhZGRyZXNzIn0seyJpbnRlcm5hbFR5cGUiOiJ1aW50MjU2IiwibmFtZSI6InRva2VuSWQiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InRyYW5zZmVyRnJvbSIsIm91dHB1dHMiOltdLCJzdGF0ZU11dGFiaWxpdHkiOiJub25wYXlhYmxlIiwidHlwZSI6ImZ1bmN0aW9uIn0seyJpbnB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sIm5hbWUiOiJ2bXVDb3VudCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W3siaW50ZXJuYWxUeXBlIjoidWludDI1NiIsIm5hbWUiOiIiLCJ0eXBlIjoidWludDI1NiJ9XSwibmFtZSI6InhlbkJ1cm5lZCIsIm91dHB1dHMiOlt7ImludGVybmFsVHlwZSI6InVpbnQyNTYiLCJuYW1lIjoiIiwidHlwZSI6InVpbnQyNTYifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifSx7ImlucHV0cyI6W10sIm5hbWUiOiJ4ZW5DcnlwdG8iLCJvdXRwdXRzIjpbeyJpbnRlcm5hbFR5cGUiOiJjb250cmFjdCBYRU5DcnlwdG8iLCJuYW1lIjoiIiwidHlwZSI6ImFkZHJlc3MifV0sInN0YXRlTXV0YWJpbGl0eSI6InZpZXciLCJ0eXBlIjoiZnVuY3Rpb24ifV07Cg==',
    }

def get_content_type(path):
    """Get content type based on file extension"""
    # Force correct MIME types - don't rely on mimetypes module
    path_lower = path.lower()
    
    if path_lower.endswith('.css'):
        return 'text/css; charset=utf-8'
    elif path_lower.endswith('.js'):
        return 'application/javascript; charset=utf-8'
    elif path_lower.endswith('.html'):
        return 'text/html; charset=utf-8'
    elif path_lower.endswith('.json'):
        return 'application/json; charset=utf-8'
    elif path_lower.endswith('.md'):
        return 'text/markdown; charset=utf-8'
    elif path_lower.endswith('.png'):
        return 'image/png'
    elif path_lower.endswith('.jpg') or path_lower.endswith('.jpeg'):
        return 'image/jpeg'
    elif path_lower.endswith('.gif'):
        return 'image/gif'
    elif path_lower.endswith('.svg'):
        return 'image/svg+xml'
    elif path_lower.endswith('.ico'):
        return 'image/x-icon'
    elif path_lower.endswith('.woff'):
        return 'font/woff'
    elif path_lower.endswith('.woff2'):
        return 'font/woff2'
    elif path_lower.endswith('.ttf'):
        return 'font/ttf'
    else:
        return 'application/octet-stream'

def lambda_handler(event, context):
    """
    AWS Lambda handler for serving static files
    
    Handles:
    - Cache-busting query parameters (?v=123456)
    - URL fragments (#section)
    - /tracker/ base href prefix
    - Proper MIME types for CSS/JS/HTML/MD files
    - CORS headers
    """
    try:
        # Debug: log the entire event for troubleshooting
        print(f"Event: {json.dumps(event)}")
        
        # Get the path from the event - handle different API Gateway formats
        if 'rawPath' in event:
            path = event['rawPath']
        elif 'path' in event:
            path = event['path']
        elif 'pathParameters' in event and event['pathParameters'] and 'proxy' in event['pathParameters']:
            path = '/' + event['pathParameters']['proxy']
        else:
            path = '/'
        
        # Remove leading slash and decode URL
        if path.startswith('/'):
            path = path[1:]
        path = unquote(path)
        
        # Strip query parameters and fragments (cache busting like ?v=1234567890)
        if '?' in path:
            path = path.split('?')[0]
        if '#' in path:
            path = path.split('#')[0]
        
        # Handle /tracker/ prefix from base href
        if path.startswith('tracker/'):
            path = path[8:]  # Remove 'tracker/' prefix
        
        # Default to index.html for root path or empty path
        if path == '' or path == '/':
            path = 'index.html'
        
        print(f"Requested path: '{path}'")
        print(f"Available files: {list(STATIC_FILES.keys())}")
        
        # Check if file exists in our static files
        if path in STATIC_FILES:
            file_content = STATIC_FILES[path]
            content_type = get_content_type(path)
            
            print(f"Serving file: {path} with content-type: {content_type}")
            
            # Decode base64 content
            try:
                decoded_content = base64.b64decode(file_content).decode('utf-8')
                is_binary = False
            except UnicodeDecodeError:
                # Handle binary files
                decoded_content = base64.b64decode(file_content)
                is_binary = True
            
            # Prepare response headers
            headers = {
                'Content-Type': content_type,
                'Cache-Control': 'public, max-age=31536000' if path.startswith(('css/', 'js/', 'ABI/')) else 'public, max-age=300',
                'Access-Control-Allow-Origin': '*',
                'Access-Control-Allow-Methods': 'GET, HEAD, OPTIONS',
                'Access-Control-Allow-Headers': 'Content-Type, Authorization',
            }
            
            # Force correct content type header for CSS files
            if path.endswith('.css'):
                headers['Content-Type'] = 'text/css; charset=utf-8'
            elif path.endswith('.js'):
                headers['Content-Type'] = 'application/javascript; charset=utf-8'
            
            # Prepare response
            if is_binary:
                response = {
                    'statusCode': 200,
                    'headers': headers,
                    'body': base64.b64encode(decoded_content).decode('utf-8'),
                    'isBase64Encoded': True
                }
            else:
                response = {
                    'statusCode': 200,
                    'headers': headers,
                    'body': decoded_content,
                    'isBase64Encoded': False
                }
            
            return response
        
        # File not found - return proper 404 instead of index.html
        print(f"File not found: {path}")
        print(f"Available files in STATIC_FILES: {list(STATIC_FILES.keys())}")
        
        # If requesting a CSS file that's not found, ensure proper content type
        if path.endswith('.css'):
            content_type = 'text/css; charset=utf-8'
            body_content = f'/* File not found: {path} */'
        elif path.endswith('.js'):
            content_type = 'application/javascript; charset=utf-8'
            body_content = f'// File not found: {path}'
        elif path.endswith('.md'):
            content_type = 'text/markdown; charset=utf-8'
            body_content = f'# File not found: {path}'
        else:
            content_type = 'text/plain'
            body_content = f'File not found: {path}'
            
        return {
            'statusCode': 404,
            'headers': {
                'Content-Type': content_type,
                'Access-Control-Allow-Origin': '*',
            },
            'body': body_content,
            'isBase64Encoded': False
        }
        
    except Exception as e:
        print(f"Error: {str(e)}")
        return {
            'statusCode': 500,
            'headers': {
                'Content-Type': 'text/plain',
                'Access-Control-Allow-Origin': '*',
            },
            'body': f'Internal server error: {str(e)}',
            'isBase64Encoded': False
        }